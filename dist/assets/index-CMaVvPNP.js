function cA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E2(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var a0={exports:{}},Pc={},l0={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function dA(){if(Vb)return at;Vb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,v={};function C(V,ce,Te){this.props=V,this.context=ce,this.refs=v,this.updater=Te||S}C.prototype.isReactComponent={},C.prototype.setState=function(V,ce){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ce,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=C.prototype;function R(V,ce,Te){this.props=V,this.context=ce,this.refs=v,this.updater=Te||S}var D=R.prototype=new P;D.constructor=R,E(D,C.prototype),D.isPureReactComponent=!0;var U=Array.isArray,A=Object.prototype.hasOwnProperty,B={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function W(V,ce,Te){var Ce,Se={},Ne=null,Ee=null;if(ce!=null)for(Ce in ce.ref!==void 0&&(Ee=ce.ref),ce.key!==void 0&&(Ne=""+ce.key),ce)A.call(ce,Ce)&&!$.hasOwnProperty(Ce)&&(Se[Ce]=ce[Ce]);var ve=arguments.length-2;if(ve===1)Se.children=Te;else if(1<ve){for(var Ae=Array(ve),Le=0;Le<ve;Le++)Ae[Le]=arguments[Le+2];Se.children=Ae}if(V&&V.defaultProps)for(Ce in ve=V.defaultProps,ve)Se[Ce]===void 0&&(Se[Ce]=ve[Ce]);return{$$typeof:t,type:V,key:Ne,ref:Ee,props:Se,_owner:B.current}}function O(V,ce){return{$$typeof:t,type:V.type,key:ce,ref:V.ref,props:V.props,_owner:V._owner}}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function X(V){var ce={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Te){return ce[Te]})}var re=/\/+/g;function Q(V,ce){return typeof V=="object"&&V!==null&&V.key!=null?X(""+V.key):ce.toString(36)}function ue(V,ce,Te,Ce,Se){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var Ee=!1;if(V===null)Ee=!0;else switch(Ne){case"string":case"number":Ee=!0;break;case"object":switch(V.$$typeof){case t:case e:Ee=!0}}if(Ee)return Ee=V,Se=Se(Ee),V=Ce===""?"."+Q(Ee,0):Ce,U(Se)?(Te="",V!=null&&(Te=V.replace(re,"$&/")+"/"),ue(Se,ce,Te,"",function(Le){return Le})):Se!=null&&(M(Se)&&(Se=O(Se,Te+(!Se.key||Ee&&Ee.key===Se.key?"":(""+Se.key).replace(re,"$&/")+"/")+V)),ce.push(Se)),1;if(Ee=0,Ce=Ce===""?".":Ce+":",U(V))for(var ve=0;ve<V.length;ve++){Ne=V[ve];var Ae=Ce+Q(Ne,ve);Ee+=ue(Ne,ce,Te,Ae,Se)}else if(Ae=T(V),typeof Ae=="function")for(V=Ae.call(V),ve=0;!(Ne=V.next()).done;)Ne=Ne.value,Ae=Ce+Q(Ne,ve++),Ee+=ue(Ne,ce,Te,Ae,Se);else if(Ne==="object")throw ce=String(V),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return Ee}function ae(V,ce,Te){if(V==null)return V;var Ce=[],Se=0;return ue(V,Ce,"","",function(Ne){return ce.call(Te,Ne,Se++)}),Ce}function Z(V){if(V._status===-1){var ce=V._result;ce=ce(),ce.then(function(Te){(V._status===0||V._status===-1)&&(V._status=1,V._result=Te)},function(Te){(V._status===0||V._status===-1)&&(V._status=2,V._result=Te)}),V._status===-1&&(V._status=0,V._result=ce)}if(V._status===1)return V._result.default;throw V._result}var K={current:null},J={transition:null},ie={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:J,ReactCurrentOwner:B};function se(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:ae,forEach:function(V,ce,Te){ae(V,function(){ce.apply(this,arguments)},Te)},count:function(V){var ce=0;return ae(V,function(){ce++}),ce},toArray:function(V){return ae(V,function(ce){return ce})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},at.Component=C,at.Fragment=r,at.Profiler=i,at.PureComponent=R,at.StrictMode=n,at.Suspense=c,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,at.act=se,at.cloneElement=function(V,ce,Te){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ce=E({},V.props),Se=V.key,Ne=V.ref,Ee=V._owner;if(ce!=null){if(ce.ref!==void 0&&(Ne=ce.ref,Ee=B.current),ce.key!==void 0&&(Se=""+ce.key),V.type&&V.type.defaultProps)var ve=V.type.defaultProps;for(Ae in ce)A.call(ce,Ae)&&!$.hasOwnProperty(Ae)&&(Ce[Ae]=ce[Ae]===void 0&&ve!==void 0?ve[Ae]:ce[Ae])}var Ae=arguments.length-2;if(Ae===1)Ce.children=Te;else if(1<Ae){ve=Array(Ae);for(var Le=0;Le<Ae;Le++)ve[Le]=arguments[Le+2];Ce.children=ve}return{$$typeof:t,type:V.type,key:Se,ref:Ne,props:Ce,_owner:Ee}},at.createContext=function(V){return V={$$typeof:a,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:s,_context:V},V.Consumer=V},at.createElement=W,at.createFactory=function(V){var ce=W.bind(null,V);return ce.type=V,ce},at.createRef=function(){return{current:null}},at.forwardRef=function(V){return{$$typeof:u,render:V}},at.isValidElement=M,at.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:Z}},at.memo=function(V,ce){return{$$typeof:h,type:V,compare:ce===void 0?null:ce}},at.startTransition=function(V){var ce=J.transition;J.transition={};try{V()}finally{J.transition=ce}},at.unstable_act=se,at.useCallback=function(V,ce){return K.current.useCallback(V,ce)},at.useContext=function(V){return K.current.useContext(V)},at.useDebugValue=function(){},at.useDeferredValue=function(V){return K.current.useDeferredValue(V)},at.useEffect=function(V,ce){return K.current.useEffect(V,ce)},at.useId=function(){return K.current.useId()},at.useImperativeHandle=function(V,ce,Te){return K.current.useImperativeHandle(V,ce,Te)},at.useInsertionEffect=function(V,ce){return K.current.useInsertionEffect(V,ce)},at.useLayoutEffect=function(V,ce){return K.current.useLayoutEffect(V,ce)},at.useMemo=function(V,ce){return K.current.useMemo(V,ce)},at.useReducer=function(V,ce,Te){return K.current.useReducer(V,ce,Te)},at.useRef=function(V){return K.current.useRef(V)},at.useState=function(V){return K.current.useState(V)},at.useSyncExternalStore=function(V,ce,Te){return K.current.useSyncExternalStore(V,ce,Te)},at.useTransition=function(){return K.current.useTransition()},at.version="18.3.1",at}var qb;function Rd(){return qb||(qb=1,l0.exports=dA()),l0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function hA(){if(Wb)return Pc;Wb=1;var t=Rd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var p,g={},T=null,S=null;h!==void 0&&(T=""+h),c.key!==void 0&&(T=""+c.key),c.ref!==void 0&&(S=c.ref);for(p in c)n.call(c,p)&&!s.hasOwnProperty(p)&&(g[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:u,key:T,ref:S,props:g,_owner:i.current}}return Pc.Fragment=r,Pc.jsx=a,Pc.jsxs=a,Pc}var Gb;function On(){return Gb||(Gb=1,a0.exports=hA()),a0.exports}var L=On(),gf={},u0={exports:{}},Cn={},c0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function fA(){return Kb||(Kb=1,(function(t){function e(J,ie){var se=J.length;J.push(ie);e:for(;0<se;){var V=se-1>>>1,ce=J[V];if(0<i(ce,ie))J[V]=ie,J[se]=ce,se=V;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ie=J[0],se=J.pop();if(se!==ie){J[0]=se;e:for(var V=0,ce=J.length,Te=ce>>>1;V<Te;){var Ce=2*(V+1)-1,Se=J[Ce],Ne=Ce+1,Ee=J[Ne];if(0>i(Se,se))Ne<ce&&0>i(Ee,Se)?(J[V]=Ee,J[Ne]=se,V=Ne):(J[V]=Se,J[Ce]=se,V=Ce);else if(Ne<ce&&0>i(Ee,se))J[V]=Ee,J[Ne]=se,V=Ne;else break e}}return ie}function i(J,ie){var se=J.sortIndex-ie.sortIndex;return se!==0?se:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,g=null,T=3,S=!1,E=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(J){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=J)n(h),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=r(h)}}function U(J){if(v=!1,D(J),!E)if(r(c)!==null)E=!0,Z(A);else{var ie=r(h);ie!==null&&K(U,ie.startTime-J)}}function A(J,ie){E=!1,v&&(v=!1,P(W),W=-1),S=!0;var se=T;try{for(D(ie),g=r(c);g!==null&&(!(g.expirationTime>ie)||J&&!X());){var V=g.callback;if(typeof V=="function"){g.callback=null,T=g.priorityLevel;var ce=V(g.expirationTime<=ie);ie=t.unstable_now(),typeof ce=="function"?g.callback=ce:g===r(c)&&n(c),D(ie)}else n(c);g=r(c)}if(g!==null)var Te=!0;else{var Ce=r(h);Ce!==null&&K(U,Ce.startTime-ie),Te=!1}return Te}finally{g=null,T=se,S=!1}}var B=!1,$=null,W=-1,O=5,M=-1;function X(){return!(t.unstable_now()-M<O)}function re(){if($!==null){var J=t.unstable_now();M=J;var ie=!0;try{ie=$(!0,J)}finally{ie?Q():(B=!1,$=null)}}else B=!1}var Q;if(typeof R=="function")Q=function(){R(re)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ae=ue.port2;ue.port1.onmessage=re,Q=function(){ae.postMessage(null)}}else Q=function(){C(re,0)};function Z(J){$=J,B||(B=!0,Q())}function K(J,ie){W=C(function(){J(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){E||S||(E=!0,Z(A))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(J){switch(T){case 1:case 2:case 3:var ie=3;break;default:ie=T}var se=T;T=ie;try{return J()}finally{T=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var se=T;T=J;try{return ie()}finally{T=se}},t.unstable_scheduleCallback=function(J,ie,se){var V=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?V+se:V):se=V,J){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=se+ce,J={id:p++,callback:ie,priorityLevel:J,startTime:se,expirationTime:ce,sortIndex:-1},se>V?(J.sortIndex=se,e(h,J),r(c)===null&&J===r(h)&&(v?(P(W),W=-1):v=!0,K(U,se-V))):(J.sortIndex=ce,e(c,J),E||S||(E=!0,Z(A))),J},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(J){var ie=T;return function(){var se=T;T=ie;try{return J.apply(this,arguments)}finally{T=se}}}})(d0)),d0}var Xb;function pA(){return Xb||(Xb=1,c0.exports=fA()),c0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function mA(){if(Yb)return Cn;Yb=1;var t=Rd(),e=pA();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function T(o){return c.call(g,o)?!0:c.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function S(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function E(o,l,d,m){if(l===null||typeof l>"u"||S(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function v(o,l,d,m,x,k,F){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=k,this.removeEmptyString=F}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){C[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];C[l]=new v(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){C[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){C[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){C[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){C[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){C[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){C[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){C[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function R(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(P,R);C[l]=new v(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(P,R);C[l]=new v(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(P,R);C[l]=new v(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){C[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),C.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){C[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function D(o,l,d,m){var x=C.hasOwnProperty(l)?C[l]:null;(x!==null?x.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,d,x,m)&&(d=null),m||x===null?T(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):x.mustUseProperty?o[x.propertyName]=d===null?x.type===3?!1:"":d:(l=x.attributeName,m=x.attributeNamespace,d===null?o.removeAttribute(l):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),B=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),X=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),J=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var se=Object.assign,V;function ce(o){if(V===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);V=l&&l[1]||""}return`
`+V+o}var Te=!1;function Ce(o,l){if(!o||Te)return"";Te=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ye){var m=ye}Reflect.construct(o,[],l)}else{try{l.call()}catch(ye){m=ye}o.call(l.prototype)}else{try{throw Error()}catch(ye){m=ye}o()}}catch(ye){if(ye&&m&&typeof ye.stack=="string"){for(var x=ye.stack.split(`
`),k=m.stack.split(`
`),F=x.length-1,te=k.length-1;1<=F&&0<=te&&x[F]!==k[te];)te--;for(;1<=F&&0<=te;F--,te--)if(x[F]!==k[te]){if(F!==1||te!==1)do if(F--,te--,0>te||x[F]!==k[te]){var le=`
`+x[F].replace(" at new "," at ");return o.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",o.displayName)),le}while(1<=F&&0<=te);break}}}finally{Te=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?ce(o):""}function Se(o){switch(o.tag){case 5:return ce(o.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return o=Ce(o.type,!1),o;case 11:return o=Ce(o.type.render,!1),o;case 1:return o=Ce(o.type,!0),o;default:return""}}function Ne(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case $:return"Fragment";case B:return"Portal";case O:return"Profiler";case W:return"StrictMode";case Q:return"Suspense";case ue:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case X:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case re:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ae:return l=o.displayName||null,l!==null?l:Ne(o.type)||"Memo";case Z:l=o._payload,o=o._init;try{return Ne(o(l))}catch{}}return null}function Ee(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(l);case 8:return l===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ae(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Le(o){var l=Ae(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,k=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(F){m=""+F,k.call(this,F)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(F){m=""+F},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ze(o){o._valueTracker||(o._valueTracker=Le(o))}function lt(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Ae(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Yt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Pt(o,l){var d=l.checked;return se({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function sn(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=ve(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function wt(o,l){l=l.checked,l!=null&&D(o,"checked",l,!1)}function gr(o,l){wt(o,l);var d=ve(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?ur(o,l.type,d):l.hasOwnProperty("defaultValue")&&ur(o,l.type,ve(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function kt(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function ur(o,l,d){(l!=="number"||Yt(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Qe=Array.isArray;function rt(o,l,d,m){if(o=o.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=l.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&m&&(o[d].defaultSelected=!0)}else{for(d=""+ve(d),l=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,m&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function mt(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Rt(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(Qe(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:ve(d)}}function Sr(o,l){var d=ve(l.value),m=ve(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function qr(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function on(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?on(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Mr,nr=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,x){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,x)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Mr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Qt(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ht=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(o){ht.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Tr[l]=Tr[o]})});function Ss(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Tr.hasOwnProperty(o)&&Tr[o]?(""+l).trim():l+"px"}function ir(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=Ss(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,x):o[d]=x}}var ji=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ts(o,l){if(l){if(ji[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function ni(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function Cs(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var no=null,Es=null,j=null;function H(o){if(o=zn(o)){if(typeof no!="function")throw Error(r(280));var l=o.stateNode;l&&(l=fa(l),no(o.stateNode,o.type,l))}}function oe(o){Es?j?j.push(o):j=[o]:Es=o}function _e(){if(Es){var o=Es,l=j;if(j=Es=null,H(o),l)for(o=0;o<l.length;o++)H(l[o])}}function Pe(o,l){return o(l)}function Ye(){}var gt=!1;function yr(o,l,d){if(gt)return o(l,d);gt=!0;try{return Pe(o,l,d)}finally{gt=!1,(Es!==null||j!==null)&&(Ye(),_e())}}function Nr(o,l){var d=o.stateNode;if(d===null)return null;var m=fa(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Br=!1;if(u)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Br=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Br=!1}function Ln(o,l,d,m,x,k,F,te,le){var ye=Array.prototype.slice.call(arguments,3);try{l.apply(d,ye)}catch(ke){this.onError(ke)}}var Er=!1,Ot=null,Fr=!1,Mn=null,ii={onError:function(o){Er=!0,Ot=o}};function Dt(o,l,d,m,x,k,F,te,le){Er=!1,Ot=null,Ln.apply(ii,arguments)}function ws(o,l,d,m,x,k,F,te,le){if(Dt.apply(this,arguments),Er){if(Er){var ye=Ot;Er=!1,Ot=null}else throw Error(r(198));Fr||(Fr=!0,Mn=ye)}}function ot(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function qo(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Wo(o){if(ot(o)!==o)throw Error(r(188))}function Xa(o){var l=o.alternate;if(!l){if(l=ot(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,m=l;;){var x=d.return;if(x===null)break;var k=x.alternate;if(k===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===k.child){for(k=x.child;k;){if(k===d)return Wo(x),o;if(k===m)return Wo(x),l;k=k.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=k;else{for(var F=!1,te=x.child;te;){if(te===d){F=!0,d=x,m=k;break}if(te===m){F=!0,m=x,d=k;break}te=te.sibling}if(!F){for(te=k.child;te;){if(te===d){F=!0,d=k,m=x;break}if(te===m){F=!0,m=k,d=x;break}te=te.sibling}if(!F)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function Jd(o){return o=Xa(o),o!==null?Ui(o):null}function Ui(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Ui(o);if(l!==null)return l;o=o.sibling}return null}var Lt=e.unstable_scheduleCallback,Yu=e.unstable_cancelCallback,Ya=e.unstable_shouldYield,Im=e.unstable_requestPaint,qt=e.unstable_now,Pm=e.unstable_getCurrentPriorityLevel,Qa=e.unstable_ImmediatePriority,Ja=e.unstable_UserBlockingPriority,io=e.unstable_NormalPriority,Zd=e.unstable_LowPriority,eh=e.unstable_IdlePriority,Za=null,an=null;function el(o){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Za,o,void 0,(o.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:Xo,Go=Math.log,Ko=Math.LN2;function Xo(o){return o>>>=0,o===0?32:31-(Go(o)/Ko|0)|0}var zi=64,tl=4194304;function so(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function rl(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,x=o.suspendedLanes,k=o.pingedLanes,F=d&268435455;if(F!==0){var te=F&~x;te!==0?m=so(te):(k&=F,k!==0&&(m=so(k)))}else F=d&~x,F!==0?m=so(F):k!==0&&(m=so(k));if(m===0)return 0;if(l!==0&&l!==m&&(l&x)===0&&(x=m&-m,k=l&-l,x>=k||x===16&&(k&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-vn(l),x=1<<d,m|=o[d],l&=~x;return m}function Rm(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hi(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,x=o.expirationTimes,k=o.pendingLanes;0<k;){var F=31-vn(k),te=1<<F,le=x[F];le===-1?((te&d)===0||(te&m)!==0)&&(x[F]=Rm(te,l)):le<=l&&(o.expiredLanes|=te),k&=~te}}function oo(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function th(){var o=zi;return zi<<=1,(zi&4194240)===0&&(zi=64),o}function Yo(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function ks(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-vn(l),o[l]=d}function Nn(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var x=31-vn(d),k=1<<x;l[x]=0,m[x]=-1,o[x]=-1,d&=~k}}function Qu(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-vn(d),x=1<<m;x&l|o[m]&l&&(o[m]|=l),d&=~x}}var ct=0;function ao(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Qo,Vi,nl,Ju,il,Zu=!1,sl=[],qi=null,Bn=null,Ti=null,Jo=new Map,lo=new Map,Wi=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nh(o,l){switch(o){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Jo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(l.pointerId)}}function Gi(o,l,d,m,x,k){return o===null||o.nativeEvent!==k?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:k,targetContainers:[x]},l!==null&&(l=zn(l),l!==null&&Vi(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function ol(o,l,d,m,x){switch(l){case"focusin":return qi=Gi(qi,o,l,d,m,x),!0;case"dragenter":return Bn=Gi(Bn,o,l,d,m,x),!0;case"mouseover":return Ti=Gi(Ti,o,l,d,m,x),!0;case"pointerover":var k=x.pointerId;return Jo.set(k,Gi(Jo.get(k)||null,o,l,d,m,x)),!0;case"gotpointercapture":return k=x.pointerId,lo.set(k,Gi(lo.get(k)||null,o,l,d,m,x)),!0}return!1}function ec(o){var l=cr(o.target);if(l!==null){var d=ot(l);if(d!==null){if(l=d.tag,l===13){if(l=qo(d),l!==null){o.blockedOn=l,il(o.priority,function(){nl(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function al(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=rc(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);ro=m,d.target.dispatchEvent(m),ro=null}else return l=zn(d),l!==null&&Vi(l),o.blockedOn=d,!1;l.shift()}return!0}function ih(o,l,d){al(o)&&d.delete(l)}function sh(){Zu=!1,qi!==null&&al(qi)&&(qi=null),Bn!==null&&al(Bn)&&(Bn=null),Ti!==null&&al(Ti)&&(Ti=null),Jo.forEach(ih),lo.forEach(ih)}function uo(o,l){o.blockedOn===l&&(o.blockedOn=null,Zu||(Zu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sh)))}function Zo(o){function l(x){return uo(x,o)}if(0<sl.length){uo(sl[0],o);for(var d=1;d<sl.length;d++){var m=sl[d];m.blockedOn===o&&(m.blockedOn=null)}}for(qi!==null&&uo(qi,o),Bn!==null&&uo(Bn,o),Ti!==null&&uo(Ti,o),Jo.forEach(l),lo.forEach(l),d=0;d<Wi.length;d++)m=Wi[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<Wi.length&&(d=Wi[0],d.blockedOn===null);)ec(d),d.blockedOn===null&&Wi.shift()}var Ds=U.ReactCurrentBatchConfig,ll=!0;function Om(o,l,d,m){var x=ct,k=Ds.transition;Ds.transition=null;try{ct=1,tc(o,l,d,m)}finally{ct=x,Ds.transition=k}}function Lm(o,l,d,m){var x=ct,k=Ds.transition;Ds.transition=null;try{ct=4,tc(o,l,d,m)}finally{ct=x,Ds.transition=k}}function tc(o,l,d,m){if(ll){var x=rc(o,l,d,m);if(x===null)yn(o,l,m,ul,d),nh(o,m);else if(ol(x,o,l,d,m))m.stopPropagation();else if(nh(o,m),l&4&&-1<rh.indexOf(o)){for(;x!==null;){var k=zn(x);if(k!==null&&Qo(k),k=rc(o,l,d,m),k===null&&yn(o,l,m,ul,d),k===x)break;x=k}x!==null&&m.stopPropagation()}else yn(o,l,m,null,d)}}var ul=null;function rc(o,l,d,m){if(ul=null,o=Cs(m),o=cr(o),o!==null)if(l=ot(o),l===null)o=null;else if(d=l.tag,d===13){if(o=qo(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ul=o,null}function cl(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pm()){case Qa:return 1;case Ja:return 4;case io:case Zd:return 16;case eh:return 536870912;default:return 16}default:return 16}}var Ki=null,dl=null,As=null;function oh(){if(As)return As;var o,l=dl,d=l.length,m,x="value"in Ki?Ki.value:Ki.textContent,k=x.length;for(o=0;o<d&&l[o]===x[o];o++);var F=d-o;for(m=1;m<=F&&l[d-m]===x[k-m];m++);return As=x.slice(o,1<m?1-m:void 0)}function hl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function fl(){return!0}function ah(){return!1}function ln(o){function l(d,m,x,k,F){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=k,this.target=F,this.currentTarget=null;for(var te in o)o.hasOwnProperty(te)&&(d=o[te],this[te]=d?d(k):k[te]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?fl:ah,this.isPropagationStopped=ah,this}return se(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),l}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=ln(Ci),Ei=se({},Ci,{view:0,detail:0}),pl=ln(Ei),un,Fn,Xi,ea=se({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Xi&&(Xi&&o.type==="mousemove"?(un=o.screenX-Xi.screenX,Fn=o.screenY-Xi.screenY):Fn=un=0,Xi=o),un)},movementY:function(o){return"movementY"in o?o.movementY:Fn}}),lh=ln(ea),Mm=se({},ea,{dataTransfer:0}),Nm=ln(Mm),Bm=se({},Ei,{relatedTarget:0}),ml=ln(Bm),uh=se({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),gl=ln(uh),ta=se({},Ci,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),vl=ln(ta),Ps=se({},Ci,{data:0}),ch=ln(Ps),dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=fh[o])?!!l[o]:!1}function nc(){return Fm}var $m=se({},Ei,{key:function(o){if(o.key){var l=dh[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=hl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?hh[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(o){return o.type==="keypress"?hl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?hl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),yl=ln($m),jm=se({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=ln(jm),Um=se({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),zm=ln(Um),ph=se({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=ln(ph),Hm=se({},ea,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Vm=ln(Hm),qm=[9,13,27,32],_l=u&&"CompositionEvent"in window,ra=null;u&&"documentMode"in document&&(ra=document.documentMode);var Wm=u&&"TextEvent"in window&&!ra,sc=u&&(!_l||ra&&8<ra&&11>=ra),gh=" ",oc=!1;function vh(o,l){switch(o){case"keyup":return qm.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ac(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var si=!1;function yh(o,l){switch(o){case"compositionend":return ac(l);case"keypress":return l.which!==32?null:(oc=!0,gh);case"textInput":return o=l.data,o===gh&&oc?null:o;default:return null}}function Gm(o,l){if(si)return o==="compositionend"||!_l&&vh(o,l)?(o=oh(),As=dl=Ki=null,si=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return sc&&l.locale!=="ko"?null:l.data;default:return null}}var Km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function co(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Km[o.type]:l==="textarea"}function _h(o,l,d,m){oe(m),l=ha(l,"onChange"),0<l.length&&(d=new Is("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var na=null,ia=null;function xh(o){Dh(o,0)}function xl(o){var l=Os(o);if(lt(l))return o}function Xm(o,l){if(o==="change")return l}var bh=!1;if(u){var lc;if(u){var uc="oninput"in document;if(!uc){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),uc=typeof Sh.oninput=="function"}lc=uc}else lc=!1;bh=lc&&(!document.documentMode||9<document.documentMode)}function Th(){na&&(na.detachEvent("onpropertychange",Ch),ia=na=null)}function Ch(o){if(o.propertyName==="value"&&xl(ia)){var l=[];_h(l,ia,o,Cs(o)),yr(xh,l)}}function Ym(o,l,d){o==="focusin"?(Th(),na=l,ia=d,na.attachEvent("onpropertychange",Ch)):o==="focusout"&&Th()}function bl(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xl(ia)}function Qm(o,l){if(o==="click")return xl(l)}function Jm(o,l){if(o==="input"||o==="change")return xl(l)}function Zm(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var $n=typeof Object.is=="function"?Object.is:Zm;function ho(o,l){if($n(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!c.call(l,x)||!$n(o[x],l[x]))return!1}return!0}function Eh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function sa(o,l){var d=Eh(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Eh(d)}}function fo(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?fo(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Ft(){for(var o=window,l=Yt();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Yt(o.document)}return l}function Yi(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function cc(o){var l=Ft(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&fo(d.ownerDocument.documentElement,d)){if(m!==null&&Yi(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var x=d.textContent.length,k=Math.min(m.start,x);m=m.end===void 0?k:Math.min(m.end,x),!o.extend&&k>m&&(x=m,m=k,k=x),x=sa(d,k);var F=sa(d,m);x&&F&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==F.node||o.focusOffset!==F.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),o.removeAllRanges(),k>m?(o.addRange(l),o.extend(F.node,F.offset)):(l.setEnd(F.node,F.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var eg=u&&"documentMode"in document&&11>=document.documentMode,po=null,dc=null,oa=null,Sl=!1;function hc(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Sl||po==null||po!==Yt(m)||(m=po,"selectionStart"in m&&Yi(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),oa&&ho(oa,m)||(oa=m,m=ha(dc,"onSelect"),0<m.length&&(l=new Is("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=po)))}function aa(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Rs={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},Tl={},Cl={};u&&(Cl=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function la(o){if(Tl[o])return Tl[o];if(!Rs[o])return o;var l=Rs[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in Cl)return Tl[o]=l[d];return o}var El=la("animationend"),wh=la("animationiteration"),wl=la("animationstart"),kl=la("transitionend"),fc=new Map,ua="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(o,l){fc.set(o,l),s(l,[o])}for(var pc=0;pc<ua.length;pc++){var mc=ua[pc],tg=mc.toLowerCase(),rg=mc[0].toUpperCase()+mc.slice(1);jn(tg,"on"+rg)}jn(El,"onAnimationEnd"),jn(wh,"onAnimationIteration"),jn(wl,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(kl,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gc=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function kh(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,ws(m,l,void 0,o),o.currentTarget=null}function Dh(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],x=m.event;m=m.listeners;e:{var k=void 0;if(l)for(var F=m.length-1;0<=F;F--){var te=m[F],le=te.instance,ye=te.currentTarget;if(te=te.listener,le!==k&&x.isPropagationStopped())break e;kh(x,te,ye),k=le}else for(F=0;F<m.length;F++){if(te=m[F],le=te.instance,ye=te.currentTarget,te=te.listener,le!==k&&x.isPropagationStopped())break e;kh(x,te,ye),k=le}}}if(Fr)throw o=Mn,Fr=!1,Mn=null,o}function At(o,l){var d=l[We];d===void 0&&(d=l[We]=new Set);var m=o+"__bubble";d.has(m)||(wr(l,o,2,!1),d.add(m))}function Qi(o,l,d){var m=0;l&&(m|=4),wr(d,o,m,l)}var dt="_reactListening"+Math.random().toString(36).slice(2);function Un(o){if(!o[dt]){o[dt]=!0,n.forEach(function(d){d!=="selectionchange"&&(gc.has(d)||Qi(d,!1,o),Qi(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[dt]||(l[dt]=!0,Qi("selectionchange",!1,l))}}function wr(o,l,d,m){switch(cl(l)){case 1:var x=Om;break;case 4:x=Lm;break;default:x=tc}d=x.bind(null,l,d,o),x=void 0,!Br||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?o.addEventListener(l,d,{capture:!0,passive:x}):o.addEventListener(l,d,!0):x!==void 0?o.addEventListener(l,d,{passive:x}):o.addEventListener(l,d,!1)}function yn(o,l,d,m,x){var k=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var te=m.stateNode.containerInfo;if(te===x||te.nodeType===8&&te.parentNode===x)break;if(F===4)for(F=m.return;F!==null;){var le=F.tag;if((le===3||le===4)&&(le=F.stateNode.containerInfo,le===x||le.nodeType===8&&le.parentNode===x))return;F=F.return}for(;te!==null;){if(F=cr(te),F===null)return;if(le=F.tag,le===5||le===6){m=k=F;continue e}te=te.parentNode}}m=m.return}yr(function(){var ye=k,ke=Cs(d),De=[];e:{var we=fc.get(o);if(we!==void 0){var Be=Is,Ue=o;switch(o){case"keypress":if(hl(d)===0)break e;case"keydown":case"keyup":Be=yl;break;case"focusin":Ue="focus",Be=ml;break;case"focusout":Ue="blur",Be=ml;break;case"beforeblur":case"afterblur":Be=ml;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=zm;break;case El:case wh:case wl:Be=gl;break;case kl:Be=mh;break;case"scroll":Be=pl;break;case"wheel":Be=Vm;break;case"copy":case"cut":case"paste":Be=vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=ic}var He=(l&4)!==0,or=!He&&o==="scroll",pe=He?we!==null?we+"Capture":null:we;He=[];for(var he=ye,me;he!==null;){me=he;var Re=me.stateNode;if(me.tag===5&&Re!==null&&(me=Re,pe!==null&&(Re=Nr(he,pe),Re!=null&&He.push(da(he,Re,me)))),or)break;he=he.return}0<He.length&&(we=new Be(we,Ue,null,d,ke),De.push({event:we,listeners:He}))}}if((l&7)===0){e:{if(we=o==="mouseover"||o==="pointerover",Be=o==="mouseout"||o==="pointerout",we&&d!==ro&&(Ue=d.relatedTarget||d.fromElement)&&(cr(Ue)||Ue[be]))break e;if((Be||we)&&(we=ke.window===ke?ke:(we=ke.ownerDocument)?we.defaultView||we.parentWindow:window,Be?(Ue=d.relatedTarget||d.toElement,Be=ye,Ue=Ue?cr(Ue):null,Ue!==null&&(or=ot(Ue),Ue!==or||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Be=null,Ue=ye),Be!==Ue)){if(He=lh,Re="onMouseLeave",pe="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(He=ic,Re="onPointerLeave",pe="onPointerEnter",he="pointer"),or=Be==null?we:Os(Be),me=Ue==null?we:Os(Ue),we=new He(Re,he+"leave",Be,d,ke),we.target=or,we.relatedTarget=me,Re=null,cr(ke)===ye&&(He=new He(pe,he+"enter",Ue,d,ke),He.target=me,He.relatedTarget=or,Re=He),or=Re,Be&&Ue)t:{for(He=Be,pe=Ue,he=0,me=He;me;me=mo(me))he++;for(me=0,Re=pe;Re;Re=mo(Re))me++;for(;0<he-me;)He=mo(He),he--;for(;0<me-he;)pe=mo(pe),me--;for(;he--;){if(He===pe||pe!==null&&He===pe.alternate)break t;He=mo(He),pe=mo(pe)}He=null}else He=null;Be!==null&&Ah(De,we,Be,He,!1),Ue!==null&&or!==null&&Ah(De,or,Ue,He,!0)}}e:{if(we=ye?Os(ye):window,Be=we.nodeName&&we.nodeName.toLowerCase(),Be==="select"||Be==="input"&&we.type==="file")var Ve=Xm;else if(co(we))if(bh)Ve=Jm;else{Ve=bl;var Ke=Ym}else(Be=we.nodeName)&&Be.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Ve=Qm);if(Ve&&(Ve=Ve(o,ye))){_h(De,Ve,d,ke);break e}Ke&&Ke(o,we,ye),o==="focusout"&&(Ke=we._wrapperState)&&Ke.controlled&&we.type==="number"&&ur(we,"number",we.value)}switch(Ke=ye?Os(ye):window,o){case"focusin":(co(Ke)||Ke.contentEditable==="true")&&(po=Ke,dc=ye,oa=null);break;case"focusout":oa=dc=po=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,hc(De,d,ke);break;case"selectionchange":if(eg)break;case"keydown":case"keyup":hc(De,d,ke)}var Xe;if(_l)e:{switch(o){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else si?vh(o,d)&&(tt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(tt="onCompositionStart");tt&&(sc&&d.locale!=="ko"&&(si||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&si&&(Xe=oh()):(Ki=ke,dl="value"in Ki?Ki.value:Ki.textContent,si=!0)),Ke=ha(ye,tt),0<Ke.length&&(tt=new ch(tt,o,null,d,ke),De.push({event:tt,listeners:Ke}),Xe?tt.data=Xe:(Xe=ac(d),Xe!==null&&(tt.data=Xe)))),(Xe=Wm?yh(o,d):Gm(o,d))&&(ye=ha(ye,"onBeforeInput"),0<ye.length&&(ke=new ch("onBeforeInput","beforeinput",null,d,ke),De.push({event:ke,listeners:ye}),ke.data=Xe))}Dh(De,l)})}function da(o,l,d){return{instance:o,listener:l,currentTarget:d}}function ha(o,l){for(var d=l+"Capture",m=[];o!==null;){var x=o,k=x.stateNode;x.tag===5&&k!==null&&(x=k,k=Nr(o,d),k!=null&&m.unshift(da(o,k,x)),k=Nr(o,l),k!=null&&m.push(da(o,k,x))),o=o.return}return m}function mo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Ah(o,l,d,m,x){for(var k=l._reactName,F=[];d!==null&&d!==m;){var te=d,le=te.alternate,ye=te.stateNode;if(le!==null&&le===m)break;te.tag===5&&ye!==null&&(te=ye,x?(le=Nr(d,k),le!=null&&F.unshift(da(d,le,te))):x||(le=Nr(d,k),le!=null&&F.push(da(d,le,te)))),d=d.return}F.length!==0&&o.push({event:l,listeners:F})}var ng=/\r\n?/g,ig=/\u0000|\uFFFD/g;function Ih(o){return(typeof o=="string"?o:""+o).replace(ng,`
`).replace(ig,"")}function Dl(o,l,d){if(l=Ih(l),Ih(o)!==l&&d)throw Error(r(425))}function Al(){}var Il=null,f=null;function y(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var b=typeof setTimeout=="function"?setTimeout:void 0,_=typeof clearTimeout=="function"?clearTimeout:void 0,w=typeof Promise=="function"?Promise:void 0,I=typeof queueMicrotask=="function"?queueMicrotask:typeof w<"u"?function(o){return w.resolve(null).then(o).catch(q)}:b;function q(o){setTimeout(function(){throw o})}function G(o,l){var d=l,m=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){o.removeChild(x),Zo(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);Zo(l)}function Y(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function ne(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var de=Math.random().toString(36).slice(2),ge="__reactFiber$"+de,Oe="__reactProps$"+de,be="__reactContainer$"+de,We="__reactEvents$"+de,it="__reactListeners$"+de,sr="__reactHandles$"+de;function cr(o){var l=o[ge];if(l)return l;for(var d=o.parentNode;d;){if(l=d[be]||d[ge]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=ne(o);o!==null;){if(d=o[ge])return d;o=ne(o)}return l}o=d,d=o.parentNode}return null}function zn(o){return o=o[ge]||o[be],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Os(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function fa(o){return o[Oe]||null}var Pl=[],Ji=-1;function wi(o){return{current:o}}function et(o){0>Ji||(o.current=Pl[Ji],Pl[Ji]=null,Ji--)}function Tt(o,l){Ji++,Pl[Ji]=o.current,o.current=l}var Wr={},Gr=wi(Wr),_n=wi(!1),pa=Wr;function Rl(o,l){var d=o.type.contextTypes;if(!d)return Wr;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var x={},k;for(k in d)x[k]=l[k];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=x),x}function xn(o){return o=o.childContextTypes,o!=null}function Ph(){et(_n),et(Gr)}function hx(o,l,d){if(Gr.current!==Wr)throw Error(r(168));Tt(Gr,l),Tt(_n,d)}function fx(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in l))throw Error(r(108,Ee(o)||"Unknown",x));return se({},d,m)}function Rh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Wr,pa=Gr.current,Tt(Gr,o),Tt(_n,_n.current),!0}function px(o,l,d){var m=o.stateNode;if(!m)throw Error(r(169));d?(o=fx(o,l,pa),m.__reactInternalMemoizedMergedChildContext=o,et(_n),et(Gr),Tt(Gr,o)):et(_n),Tt(_n,d)}var Ls=null,Oh=!1,sg=!1;function mx(o){Ls===null?Ls=[o]:Ls.push(o)}function AD(o){Oh=!0,mx(o)}function go(){if(!sg&&Ls!==null){sg=!0;var o=0,l=ct;try{var d=Ls;for(ct=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}Ls=null,Oh=!1}catch(x){throw Ls!==null&&(Ls=Ls.slice(o+1)),Lt(Qa,go),x}finally{ct=l,sg=!1}}return null}var Ol=[],Ll=0,Lh=null,Mh=0,oi=[],ai=0,ma=null,Ms=1,Ns="";function ga(o,l){Ol[Ll++]=Mh,Ol[Ll++]=Lh,Lh=o,Mh=l}function gx(o,l,d){oi[ai++]=Ms,oi[ai++]=Ns,oi[ai++]=ma,ma=o;var m=Ms;o=Ns;var x=32-vn(m)-1;m&=~(1<<x),d+=1;var k=32-vn(l)+x;if(30<k){var F=x-x%5;k=(m&(1<<F)-1).toString(32),m>>=F,x-=F,Ms=1<<32-vn(l)+x|d<<x|m,Ns=k+o}else Ms=1<<k|d<<x|m,Ns=o}function og(o){o.return!==null&&(ga(o,1),gx(o,1,0))}function ag(o){for(;o===Lh;)Lh=Ol[--Ll],Ol[Ll]=null,Mh=Ol[--Ll],Ol[Ll]=null;for(;o===ma;)ma=oi[--ai],oi[ai]=null,Ns=oi[--ai],oi[ai]=null,Ms=oi[--ai],oi[ai]=null}var Hn=null,Vn=null,$t=!1,ki=null;function vx(o,l){var d=di(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function yx(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Hn=o,Vn=Y(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Hn=o,Vn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=ma!==null?{id:Ms,overflow:Ns}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=di(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Hn=o,Vn=null,!0):!1;default:return!1}}function lg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ug(o){if($t){var l=Vn;if(l){var d=l;if(!yx(o,l)){if(lg(o))throw Error(r(418));l=Y(d.nextSibling);var m=Hn;l&&yx(o,l)?vx(m,d):(o.flags=o.flags&-4097|2,$t=!1,Hn=o)}}else{if(lg(o))throw Error(r(418));o.flags=o.flags&-4097|2,$t=!1,Hn=o}}}function _x(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Hn=o}function Nh(o){if(o!==Hn)return!1;if(!$t)return _x(o),$t=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!y(o.type,o.memoizedProps)),l&&(l=Vn)){if(lg(o))throw xx(),Error(r(418));for(;l;)vx(o,l),l=Y(l.nextSibling)}if(_x(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Vn=Y(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Vn=null}}else Vn=Hn?Y(o.stateNode.nextSibling):null;return!0}function xx(){for(var o=Vn;o;)o=Y(o.nextSibling)}function Ml(){Vn=Hn=null,$t=!1}function cg(o){ki===null?ki=[o]:ki.push(o)}var ID=U.ReactCurrentBatchConfig;function vc(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var m=d.stateNode}if(!m)throw Error(r(147,o));var x=m,k=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(F){var te=x.refs;F===null?delete te[k]:te[k]=F},l._stringRef=k,l)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function Bh(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function bx(o){var l=o._init;return l(o._payload)}function Sx(o){function l(pe,he){if(o){var me=pe.deletions;me===null?(pe.deletions=[he],pe.flags|=16):me.push(he)}}function d(pe,he){if(!o)return null;for(;he!==null;)l(pe,he),he=he.sibling;return null}function m(pe,he){for(pe=new Map;he!==null;)he.key!==null?pe.set(he.key,he):pe.set(he.index,he),he=he.sibling;return pe}function x(pe,he){return pe=Co(pe,he),pe.index=0,pe.sibling=null,pe}function k(pe,he,me){return pe.index=me,o?(me=pe.alternate,me!==null?(me=me.index,me<he?(pe.flags|=2,he):me):(pe.flags|=2,he)):(pe.flags|=1048576,he)}function F(pe){return o&&pe.alternate===null&&(pe.flags|=2),pe}function te(pe,he,me,Re){return he===null||he.tag!==6?(he=t0(me,pe.mode,Re),he.return=pe,he):(he=x(he,me),he.return=pe,he)}function le(pe,he,me,Re){var Ve=me.type;return Ve===$?ke(pe,he,me.props.children,Re,me.key):he!==null&&(he.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Z&&bx(Ve)===he.type)?(Re=x(he,me.props),Re.ref=vc(pe,he,me),Re.return=pe,Re):(Re=lf(me.type,me.key,me.props,null,pe.mode,Re),Re.ref=vc(pe,he,me),Re.return=pe,Re)}function ye(pe,he,me,Re){return he===null||he.tag!==4||he.stateNode.containerInfo!==me.containerInfo||he.stateNode.implementation!==me.implementation?(he=r0(me,pe.mode,Re),he.return=pe,he):(he=x(he,me.children||[]),he.return=pe,he)}function ke(pe,he,me,Re,Ve){return he===null||he.tag!==7?(he=Ca(me,pe.mode,Re,Ve),he.return=pe,he):(he=x(he,me),he.return=pe,he)}function De(pe,he,me){if(typeof he=="string"&&he!==""||typeof he=="number")return he=t0(""+he,pe.mode,me),he.return=pe,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return me=lf(he.type,he.key,he.props,null,pe.mode,me),me.ref=vc(pe,null,he),me.return=pe,me;case B:return he=r0(he,pe.mode,me),he.return=pe,he;case Z:var Re=he._init;return De(pe,Re(he._payload),me)}if(Qe(he)||ie(he))return he=Ca(he,pe.mode,me,null),he.return=pe,he;Bh(pe,he)}return null}function we(pe,he,me,Re){var Ve=he!==null?he.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return Ve!==null?null:te(pe,he,""+me,Re);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return me.key===Ve?le(pe,he,me,Re):null;case B:return me.key===Ve?ye(pe,he,me,Re):null;case Z:return Ve=me._init,we(pe,he,Ve(me._payload),Re)}if(Qe(me)||ie(me))return Ve!==null?null:ke(pe,he,me,Re,null);Bh(pe,me)}return null}function Be(pe,he,me,Re,Ve){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return pe=pe.get(me)||null,te(he,pe,""+Re,Ve);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case A:return pe=pe.get(Re.key===null?me:Re.key)||null,le(he,pe,Re,Ve);case B:return pe=pe.get(Re.key===null?me:Re.key)||null,ye(he,pe,Re,Ve);case Z:var Ke=Re._init;return Be(pe,he,me,Ke(Re._payload),Ve)}if(Qe(Re)||ie(Re))return pe=pe.get(me)||null,ke(he,pe,Re,Ve,null);Bh(he,Re)}return null}function Ue(pe,he,me,Re){for(var Ve=null,Ke=null,Xe=he,tt=he=0,Ar=null;Xe!==null&&tt<me.length;tt++){Xe.index>tt?(Ar=Xe,Xe=null):Ar=Xe.sibling;var pt=we(pe,Xe,me[tt],Re);if(pt===null){Xe===null&&(Xe=Ar);break}o&&Xe&&pt.alternate===null&&l(pe,Xe),he=k(pt,he,tt),Ke===null?Ve=pt:Ke.sibling=pt,Ke=pt,Xe=Ar}if(tt===me.length)return d(pe,Xe),$t&&ga(pe,tt),Ve;if(Xe===null){for(;tt<me.length;tt++)Xe=De(pe,me[tt],Re),Xe!==null&&(he=k(Xe,he,tt),Ke===null?Ve=Xe:Ke.sibling=Xe,Ke=Xe);return $t&&ga(pe,tt),Ve}for(Xe=m(pe,Xe);tt<me.length;tt++)Ar=Be(Xe,pe,tt,me[tt],Re),Ar!==null&&(o&&Ar.alternate!==null&&Xe.delete(Ar.key===null?tt:Ar.key),he=k(Ar,he,tt),Ke===null?Ve=Ar:Ke.sibling=Ar,Ke=Ar);return o&&Xe.forEach(function(Eo){return l(pe,Eo)}),$t&&ga(pe,tt),Ve}function He(pe,he,me,Re){var Ve=ie(me);if(typeof Ve!="function")throw Error(r(150));if(me=Ve.call(me),me==null)throw Error(r(151));for(var Ke=Ve=null,Xe=he,tt=he=0,Ar=null,pt=me.next();Xe!==null&&!pt.done;tt++,pt=me.next()){Xe.index>tt?(Ar=Xe,Xe=null):Ar=Xe.sibling;var Eo=we(pe,Xe,pt.value,Re);if(Eo===null){Xe===null&&(Xe=Ar);break}o&&Xe&&Eo.alternate===null&&l(pe,Xe),he=k(Eo,he,tt),Ke===null?Ve=Eo:Ke.sibling=Eo,Ke=Eo,Xe=Ar}if(pt.done)return d(pe,Xe),$t&&ga(pe,tt),Ve;if(Xe===null){for(;!pt.done;tt++,pt=me.next())pt=De(pe,pt.value,Re),pt!==null&&(he=k(pt,he,tt),Ke===null?Ve=pt:Ke.sibling=pt,Ke=pt);return $t&&ga(pe,tt),Ve}for(Xe=m(pe,Xe);!pt.done;tt++,pt=me.next())pt=Be(Xe,pe,tt,pt.value,Re),pt!==null&&(o&&pt.alternate!==null&&Xe.delete(pt.key===null?tt:pt.key),he=k(pt,he,tt),Ke===null?Ve=pt:Ke.sibling=pt,Ke=pt);return o&&Xe.forEach(function(uA){return l(pe,uA)}),$t&&ga(pe,tt),Ve}function or(pe,he,me,Re){if(typeof me=="object"&&me!==null&&me.type===$&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case A:e:{for(var Ve=me.key,Ke=he;Ke!==null;){if(Ke.key===Ve){if(Ve=me.type,Ve===$){if(Ke.tag===7){d(pe,Ke.sibling),he=x(Ke,me.props.children),he.return=pe,pe=he;break e}}else if(Ke.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Z&&bx(Ve)===Ke.type){d(pe,Ke.sibling),he=x(Ke,me.props),he.ref=vc(pe,Ke,me),he.return=pe,pe=he;break e}d(pe,Ke);break}else l(pe,Ke);Ke=Ke.sibling}me.type===$?(he=Ca(me.props.children,pe.mode,Re,me.key),he.return=pe,pe=he):(Re=lf(me.type,me.key,me.props,null,pe.mode,Re),Re.ref=vc(pe,he,me),Re.return=pe,pe=Re)}return F(pe);case B:e:{for(Ke=me.key;he!==null;){if(he.key===Ke)if(he.tag===4&&he.stateNode.containerInfo===me.containerInfo&&he.stateNode.implementation===me.implementation){d(pe,he.sibling),he=x(he,me.children||[]),he.return=pe,pe=he;break e}else{d(pe,he);break}else l(pe,he);he=he.sibling}he=r0(me,pe.mode,Re),he.return=pe,pe=he}return F(pe);case Z:return Ke=me._init,or(pe,he,Ke(me._payload),Re)}if(Qe(me))return Ue(pe,he,me,Re);if(ie(me))return He(pe,he,me,Re);Bh(pe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,he!==null&&he.tag===6?(d(pe,he.sibling),he=x(he,me),he.return=pe,pe=he):(d(pe,he),he=t0(me,pe.mode,Re),he.return=pe,pe=he),F(pe)):d(pe,he)}return or}var Nl=Sx(!0),Tx=Sx(!1),Fh=wi(null),$h=null,Bl=null,dg=null;function hg(){dg=Bl=$h=null}function fg(o){var l=Fh.current;et(Fh),o._currentValue=l}function pg(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Fl(o,l){$h=o,dg=Bl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(bn=!0),o.firstContext=null)}function li(o){var l=o._currentValue;if(dg!==o)if(o={context:o,memoizedValue:l,next:null},Bl===null){if($h===null)throw Error(r(308));Bl=o,$h.dependencies={lanes:0,firstContext:o}}else Bl=Bl.next=o;return l}var va=null;function mg(o){va===null?va=[o]:va.push(o)}function Cx(o,l,d,m){var x=l.interleaved;return x===null?(d.next=d,mg(l)):(d.next=x.next,x.next=d),l.interleaved=d,Bs(o,m)}function Bs(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var vo=!1;function gg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ex(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Fs(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function yo(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(ft&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,Bs(o,d)}return x=m.interleaved,x===null?(l.next=l,mg(m)):(l.next=x.next,x.next=l),m.interleaved=l,Bs(o,d)}function jh(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Qu(o,d)}}function wx(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,k=null;if(d=d.firstBaseUpdate,d!==null){do{var F={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};k===null?x=k=F:k=k.next=F,d=d.next}while(d!==null);k===null?x=k=l:k=k.next=l}else x=k=l;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:k,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Uh(o,l,d,m){var x=o.updateQueue;vo=!1;var k=x.firstBaseUpdate,F=x.lastBaseUpdate,te=x.shared.pending;if(te!==null){x.shared.pending=null;var le=te,ye=le.next;le.next=null,F===null?k=ye:F.next=ye,F=le;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,te=ke.lastBaseUpdate,te!==F&&(te===null?ke.firstBaseUpdate=ye:te.next=ye,ke.lastBaseUpdate=le))}if(k!==null){var De=x.baseState;F=0,ke=ye=le=null,te=k;do{var we=te.lane,Be=te.eventTime;if((m&we)===we){ke!==null&&(ke=ke.next={eventTime:Be,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var Ue=o,He=te;switch(we=l,Be=d,He.tag){case 1:if(Ue=He.payload,typeof Ue=="function"){De=Ue.call(Be,De,we);break e}De=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=He.payload,we=typeof Ue=="function"?Ue.call(Be,De,we):Ue,we==null)break e;De=se({},De,we);break e;case 2:vo=!0}}te.callback!==null&&te.lane!==0&&(o.flags|=64,we=x.effects,we===null?x.effects=[te]:we.push(te))}else Be={eventTime:Be,lane:we,tag:te.tag,payload:te.payload,callback:te.callback,next:null},ke===null?(ye=ke=Be,le=De):ke=ke.next=Be,F|=we;if(te=te.next,te===null){if(te=x.shared.pending,te===null)break;we=te,te=we.next,we.next=null,x.lastBaseUpdate=we,x.shared.pending=null}}while(!0);if(ke===null&&(le=De),x.baseState=le,x.firstBaseUpdate=ye,x.lastBaseUpdate=ke,l=x.shared.interleaved,l!==null){x=l;do F|=x.lane,x=x.next;while(x!==l)}else k===null&&(x.shared.lanes=0);xa|=F,o.lanes=F,o.memoizedState=De}}function kx(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(r(191,x));x.call(m)}}}var yc={},Zi=wi(yc),_c=wi(yc),xc=wi(yc);function ya(o){if(o===yc)throw Error(r(174));return o}function vg(o,l){switch(Tt(xc,l),Tt(_c,o),Tt(Zi,yc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:vr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=vr(l,o)}et(Zi),Tt(Zi,l)}function $l(){et(Zi),et(_c),et(xc)}function Dx(o){ya(xc.current);var l=ya(Zi.current),d=vr(l,o.type);l!==d&&(Tt(_c,o),Tt(Zi,d))}function yg(o){_c.current===o&&(et(Zi),et(_c))}var Wt=wi(0);function zh(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var _g=[];function xg(){for(var o=0;o<_g.length;o++)_g[o]._workInProgressVersionPrimary=null;_g.length=0}var Hh=U.ReactCurrentDispatcher,bg=U.ReactCurrentBatchConfig,_a=0,Gt=null,_r=null,kr=null,Vh=!1,bc=!1,Sc=0,PD=0;function Kr(){throw Error(r(321))}function Sg(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!$n(o[d],l[d]))return!1;return!0}function Tg(o,l,d,m,x,k){if(_a=k,Gt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Hh.current=o===null||o.memoizedState===null?MD:ND,o=d(m,x),bc){k=0;do{if(bc=!1,Sc=0,25<=k)throw Error(r(301));k+=1,kr=_r=null,l.updateQueue=null,Hh.current=BD,o=d(m,x)}while(bc)}if(Hh.current=Gh,l=_r!==null&&_r.next!==null,_a=0,kr=_r=Gt=null,Vh=!1,l)throw Error(r(300));return o}function Cg(){var o=Sc!==0;return Sc=0,o}function es(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Gt.memoizedState=kr=o:kr=kr.next=o,kr}function ui(){if(_r===null){var o=Gt.alternate;o=o!==null?o.memoizedState:null}else o=_r.next;var l=kr===null?Gt.memoizedState:kr.next;if(l!==null)kr=l,_r=o;else{if(o===null)throw Error(r(310));_r=o,o={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},kr===null?Gt.memoizedState=kr=o:kr=kr.next=o}return kr}function Tc(o,l){return typeof l=="function"?l(o):l}function Eg(o){var l=ui(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=_r,x=m.baseQueue,k=d.pending;if(k!==null){if(x!==null){var F=x.next;x.next=k.next,k.next=F}m.baseQueue=x=k,d.pending=null}if(x!==null){k=x.next,m=m.baseState;var te=F=null,le=null,ye=k;do{var ke=ye.lane;if((_a&ke)===ke)le!==null&&(le=le.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),m=ye.hasEagerState?ye.eagerState:o(m,ye.action);else{var De={lane:ke,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};le===null?(te=le=De,F=m):le=le.next=De,Gt.lanes|=ke,xa|=ke}ye=ye.next}while(ye!==null&&ye!==k);le===null?F=m:le.next=te,$n(m,l.memoizedState)||(bn=!0),l.memoizedState=m,l.baseState=F,l.baseQueue=le,d.lastRenderedState=m}if(o=d.interleaved,o!==null){x=o;do k=x.lane,Gt.lanes|=k,xa|=k,x=x.next;while(x!==o)}else x===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function wg(o){var l=ui(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,x=d.pending,k=l.memoizedState;if(x!==null){d.pending=null;var F=x=x.next;do k=o(k,F.action),F=F.next;while(F!==x);$n(k,l.memoizedState)||(bn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),d.lastRenderedState=k}return[k,m]}function Ax(){}function Ix(o,l){var d=Gt,m=ui(),x=l(),k=!$n(m.memoizedState,x);if(k&&(m.memoizedState=x,bn=!0),m=m.queue,kg(Ox.bind(null,d,m,o),[o]),m.getSnapshot!==l||k||kr!==null&&kr.memoizedState.tag&1){if(d.flags|=2048,Cc(9,Rx.bind(null,d,m,x,l),void 0,null),Dr===null)throw Error(r(349));(_a&30)!==0||Px(d,l,x)}return x}function Px(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Gt.updateQueue,l===null?(l={lastEffect:null,stores:null},Gt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function Rx(o,l,d,m){l.value=d,l.getSnapshot=m,Lx(l)&&Mx(o)}function Ox(o,l,d){return d(function(){Lx(l)&&Mx(o)})}function Lx(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!$n(o,d)}catch{return!0}}function Mx(o){var l=Bs(o,1);l!==null&&Pi(l,o,1,-1)}function Nx(o){var l=es();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:o},l.queue=o,o=o.dispatch=LD.bind(null,Gt,o),[l.memoizedState,o]}function Cc(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=Gt.updateQueue,l===null?(l={lastEffect:null,stores:null},Gt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function Bx(){return ui().memoizedState}function qh(o,l,d,m){var x=es();Gt.flags|=o,x.memoizedState=Cc(1|l,d,void 0,m===void 0?null:m)}function Wh(o,l,d,m){var x=ui();m=m===void 0?null:m;var k=void 0;if(_r!==null){var F=_r.memoizedState;if(k=F.destroy,m!==null&&Sg(m,F.deps)){x.memoizedState=Cc(l,d,k,m);return}}Gt.flags|=o,x.memoizedState=Cc(1|l,d,k,m)}function Fx(o,l){return qh(8390656,8,o,l)}function kg(o,l){return Wh(2048,8,o,l)}function $x(o,l){return Wh(4,2,o,l)}function jx(o,l){return Wh(4,4,o,l)}function Ux(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function zx(o,l,d){return d=d!=null?d.concat([o]):null,Wh(4,4,Ux.bind(null,l,o),d)}function Dg(){}function Hx(o,l){var d=ui();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Sg(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function Vx(o,l){var d=ui();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Sg(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function qx(o,l,d){return(_a&21)===0?(o.baseState&&(o.baseState=!1,bn=!0),o.memoizedState=d):($n(d,l)||(d=th(),Gt.lanes|=d,xa|=d,o.baseState=!0),l)}function RD(o,l){var d=ct;ct=d!==0&&4>d?d:4,o(!0);var m=bg.transition;bg.transition={};try{o(!1),l()}finally{ct=d,bg.transition=m}}function Wx(){return ui().memoizedState}function OD(o,l,d){var m=So(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Gx(o))Kx(l,d);else if(d=Cx(o,l,d,m),d!==null){var x=dn();Pi(d,o,m,x),Xx(d,l,m)}}function LD(o,l,d){var m=So(o),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Gx(o))Kx(l,x);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var F=l.lastRenderedState,te=k(F,d);if(x.hasEagerState=!0,x.eagerState=te,$n(te,F)){var le=l.interleaved;le===null?(x.next=x,mg(l)):(x.next=le.next,le.next=x),l.interleaved=x;return}}catch{}finally{}d=Cx(o,l,x,m),d!==null&&(x=dn(),Pi(d,o,m,x),Xx(d,l,m))}}function Gx(o){var l=o.alternate;return o===Gt||l!==null&&l===Gt}function Kx(o,l){bc=Vh=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function Xx(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Qu(o,d)}}var Gh={readContext:li,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},MD={readContext:li,useCallback:function(o,l){return es().memoizedState=[o,l===void 0?null:l],o},useContext:li,useEffect:Fx,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,qh(4194308,4,Ux.bind(null,l,o),d)},useLayoutEffect:function(o,l){return qh(4194308,4,o,l)},useInsertionEffect:function(o,l){return qh(4,2,o,l)},useMemo:function(o,l){var d=es();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=es();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=OD.bind(null,Gt,o),[m.memoizedState,o]},useRef:function(o){var l=es();return o={current:o},l.memoizedState=o},useState:Nx,useDebugValue:Dg,useDeferredValue:function(o){return es().memoizedState=o},useTransition:function(){var o=Nx(!1),l=o[0];return o=RD.bind(null,o[1]),es().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=Gt,x=es();if($t){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Dr===null)throw Error(r(349));(_a&30)!==0||Px(m,l,d)}x.memoizedState=d;var k={value:d,getSnapshot:l};return x.queue=k,Fx(Ox.bind(null,m,k,o),[o]),m.flags|=2048,Cc(9,Rx.bind(null,m,k,d,l),void 0,null),d},useId:function(){var o=es(),l=Dr.identifierPrefix;if($t){var d=Ns,m=Ms;d=(m&~(1<<32-vn(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Sc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=PD++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},ND={readContext:li,useCallback:Hx,useContext:li,useEffect:kg,useImperativeHandle:zx,useInsertionEffect:$x,useLayoutEffect:jx,useMemo:Vx,useReducer:Eg,useRef:Bx,useState:function(){return Eg(Tc)},useDebugValue:Dg,useDeferredValue:function(o){var l=ui();return qx(l,_r.memoizedState,o)},useTransition:function(){var o=Eg(Tc)[0],l=ui().memoizedState;return[o,l]},useMutableSource:Ax,useSyncExternalStore:Ix,useId:Wx,unstable_isNewReconciler:!1},BD={readContext:li,useCallback:Hx,useContext:li,useEffect:kg,useImperativeHandle:zx,useInsertionEffect:$x,useLayoutEffect:jx,useMemo:Vx,useReducer:wg,useRef:Bx,useState:function(){return wg(Tc)},useDebugValue:Dg,useDeferredValue:function(o){var l=ui();return _r===null?l.memoizedState=o:qx(l,_r.memoizedState,o)},useTransition:function(){var o=wg(Tc)[0],l=ui().memoizedState;return[o,l]},useMutableSource:Ax,useSyncExternalStore:Ix,useId:Wx,unstable_isNewReconciler:!1};function Di(o,l){if(o&&o.defaultProps){l=se({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Ag(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:se({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Kh={isMounted:function(o){return(o=o._reactInternals)?ot(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=dn(),x=So(o),k=Fs(m,x);k.payload=l,d!=null&&(k.callback=d),l=yo(o,k,x),l!==null&&(Pi(l,o,x,m),jh(l,o,x))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=dn(),x=So(o),k=Fs(m,x);k.tag=1,k.payload=l,d!=null&&(k.callback=d),l=yo(o,k,x),l!==null&&(Pi(l,o,x,m),jh(l,o,x))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=dn(),m=So(o),x=Fs(d,m);x.tag=2,l!=null&&(x.callback=l),l=yo(o,x,m),l!==null&&(Pi(l,o,m,d),jh(l,o,m))}};function Yx(o,l,d,m,x,k,F){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,k,F):l.prototype&&l.prototype.isPureReactComponent?!ho(d,m)||!ho(x,k):!0}function Qx(o,l,d){var m=!1,x=Wr,k=l.contextType;return typeof k=="object"&&k!==null?k=li(k):(x=xn(l)?pa:Gr.current,m=l.contextTypes,k=(m=m!=null)?Rl(o,x):Wr),l=new l(d,k),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Kh,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=k),l}function Jx(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Kh.enqueueReplaceState(l,l.state,null)}function Ig(o,l,d,m){var x=o.stateNode;x.props=d,x.state=o.memoizedState,x.refs={},gg(o);var k=l.contextType;typeof k=="object"&&k!==null?x.context=li(k):(k=xn(l)?pa:Gr.current,x.context=Rl(o,k)),x.state=o.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Ag(o,l,k,d),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Kh.enqueueReplaceState(x,x.state,null),Uh(o,d,x,m),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function jl(o,l){try{var d="",m=l;do d+=Se(m),m=m.return;while(m);var x=d}catch(k){x=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:l,stack:x,digest:null}}function Pg(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Rg(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var FD=typeof WeakMap=="function"?WeakMap:Map;function Zx(o,l,d){d=Fs(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){tf||(tf=!0,Gg=m),Rg(o,l)},d}function eb(o,l,d){d=Fs(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var x=l.value;d.payload=function(){return m(x)},d.callback=function(){Rg(o,l)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(d.callback=function(){Rg(o,l),typeof m!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var F=l.stack;this.componentDidCatch(l.value,{componentStack:F!==null?F:""})}),d}function tb(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new FD;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(d)||(x.add(d),o=JD.bind(null,o,l,d),l.then(o,o))}function rb(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function nb(o,l,d,m,x){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Fs(-1,1),l.tag=2,yo(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var $D=U.ReactCurrentOwner,bn=!1;function cn(o,l,d,m){l.child=o===null?Tx(l,null,d,m):Nl(l,o.child,d,m)}function ib(o,l,d,m,x){d=d.render;var k=l.ref;return Fl(l,x),m=Tg(o,l,d,m,k,x),d=Cg(),o!==null&&!bn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,$s(o,l,x)):($t&&d&&og(l),l.flags|=1,cn(o,l,m,x),l.child)}function sb(o,l,d,m,x){if(o===null){var k=d.type;return typeof k=="function"&&!e0(k)&&k.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=k,ob(o,l,k,m,x)):(o=lf(d.type,null,m,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(k=o.child,(o.lanes&x)===0){var F=k.memoizedProps;if(d=d.compare,d=d!==null?d:ho,d(F,m)&&o.ref===l.ref)return $s(o,l,x)}return l.flags|=1,o=Co(k,m),o.ref=l.ref,o.return=l,l.child=o}function ob(o,l,d,m,x){if(o!==null){var k=o.memoizedProps;if(ho(k,m)&&o.ref===l.ref)if(bn=!1,l.pendingProps=m=k,(o.lanes&x)!==0)(o.flags&131072)!==0&&(bn=!0);else return l.lanes=o.lanes,$s(o,l,x)}return Og(o,l,d,m,x)}function ab(o,l,d){var m=l.pendingProps,x=m.children,k=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(zl,qn),qn|=d;else{if((d&1073741824)===0)return o=k!==null?k.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Tt(zl,qn),qn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:d,Tt(zl,qn),qn|=m}else k!==null?(m=k.baseLanes|d,l.memoizedState=null):m=d,Tt(zl,qn),qn|=m;return cn(o,l,x,d),l.child}function lb(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Og(o,l,d,m,x){var k=xn(d)?pa:Gr.current;return k=Rl(l,k),Fl(l,x),d=Tg(o,l,d,m,k,x),m=Cg(),o!==null&&!bn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,$s(o,l,x)):($t&&m&&og(l),l.flags|=1,cn(o,l,d,x),l.child)}function ub(o,l,d,m,x){if(xn(d)){var k=!0;Rh(l)}else k=!1;if(Fl(l,x),l.stateNode===null)Yh(o,l),Qx(l,d,m),Ig(l,d,m,x),m=!0;else if(o===null){var F=l.stateNode,te=l.memoizedProps;F.props=te;var le=F.context,ye=d.contextType;typeof ye=="object"&&ye!==null?ye=li(ye):(ye=xn(d)?pa:Gr.current,ye=Rl(l,ye));var ke=d.getDerivedStateFromProps,De=typeof ke=="function"||typeof F.getSnapshotBeforeUpdate=="function";De||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(te!==m||le!==ye)&&Jx(l,F,m,ye),vo=!1;var we=l.memoizedState;F.state=we,Uh(l,m,F,x),le=l.memoizedState,te!==m||we!==le||_n.current||vo?(typeof ke=="function"&&(Ag(l,d,ke,m),le=l.memoizedState),(te=vo||Yx(l,d,te,m,we,le,ye))?(De||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=le),F.props=m,F.state=le,F.context=ye,m=te):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{F=l.stateNode,Ex(o,l),te=l.memoizedProps,ye=l.type===l.elementType?te:Di(l.type,te),F.props=ye,De=l.pendingProps,we=F.context,le=d.contextType,typeof le=="object"&&le!==null?le=li(le):(le=xn(d)?pa:Gr.current,le=Rl(l,le));var Be=d.getDerivedStateFromProps;(ke=typeof Be=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(te!==De||we!==le)&&Jx(l,F,m,le),vo=!1,we=l.memoizedState,F.state=we,Uh(l,m,F,x);var Ue=l.memoizedState;te!==De||we!==Ue||_n.current||vo?(typeof Be=="function"&&(Ag(l,d,Be,m),Ue=l.memoizedState),(ye=vo||Yx(l,d,ye,m,we,Ue,le)||!1)?(ke||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(m,Ue,le),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(m,Ue,le)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||te===o.memoizedProps&&we===o.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||te===o.memoizedProps&&we===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ue),F.props=m,F.state=Ue,F.context=le,m=ye):(typeof F.componentDidUpdate!="function"||te===o.memoizedProps&&we===o.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||te===o.memoizedProps&&we===o.memoizedState||(l.flags|=1024),m=!1)}return Lg(o,l,d,m,k,x)}function Lg(o,l,d,m,x,k){lb(o,l);var F=(l.flags&128)!==0;if(!m&&!F)return x&&px(l,d,!1),$s(o,l,k);m=l.stateNode,$D.current=l;var te=F&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&F?(l.child=Nl(l,o.child,null,k),l.child=Nl(l,null,te,k)):cn(o,l,te,k),l.memoizedState=m.state,x&&px(l,d,!0),l.child}function cb(o){var l=o.stateNode;l.pendingContext?hx(o,l.pendingContext,l.pendingContext!==l.context):l.context&&hx(o,l.context,!1),vg(o,l.containerInfo)}function db(o,l,d,m,x){return Ml(),cg(x),l.flags|=256,cn(o,l,d,m),l.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function Ng(o){return{baseLanes:o,cachePool:null,transitions:null}}function hb(o,l,d){var m=l.pendingProps,x=Wt.current,k=!1,F=(l.flags&128)!==0,te;if((te=F)||(te=o!==null&&o.memoizedState===null?!1:(x&2)!==0),te?(k=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),Tt(Wt,x&1),o===null)return ug(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(F=m.children,o=m.fallback,k?(m=l.mode,k=l.child,F={mode:"hidden",children:F},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=F):k=uf(F,m,0,null),o=Ca(o,m,d,null),k.return=l,o.return=l,k.sibling=o,l.child=k,l.child.memoizedState=Ng(d),l.memoizedState=Mg,o):Bg(l,F));if(x=o.memoizedState,x!==null&&(te=x.dehydrated,te!==null))return jD(o,l,F,m,te,x,d);if(k){k=m.fallback,F=l.mode,x=o.child,te=x.sibling;var le={mode:"hidden",children:m.children};return(F&1)===0&&l.child!==x?(m=l.child,m.childLanes=0,m.pendingProps=le,l.deletions=null):(m=Co(x,le),m.subtreeFlags=x.subtreeFlags&14680064),te!==null?k=Co(te,k):(k=Ca(k,F,d,null),k.flags|=2),k.return=l,m.return=l,m.sibling=k,l.child=m,m=k,k=l.child,F=o.child.memoizedState,F=F===null?Ng(d):{baseLanes:F.baseLanes|d,cachePool:null,transitions:F.transitions},k.memoizedState=F,k.childLanes=o.childLanes&~d,l.memoizedState=Mg,m}return k=o.child,o=k.sibling,m=Co(k,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function Bg(o,l){return l=uf({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Xh(o,l,d,m){return m!==null&&cg(m),Nl(l,o.child,null,d),o=Bg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function jD(o,l,d,m,x,k,F){if(d)return l.flags&256?(l.flags&=-257,m=Pg(Error(r(422))),Xh(o,l,F,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(k=m.fallback,x=l.mode,m=uf({mode:"visible",children:m.children},x,0,null),k=Ca(k,x,F,null),k.flags|=2,m.return=l,k.return=l,m.sibling=k,l.child=m,(l.mode&1)!==0&&Nl(l,o.child,null,F),l.child.memoizedState=Ng(F),l.memoizedState=Mg,k);if((l.mode&1)===0)return Xh(o,l,F,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var te=m.dgst;return m=te,k=Error(r(419)),m=Pg(k,m,void 0),Xh(o,l,F,m)}if(te=(F&o.childLanes)!==0,bn||te){if(m=Dr,m!==null){switch(F&-F){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|F))!==0?0:x,x!==0&&x!==k.retryLane&&(k.retryLane=x,Bs(o,x),Pi(m,o,x,-1))}return Zg(),m=Pg(Error(r(421))),Xh(o,l,F,m)}return x.data==="$?"?(l.flags|=128,l.child=o.child,l=ZD.bind(null,o),x._reactRetry=l,null):(o=k.treeContext,Vn=Y(x.nextSibling),Hn=l,$t=!0,ki=null,o!==null&&(oi[ai++]=Ms,oi[ai++]=Ns,oi[ai++]=ma,Ms=o.id,Ns=o.overflow,ma=l),l=Bg(l,m.children),l.flags|=4096,l)}function fb(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),pg(o.return,l,d)}function Fg(o,l,d,m,x){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=d,k.tailMode=x)}function pb(o,l,d){var m=l.pendingProps,x=m.revealOrder,k=m.tail;if(cn(o,l,m.children,d),m=Wt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&fb(o,d,l);else if(o.tag===19)fb(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(Tt(Wt,m),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(d=l.child,x=null;d!==null;)o=d.alternate,o!==null&&zh(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Fg(l,!1,x,d,k);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&zh(o)===null){l.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}Fg(l,!0,d,null,k);break;case"together":Fg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Yh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function $s(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),xa|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Co(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Co(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function UD(o,l,d){switch(l.tag){case 3:cb(l),Ml();break;case 5:Dx(l);break;case 1:xn(l.type)&&Rh(l);break;case 4:vg(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,x=l.memoizedProps.value;Tt(Fh,m._currentValue),m._currentValue=x;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(Tt(Wt,Wt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?hb(o,l,d):(Tt(Wt,Wt.current&1),o=$s(o,l,d),o!==null?o.sibling:null);Tt(Wt,Wt.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return pb(o,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Tt(Wt,Wt.current),m)break;return null;case 22:case 23:return l.lanes=0,ab(o,l,d)}return $s(o,l,d)}var mb,$g,gb,vb;mb=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},$g=function(){},gb=function(o,l,d,m){var x=o.memoizedProps;if(x!==m){o=l.stateNode,ya(Zi.current);var k=null;switch(d){case"input":x=Pt(o,x),m=Pt(o,m),k=[];break;case"select":x=se({},x,{value:void 0}),m=se({},m,{value:void 0}),k=[];break;case"textarea":x=mt(o,x),m=mt(o,m),k=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=Al)}Ts(d,m);var F;d=null;for(ye in x)if(!m.hasOwnProperty(ye)&&x.hasOwnProperty(ye)&&x[ye]!=null)if(ye==="style"){var te=x[ye];for(F in te)te.hasOwnProperty(F)&&(d||(d={}),d[F]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(i.hasOwnProperty(ye)?k||(k=[]):(k=k||[]).push(ye,null));for(ye in m){var le=m[ye];if(te=x!=null?x[ye]:void 0,m.hasOwnProperty(ye)&&le!==te&&(le!=null||te!=null))if(ye==="style")if(te){for(F in te)!te.hasOwnProperty(F)||le&&le.hasOwnProperty(F)||(d||(d={}),d[F]="");for(F in le)le.hasOwnProperty(F)&&te[F]!==le[F]&&(d||(d={}),d[F]=le[F])}else d||(k||(k=[]),k.push(ye,d)),d=le;else ye==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,te=te?te.__html:void 0,le!=null&&te!==le&&(k=k||[]).push(ye,le)):ye==="children"?typeof le!="string"&&typeof le!="number"||(k=k||[]).push(ye,""+le):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(i.hasOwnProperty(ye)?(le!=null&&ye==="onScroll"&&At("scroll",o),k||te===le||(k=[])):(k=k||[]).push(ye,le))}d&&(k=k||[]).push("style",d);var ye=k;(l.updateQueue=ye)&&(l.flags|=4)}},vb=function(o,l,d,m){d!==m&&(l.flags|=4)};function Ec(o,l){if(!$t)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Xr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function zD(o,l,d){var m=l.pendingProps;switch(ag(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(l),null;case 1:return xn(l.type)&&Ph(),Xr(l),null;case 3:return m=l.stateNode,$l(),et(_n),et(Gr),xg(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Nh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ki!==null&&(Yg(ki),ki=null))),$g(o,l),Xr(l),null;case 5:yg(l);var x=ya(xc.current);if(d=l.type,o!==null&&l.stateNode!=null)gb(o,l,d,m,x),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Xr(l),null}if(o=ya(Zi.current),Nh(l)){m=l.stateNode,d=l.type;var k=l.memoizedProps;switch(m[ge]=l,m[Oe]=k,o=(l.mode&1)!==0,d){case"dialog":At("cancel",m),At("close",m);break;case"iframe":case"object":case"embed":At("load",m);break;case"video":case"audio":for(x=0;x<ca.length;x++)At(ca[x],m);break;case"source":At("error",m);break;case"img":case"image":case"link":At("error",m),At("load",m);break;case"details":At("toggle",m);break;case"input":sn(m,k),At("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},At("invalid",m);break;case"textarea":Rt(m,k),At("invalid",m)}Ts(d,k),x=null;for(var F in k)if(k.hasOwnProperty(F)){var te=k[F];F==="children"?typeof te=="string"?m.textContent!==te&&(k.suppressHydrationWarning!==!0&&Dl(m.textContent,te,o),x=["children",te]):typeof te=="number"&&m.textContent!==""+te&&(k.suppressHydrationWarning!==!0&&Dl(m.textContent,te,o),x=["children",""+te]):i.hasOwnProperty(F)&&te!=null&&F==="onScroll"&&At("scroll",m)}switch(d){case"input":ze(m),kt(m,k,!0);break;case"textarea":ze(m),qr(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=Al)}m=x,l.updateQueue=m,m!==null&&(l.flags|=4)}else{F=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=on(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=F.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=F.createElement(d,{is:m.is}):(o=F.createElement(d),d==="select"&&(F=o,m.multiple?F.multiple=!0:m.size&&(F.size=m.size))):o=F.createElementNS(o,d),o[ge]=l,o[Oe]=m,mb(o,l,!1,!1),l.stateNode=o;e:{switch(F=ni(d,m),d){case"dialog":At("cancel",o),At("close",o),x=m;break;case"iframe":case"object":case"embed":At("load",o),x=m;break;case"video":case"audio":for(x=0;x<ca.length;x++)At(ca[x],o);x=m;break;case"source":At("error",o),x=m;break;case"img":case"image":case"link":At("error",o),At("load",o),x=m;break;case"details":At("toggle",o),x=m;break;case"input":sn(o,m),x=Pt(o,m),At("invalid",o);break;case"option":x=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},x=se({},m,{value:void 0}),At("invalid",o);break;case"textarea":Rt(o,m),x=mt(o,m),At("invalid",o);break;default:x=m}Ts(d,x),te=x;for(k in te)if(te.hasOwnProperty(k)){var le=te[k];k==="style"?ir(o,le):k==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,le!=null&&nr(o,le)):k==="children"?typeof le=="string"?(d!=="textarea"||le!=="")&&Qt(o,le):typeof le=="number"&&Qt(o,""+le):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?le!=null&&k==="onScroll"&&At("scroll",o):le!=null&&D(o,k,le,F))}switch(d){case"input":ze(o),kt(o,m,!1);break;case"textarea":ze(o),qr(o);break;case"option":m.value!=null&&o.setAttribute("value",""+ve(m.value));break;case"select":o.multiple=!!m.multiple,k=m.value,k!=null?rt(o,!!m.multiple,k,!1):m.defaultValue!=null&&rt(o,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=Al)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Xr(l),null;case 6:if(o&&l.stateNode!=null)vb(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(d=ya(xc.current),ya(Zi.current),Nh(l)){if(m=l.stateNode,d=l.memoizedProps,m[ge]=l,(k=m.nodeValue!==d)&&(o=Hn,o!==null))switch(o.tag){case 3:Dl(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Dl(m.nodeValue,d,(o.mode&1)!==0)}k&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[ge]=l,l.stateNode=m}return Xr(l),null;case 13:if(et(Wt),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if($t&&Vn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)xx(),Ml(),l.flags|=98560,k=!1;else if(k=Nh(l),m!==null&&m.dehydrated!==null){if(o===null){if(!k)throw Error(r(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[ge]=l}else Ml(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xr(l),k=!1}else ki!==null&&(Yg(ki),ki=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Wt.current&1)!==0?xr===0&&(xr=3):Zg())),l.updateQueue!==null&&(l.flags|=4),Xr(l),null);case 4:return $l(),$g(o,l),o===null&&Un(l.stateNode.containerInfo),Xr(l),null;case 10:return fg(l.type._context),Xr(l),null;case 17:return xn(l.type)&&Ph(),Xr(l),null;case 19:if(et(Wt),k=l.memoizedState,k===null)return Xr(l),null;if(m=(l.flags&128)!==0,F=k.rendering,F===null)if(m)Ec(k,!1);else{if(xr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(F=zh(o),F!==null){for(l.flags|=128,Ec(k,!1),m=F.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)k=d,o=m,k.flags&=14680066,F=k.alternate,F===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=F.childLanes,k.lanes=F.lanes,k.child=F.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=F.memoizedProps,k.memoizedState=F.memoizedState,k.updateQueue=F.updateQueue,k.type=F.type,o=F.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return Tt(Wt,Wt.current&1|2),l.child}o=o.sibling}k.tail!==null&&qt()>Hl&&(l.flags|=128,m=!0,Ec(k,!1),l.lanes=4194304)}else{if(!m)if(o=zh(F),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Ec(k,!0),k.tail===null&&k.tailMode==="hidden"&&!F.alternate&&!$t)return Xr(l),null}else 2*qt()-k.renderingStartTime>Hl&&d!==1073741824&&(l.flags|=128,m=!0,Ec(k,!1),l.lanes=4194304);k.isBackwards?(F.sibling=l.child,l.child=F):(d=k.last,d!==null?d.sibling=F:l.child=F,k.last=F)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=qt(),l.sibling=null,d=Wt.current,Tt(Wt,m?d&1|2:d&1),l):(Xr(l),null);case 22:case 23:return Jg(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(qn&1073741824)!==0&&(Xr(l),l.subtreeFlags&6&&(l.flags|=8192)):Xr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function HD(o,l){switch(ag(l),l.tag){case 1:return xn(l.type)&&Ph(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return $l(),et(_n),et(Gr),xg(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return yg(l),null;case 13:if(et(Wt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ml()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return et(Wt),null;case 4:return $l(),null;case 10:return fg(l.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var Qh=!1,Yr=!1,VD=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ul(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Jt(o,l,m)}else d.current=null}function jg(o,l,d){try{d()}catch(m){Jt(o,l,m)}}var yb=!1;function qD(o,l){if(Il=ll,o=Ft(),Yi(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{d.nodeType,k.nodeType}catch{d=null;break e}var F=0,te=-1,le=-1,ye=0,ke=0,De=o,we=null;t:for(;;){for(var Be;De!==d||x!==0&&De.nodeType!==3||(te=F+x),De!==k||m!==0&&De.nodeType!==3||(le=F+m),De.nodeType===3&&(F+=De.nodeValue.length),(Be=De.firstChild)!==null;)we=De,De=Be;for(;;){if(De===o)break t;if(we===d&&++ye===x&&(te=F),we===k&&++ke===m&&(le=F),(Be=De.nextSibling)!==null)break;De=we,we=De.parentNode}De=Be}d=te===-1||le===-1?null:{start:te,end:le}}else d=null}d=d||{start:0,end:0}}else d=null;for(f={focusedElem:o,selectionRange:d},ll=!1,$e=l;$e!==null;)if(l=$e,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,$e=o;else for(;$e!==null;){l=$e;try{var Ue=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var He=Ue.memoizedProps,or=Ue.memoizedState,pe=l.stateNode,he=pe.getSnapshotBeforeUpdate(l.elementType===l.type?He:Di(l.type,He),or);pe.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var me=l.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Re){Jt(l,l.return,Re)}if(o=l.sibling,o!==null){o.return=l.return,$e=o;break}$e=l.return}return Ue=yb,yb=!1,Ue}function wc(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&o)===o){var k=x.destroy;x.destroy=void 0,k!==void 0&&jg(l,d,k)}x=x.next}while(x!==m)}}function Jh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Ug(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function _b(o){var l=o.alternate;l!==null&&(o.alternate=null,_b(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[ge],delete l[Oe],delete l[We],delete l[it],delete l[sr])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function xb(o){return o.tag===5||o.tag===3||o.tag===4}function bb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||xb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function zg(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Al));else if(m!==4&&(o=o.child,o!==null))for(zg(o,l,d),o=o.sibling;o!==null;)zg(o,l,d),o=o.sibling}function Hg(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(Hg(o,l,d),o=o.sibling;o!==null;)Hg(o,l,d),o=o.sibling}var $r=null,Ai=!1;function _o(o,l,d){for(d=d.child;d!==null;)Sb(o,l,d),d=d.sibling}function Sb(o,l,d){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Za,d)}catch{}switch(d.tag){case 5:Yr||Ul(d,l);case 6:var m=$r,x=Ai;$r=null,_o(o,l,d),$r=m,Ai=x,$r!==null&&(Ai?(o=$r,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):$r.removeChild(d.stateNode));break;case 18:$r!==null&&(Ai?(o=$r,d=d.stateNode,o.nodeType===8?G(o.parentNode,d):o.nodeType===1&&G(o,d),Zo(o)):G($r,d.stateNode));break;case 4:m=$r,x=Ai,$r=d.stateNode.containerInfo,Ai=!0,_o(o,l,d),$r=m,Ai=x;break;case 0:case 11:case 14:case 15:if(!Yr&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var k=x,F=k.destroy;k=k.tag,F!==void 0&&((k&2)!==0||(k&4)!==0)&&jg(d,l,F),x=x.next}while(x!==m)}_o(o,l,d);break;case 1:if(!Yr&&(Ul(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(te){Jt(d,l,te)}_o(o,l,d);break;case 21:_o(o,l,d);break;case 22:d.mode&1?(Yr=(m=Yr)||d.memoizedState!==null,_o(o,l,d),Yr=m):_o(o,l,d);break;default:_o(o,l,d)}}function Tb(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new VD),l.forEach(function(m){var x=eA.bind(null,o,m);d.has(m)||(d.add(m),m.then(x,x))})}}function Ii(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var k=o,F=l,te=F;e:for(;te!==null;){switch(te.tag){case 5:$r=te.stateNode,Ai=!1;break e;case 3:$r=te.stateNode.containerInfo,Ai=!0;break e;case 4:$r=te.stateNode.containerInfo,Ai=!0;break e}te=te.return}if($r===null)throw Error(r(160));Sb(k,F,x),$r=null,Ai=!1;var le=x.alternate;le!==null&&(le.return=null),x.return=null}catch(ye){Jt(x,l,ye)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Cb(l,o),l=l.sibling}function Cb(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ii(l,o),ts(o),m&4){try{wc(3,o,o.return),Jh(3,o)}catch(He){Jt(o,o.return,He)}try{wc(5,o,o.return)}catch(He){Jt(o,o.return,He)}}break;case 1:Ii(l,o),ts(o),m&512&&d!==null&&Ul(d,d.return);break;case 5:if(Ii(l,o),ts(o),m&512&&d!==null&&Ul(d,d.return),o.flags&32){var x=o.stateNode;try{Qt(x,"")}catch(He){Jt(o,o.return,He)}}if(m&4&&(x=o.stateNode,x!=null)){var k=o.memoizedProps,F=d!==null?d.memoizedProps:k,te=o.type,le=o.updateQueue;if(o.updateQueue=null,le!==null)try{te==="input"&&k.type==="radio"&&k.name!=null&&wt(x,k),ni(te,F);var ye=ni(te,k);for(F=0;F<le.length;F+=2){var ke=le[F],De=le[F+1];ke==="style"?ir(x,De):ke==="dangerouslySetInnerHTML"?nr(x,De):ke==="children"?Qt(x,De):D(x,ke,De,ye)}switch(te){case"input":gr(x,k);break;case"textarea":Sr(x,k);break;case"select":var we=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!k.multiple;var Be=k.value;Be!=null?rt(x,!!k.multiple,Be,!1):we!==!!k.multiple&&(k.defaultValue!=null?rt(x,!!k.multiple,k.defaultValue,!0):rt(x,!!k.multiple,k.multiple?[]:"",!1))}x[Oe]=k}catch(He){Jt(o,o.return,He)}}break;case 6:if(Ii(l,o),ts(o),m&4){if(o.stateNode===null)throw Error(r(162));x=o.stateNode,k=o.memoizedProps;try{x.nodeValue=k}catch(He){Jt(o,o.return,He)}}break;case 3:if(Ii(l,o),ts(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Zo(l.containerInfo)}catch(He){Jt(o,o.return,He)}break;case 4:Ii(l,o),ts(o);break;case 13:Ii(l,o),ts(o),x=o.child,x.flags&8192&&(k=x.memoizedState!==null,x.stateNode.isHidden=k,!k||x.alternate!==null&&x.alternate.memoizedState!==null||(Wg=qt())),m&4&&Tb(o);break;case 22:if(ke=d!==null&&d.memoizedState!==null,o.mode&1?(Yr=(ye=Yr)||ke,Ii(l,o),Yr=ye):Ii(l,o),ts(o),m&8192){if(ye=o.memoizedState!==null,(o.stateNode.isHidden=ye)&&!ke&&(o.mode&1)!==0)for($e=o,ke=o.child;ke!==null;){for(De=$e=ke;$e!==null;){switch(we=$e,Be=we.child,we.tag){case 0:case 11:case 14:case 15:wc(4,we,we.return);break;case 1:Ul(we,we.return);var Ue=we.stateNode;if(typeof Ue.componentWillUnmount=="function"){m=we,d=we.return;try{l=m,Ue.props=l.memoizedProps,Ue.state=l.memoizedState,Ue.componentWillUnmount()}catch(He){Jt(m,d,He)}}break;case 5:Ul(we,we.return);break;case 22:if(we.memoizedState!==null){kb(De);continue}}Be!==null?(Be.return=we,$e=Be):kb(De)}ke=ke.sibling}e:for(ke=null,De=o;;){if(De.tag===5){if(ke===null){ke=De;try{x=De.stateNode,ye?(k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(te=De.stateNode,le=De.memoizedProps.style,F=le!=null&&le.hasOwnProperty("display")?le.display:null,te.style.display=Ss("display",F))}catch(He){Jt(o,o.return,He)}}}else if(De.tag===6){if(ke===null)try{De.stateNode.nodeValue=ye?"":De.memoizedProps}catch(He){Jt(o,o.return,He)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===o)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===o)break e;for(;De.sibling===null;){if(De.return===null||De.return===o)break e;ke===De&&(ke=null),De=De.return}ke===De&&(ke=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:Ii(l,o),ts(o),m&4&&Tb(o);break;case 21:break;default:Ii(l,o),ts(o)}}function ts(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(xb(d)){var m=d;break e}d=d.return}throw Error(r(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(Qt(x,""),m.flags&=-33);var k=bb(o);Hg(o,k,x);break;case 3:case 4:var F=m.stateNode.containerInfo,te=bb(o);zg(o,te,F);break;default:throw Error(r(161))}}catch(le){Jt(o,o.return,le)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function WD(o,l,d){$e=o,Eb(o)}function Eb(o,l,d){for(var m=(o.mode&1)!==0;$e!==null;){var x=$e,k=x.child;if(x.tag===22&&m){var F=x.memoizedState!==null||Qh;if(!F){var te=x.alternate,le=te!==null&&te.memoizedState!==null||Yr;te=Qh;var ye=Yr;if(Qh=F,(Yr=le)&&!ye)for($e=x;$e!==null;)F=$e,le=F.child,F.tag===22&&F.memoizedState!==null?Db(x):le!==null?(le.return=F,$e=le):Db(x);for(;k!==null;)$e=k,Eb(k),k=k.sibling;$e=x,Qh=te,Yr=ye}wb(o)}else(x.subtreeFlags&8772)!==0&&k!==null?(k.return=x,$e=k):wb(o)}}function wb(o){for(;$e!==null;){var l=$e;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Yr||Jh(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Yr)if(d===null)m.componentDidMount();else{var x=l.elementType===l.type?d.memoizedProps:Di(l.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&kx(l,k,m);break;case 3:var F=l.updateQueue;if(F!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}kx(l,F,d)}break;case 5:var te=l.stateNode;if(d===null&&l.flags&4){d=te;var le=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":le.autoFocus&&d.focus();break;case"img":le.src&&(d.src=le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ye=l.alternate;if(ye!==null){var ke=ye.memoizedState;if(ke!==null){var De=ke.dehydrated;De!==null&&Zo(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yr||l.flags&512&&Ug(l)}catch(we){Jt(l,l.return,we)}}if(l===o){$e=null;break}if(d=l.sibling,d!==null){d.return=l.return,$e=d;break}$e=l.return}}function kb(o){for(;$e!==null;){var l=$e;if(l===o){$e=null;break}var d=l.sibling;if(d!==null){d.return=l.return,$e=d;break}$e=l.return}}function Db(o){for(;$e!==null;){var l=$e;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Jh(4,l)}catch(le){Jt(l,d,le)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var x=l.return;try{m.componentDidMount()}catch(le){Jt(l,x,le)}}var k=l.return;try{Ug(l)}catch(le){Jt(l,k,le)}break;case 5:var F=l.return;try{Ug(l)}catch(le){Jt(l,F,le)}}}catch(le){Jt(l,l.return,le)}if(l===o){$e=null;break}var te=l.sibling;if(te!==null){te.return=l.return,$e=te;break}$e=l.return}}var GD=Math.ceil,Zh=U.ReactCurrentDispatcher,Vg=U.ReactCurrentOwner,ci=U.ReactCurrentBatchConfig,ft=0,Dr=null,dr=null,jr=0,qn=0,zl=wi(0),xr=0,kc=null,xa=0,ef=0,qg=0,Dc=null,Sn=null,Wg=0,Hl=1/0,js=null,tf=!1,Gg=null,xo=null,rf=!1,bo=null,nf=0,Ac=0,Kg=null,sf=-1,of=0;function dn(){return(ft&6)!==0?qt():sf!==-1?sf:sf=qt()}function So(o){return(o.mode&1)===0?1:(ft&2)!==0&&jr!==0?jr&-jr:ID.transition!==null?(of===0&&(of=th()),of):(o=ct,o!==0||(o=window.event,o=o===void 0?16:cl(o.type)),o)}function Pi(o,l,d,m){if(50<Ac)throw Ac=0,Kg=null,Error(r(185));ks(o,d,m),((ft&2)===0||o!==Dr)&&(o===Dr&&((ft&2)===0&&(ef|=d),xr===4&&To(o,jr)),Tn(o,m),d===1&&ft===0&&(l.mode&1)===0&&(Hl=qt()+500,Oh&&go()))}function Tn(o,l){var d=o.callbackNode;Hi(o,l);var m=rl(o,o===Dr?jr:0);if(m===0)d!==null&&Yu(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&Yu(d),l===1)o.tag===0?AD(Ib.bind(null,o)):mx(Ib.bind(null,o)),I(function(){(ft&6)===0&&go()}),d=null;else{switch(ao(m)){case 1:d=Qa;break;case 4:d=Ja;break;case 16:d=io;break;case 536870912:d=eh;break;default:d=io}d=Fb(d,Ab.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function Ab(o,l){if(sf=-1,of=0,(ft&6)!==0)throw Error(r(327));var d=o.callbackNode;if(Vl()&&o.callbackNode!==d)return null;var m=rl(o,o===Dr?jr:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=af(o,m);else{l=m;var x=ft;ft|=2;var k=Rb();(Dr!==o||jr!==l)&&(js=null,Hl=qt()+500,Sa(o,l));do try{YD();break}catch(te){Pb(o,te)}while(!0);hg(),Zh.current=k,ft=x,dr!==null?l=0:(Dr=null,jr=0,l=xr)}if(l!==0){if(l===2&&(x=oo(o),x!==0&&(m=x,l=Xg(o,x))),l===1)throw d=kc,Sa(o,0),To(o,m),Tn(o,qt()),d;if(l===6)To(o,m);else{if(x=o.current.alternate,(m&30)===0&&!KD(x)&&(l=af(o,m),l===2&&(k=oo(o),k!==0&&(m=k,l=Xg(o,k))),l===1))throw d=kc,Sa(o,0),To(o,m),Tn(o,qt()),d;switch(o.finishedWork=x,o.finishedLanes=m,l){case 0:case 1:throw Error(r(345));case 2:Ta(o,Sn,js);break;case 3:if(To(o,m),(m&130023424)===m&&(l=Wg+500-qt(),10<l)){if(rl(o,0)!==0)break;if(x=o.suspendedLanes,(x&m)!==m){dn(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=b(Ta.bind(null,o,Sn,js),l);break}Ta(o,Sn,js);break;case 4:if(To(o,m),(m&4194240)===m)break;for(l=o.eventTimes,x=-1;0<m;){var F=31-vn(m);k=1<<F,F=l[F],F>x&&(x=F),m&=~k}if(m=x,m=qt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*GD(m/1960))-m,10<m){o.timeoutHandle=b(Ta.bind(null,o,Sn,js),m);break}Ta(o,Sn,js);break;case 5:Ta(o,Sn,js);break;default:throw Error(r(329))}}}return Tn(o,qt()),o.callbackNode===d?Ab.bind(null,o):null}function Xg(o,l){var d=Dc;return o.current.memoizedState.isDehydrated&&(Sa(o,l).flags|=256),o=af(o,l),o!==2&&(l=Sn,Sn=d,l!==null&&Yg(l)),o}function Yg(o){Sn===null?Sn=o:Sn.push.apply(Sn,o)}function KD(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],k=x.getSnapshot;x=x.value;try{if(!$n(k(),x))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function To(o,l){for(l&=~qg,l&=~ef,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-vn(l),m=1<<d;o[d]=-1,l&=~m}}function Ib(o){if((ft&6)!==0)throw Error(r(327));Vl();var l=rl(o,0);if((l&1)===0)return Tn(o,qt()),null;var d=af(o,l);if(o.tag!==0&&d===2){var m=oo(o);m!==0&&(l=m,d=Xg(o,m))}if(d===1)throw d=kc,Sa(o,0),To(o,l),Tn(o,qt()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ta(o,Sn,js),Tn(o,qt()),null}function Qg(o,l){var d=ft;ft|=1;try{return o(l)}finally{ft=d,ft===0&&(Hl=qt()+500,Oh&&go())}}function ba(o){bo!==null&&bo.tag===0&&(ft&6)===0&&Vl();var l=ft;ft|=1;var d=ci.transition,m=ct;try{if(ci.transition=null,ct=1,o)return o()}finally{ct=m,ci.transition=d,ft=l,(ft&6)===0&&go()}}function Jg(){qn=zl.current,et(zl)}function Sa(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,_(d)),dr!==null)for(d=dr.return;d!==null;){var m=d;switch(ag(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ph();break;case 3:$l(),et(_n),et(Gr),xg();break;case 5:yg(m);break;case 4:$l();break;case 13:et(Wt);break;case 19:et(Wt);break;case 10:fg(m.type._context);break;case 22:case 23:Jg()}d=d.return}if(Dr=o,dr=o=Co(o.current,null),jr=qn=l,xr=0,kc=null,qg=ef=xa=0,Sn=Dc=null,va!==null){for(l=0;l<va.length;l++)if(d=va[l],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,k=d.pending;if(k!==null){var F=k.next;k.next=x,m.next=F}d.pending=m}va=null}return o}function Pb(o,l){do{var d=dr;try{if(hg(),Hh.current=Gh,Vh){for(var m=Gt.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Vh=!1}if(_a=0,kr=_r=Gt=null,bc=!1,Sc=0,Vg.current=null,d===null||d.return===null){xr=1,kc=l,dr=null;break}e:{var k=o,F=d.return,te=d,le=l;if(l=jr,te.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var ye=le,ke=te,De=ke.tag;if((ke.mode&1)===0&&(De===0||De===11||De===15)){var we=ke.alternate;we?(ke.updateQueue=we.updateQueue,ke.memoizedState=we.memoizedState,ke.lanes=we.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Be=rb(F);if(Be!==null){Be.flags&=-257,nb(Be,F,te,k,l),Be.mode&1&&tb(k,ye,l),l=Be,le=ye;var Ue=l.updateQueue;if(Ue===null){var He=new Set;He.add(le),l.updateQueue=He}else Ue.add(le);break e}else{if((l&1)===0){tb(k,ye,l),Zg();break e}le=Error(r(426))}}else if($t&&te.mode&1){var or=rb(F);if(or!==null){(or.flags&65536)===0&&(or.flags|=256),nb(or,F,te,k,l),cg(jl(le,te));break e}}k=le=jl(le,te),xr!==4&&(xr=2),Dc===null?Dc=[k]:Dc.push(k),k=F;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var pe=Zx(k,le,l);wx(k,pe);break e;case 1:te=le;var he=k.type,me=k.stateNode;if((k.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(xo===null||!xo.has(me)))){k.flags|=65536,l&=-l,k.lanes|=l;var Re=eb(k,te,l);wx(k,Re);break e}}k=k.return}while(k!==null)}Lb(d)}catch(Ve){l=Ve,dr===d&&d!==null&&(dr=d=d.return);continue}break}while(!0)}function Rb(){var o=Zh.current;return Zh.current=Gh,o===null?Gh:o}function Zg(){(xr===0||xr===3||xr===2)&&(xr=4),Dr===null||(xa&268435455)===0&&(ef&268435455)===0||To(Dr,jr)}function af(o,l){var d=ft;ft|=2;var m=Rb();(Dr!==o||jr!==l)&&(js=null,Sa(o,l));do try{XD();break}catch(x){Pb(o,x)}while(!0);if(hg(),ft=d,Zh.current=m,dr!==null)throw Error(r(261));return Dr=null,jr=0,xr}function XD(){for(;dr!==null;)Ob(dr)}function YD(){for(;dr!==null&&!Ya();)Ob(dr)}function Ob(o){var l=Bb(o.alternate,o,qn);o.memoizedProps=o.pendingProps,l===null?Lb(o):dr=l,Vg.current=null}function Lb(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=zD(d,l,qn),d!==null){dr=d;return}}else{if(d=HD(d,l),d!==null){d.flags&=32767,dr=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{xr=6,dr=null;return}}if(l=l.sibling,l!==null){dr=l;return}dr=l=o}while(l!==null);xr===0&&(xr=5)}function Ta(o,l,d){var m=ct,x=ci.transition;try{ci.transition=null,ct=1,QD(o,l,d,m)}finally{ci.transition=x,ct=m}return null}function QD(o,l,d,m){do Vl();while(bo!==null);if((ft&6)!==0)throw Error(r(327));d=o.finishedWork;var x=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var k=d.lanes|d.childLanes;if(Nn(o,k),o===Dr&&(dr=Dr=null,jr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||rf||(rf=!0,Fb(io,function(){return Vl(),null})),k=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||k){k=ci.transition,ci.transition=null;var F=ct;ct=1;var te=ft;ft|=4,Vg.current=null,qD(o,d),Cb(d,o),cc(f),ll=!!Il,f=Il=null,o.current=d,WD(d),Im(),ft=te,ct=F,ci.transition=k}else o.current=d;if(rf&&(rf=!1,bo=o,nf=x),k=o.pendingLanes,k===0&&(xo=null),el(d.stateNode),Tn(o,qt()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)x=l[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(tf)throw tf=!1,o=Gg,Gg=null,o;return(nf&1)!==0&&o.tag!==0&&Vl(),k=o.pendingLanes,(k&1)!==0?o===Kg?Ac++:(Ac=0,Kg=o):Ac=0,go(),null}function Vl(){if(bo!==null){var o=ao(nf),l=ci.transition,d=ct;try{if(ci.transition=null,ct=16>o?16:o,bo===null)var m=!1;else{if(o=bo,bo=null,nf=0,(ft&6)!==0)throw Error(r(331));var x=ft;for(ft|=4,$e=o.current;$e!==null;){var k=$e,F=k.child;if(($e.flags&16)!==0){var te=k.deletions;if(te!==null){for(var le=0;le<te.length;le++){var ye=te[le];for($e=ye;$e!==null;){var ke=$e;switch(ke.tag){case 0:case 11:case 15:wc(8,ke,k)}var De=ke.child;if(De!==null)De.return=ke,$e=De;else for(;$e!==null;){ke=$e;var we=ke.sibling,Be=ke.return;if(_b(ke),ke===ye){$e=null;break}if(we!==null){we.return=Be,$e=we;break}$e=Be}}}var Ue=k.alternate;if(Ue!==null){var He=Ue.child;if(He!==null){Ue.child=null;do{var or=He.sibling;He.sibling=null,He=or}while(He!==null)}}$e=k}}if((k.subtreeFlags&2064)!==0&&F!==null)F.return=k,$e=F;else e:for(;$e!==null;){if(k=$e,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:wc(9,k,k.return)}var pe=k.sibling;if(pe!==null){pe.return=k.return,$e=pe;break e}$e=k.return}}var he=o.current;for($e=he;$e!==null;){F=$e;var me=F.child;if((F.subtreeFlags&2064)!==0&&me!==null)me.return=F,$e=me;else e:for(F=he;$e!==null;){if(te=$e,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:Jh(9,te)}}catch(Ve){Jt(te,te.return,Ve)}if(te===F){$e=null;break e}var Re=te.sibling;if(Re!==null){Re.return=te.return,$e=Re;break e}$e=te.return}}if(ft=x,go(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Za,o)}catch{}m=!0}return m}finally{ct=d,ci.transition=l}}return!1}function Mb(o,l,d){l=jl(d,l),l=Zx(o,l,1),o=yo(o,l,1),l=dn(),o!==null&&(ks(o,1,l),Tn(o,l))}function Jt(o,l,d){if(o.tag===3)Mb(o,o,d);else for(;l!==null;){if(l.tag===3){Mb(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xo===null||!xo.has(m))){o=jl(d,o),o=eb(l,o,1),l=yo(l,o,1),o=dn(),l!==null&&(ks(l,1,o),Tn(l,o));break}}l=l.return}}function JD(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=dn(),o.pingedLanes|=o.suspendedLanes&d,Dr===o&&(jr&d)===d&&(xr===4||xr===3&&(jr&130023424)===jr&&500>qt()-Wg?Sa(o,0):qg|=d),Tn(o,l)}function Nb(o,l){l===0&&((o.mode&1)===0?l=1:(l=tl,tl<<=1,(tl&130023424)===0&&(tl=4194304)));var d=dn();o=Bs(o,l),o!==null&&(ks(o,l,d),Tn(o,d))}function ZD(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Nb(o,d)}function eA(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(l),Nb(o,d)}var Bb;Bb=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||_n.current)bn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return bn=!1,UD(o,l,d);bn=(o.flags&131072)!==0}else bn=!1,$t&&(l.flags&1048576)!==0&&gx(l,Mh,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Yh(o,l),o=l.pendingProps;var x=Rl(l,Gr.current);Fl(l,d),x=Tg(null,l,m,o,x,d);var k=Cg();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,xn(m)?(k=!0,Rh(l)):k=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,gg(l),x.updater=Kh,l.stateNode=x,x._reactInternals=l,Ig(l,m,o,d),l=Lg(null,l,m,!0,k,d)):(l.tag=0,$t&&k&&og(l),cn(null,l,x,d),l=l.child),l;case 16:m=l.elementType;e:{switch(Yh(o,l),o=l.pendingProps,x=m._init,m=x(m._payload),l.type=m,x=l.tag=rA(m),o=Di(m,o),x){case 0:l=Og(null,l,m,o,d);break e;case 1:l=ub(null,l,m,o,d);break e;case 11:l=ib(null,l,m,o,d);break e;case 14:l=sb(null,l,m,Di(m.type,o),d);break e}throw Error(r(306,m,""))}return l;case 0:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Di(m,x),Og(o,l,m,x,d);case 1:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Di(m,x),ub(o,l,m,x,d);case 3:e:{if(cb(l),o===null)throw Error(r(387));m=l.pendingProps,k=l.memoizedState,x=k.element,Ex(o,l),Uh(l,m,null,d);var F=l.memoizedState;if(m=F.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){x=jl(Error(r(423)),l),l=db(o,l,m,d,x);break e}else if(m!==x){x=jl(Error(r(424)),l),l=db(o,l,m,d,x);break e}else for(Vn=Y(l.stateNode.containerInfo.firstChild),Hn=l,$t=!0,ki=null,d=Tx(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ml(),m===x){l=$s(o,l,d);break e}cn(o,l,m,d)}l=l.child}return l;case 5:return Dx(l),o===null&&ug(l),m=l.type,x=l.pendingProps,k=o!==null?o.memoizedProps:null,F=x.children,y(m,x)?F=null:k!==null&&y(m,k)&&(l.flags|=32),lb(o,l),cn(o,l,F,d),l.child;case 6:return o===null&&ug(l),null;case 13:return hb(o,l,d);case 4:return vg(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Nl(l,null,m,d):cn(o,l,m,d),l.child;case 11:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Di(m,x),ib(o,l,m,x,d);case 7:return cn(o,l,l.pendingProps,d),l.child;case 8:return cn(o,l,l.pendingProps.children,d),l.child;case 12:return cn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,x=l.pendingProps,k=l.memoizedProps,F=x.value,Tt(Fh,m._currentValue),m._currentValue=F,k!==null)if($n(k.value,F)){if(k.children===x.children&&!_n.current){l=$s(o,l,d);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var te=k.dependencies;if(te!==null){F=k.child;for(var le=te.firstContext;le!==null;){if(le.context===m){if(k.tag===1){le=Fs(-1,d&-d),le.tag=2;var ye=k.updateQueue;if(ye!==null){ye=ye.shared;var ke=ye.pending;ke===null?le.next=le:(le.next=ke.next,ke.next=le),ye.pending=le}}k.lanes|=d,le=k.alternate,le!==null&&(le.lanes|=d),pg(k.return,d,l),te.lanes|=d;break}le=le.next}}else if(k.tag===10)F=k.type===l.type?null:k.child;else if(k.tag===18){if(F=k.return,F===null)throw Error(r(341));F.lanes|=d,te=F.alternate,te!==null&&(te.lanes|=d),pg(F,d,l),F=k.sibling}else F=k.child;if(F!==null)F.return=k;else for(F=k;F!==null;){if(F===l){F=null;break}if(k=F.sibling,k!==null){k.return=F.return,F=k;break}F=F.return}k=F}cn(o,l,x.children,d),l=l.child}return l;case 9:return x=l.type,m=l.pendingProps.children,Fl(l,d),x=li(x),m=m(x),l.flags|=1,cn(o,l,m,d),l.child;case 14:return m=l.type,x=Di(m,l.pendingProps),x=Di(m.type,x),sb(o,l,m,x,d);case 15:return ob(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Di(m,x),Yh(o,l),l.tag=1,xn(m)?(o=!0,Rh(l)):o=!1,Fl(l,d),Qx(l,m,x),Ig(l,m,x,d),Lg(null,l,m,!0,o,d);case 19:return pb(o,l,d);case 22:return ab(o,l,d)}throw Error(r(156,l.tag))};function Fb(o,l){return Lt(o,l)}function tA(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(o,l,d,m){return new tA(o,l,d,m)}function e0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function rA(o){if(typeof o=="function")return e0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===re)return 11;if(o===ae)return 14}return 2}function Co(o,l){var d=o.alternate;return d===null?(d=di(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function lf(o,l,d,m,x,k){var F=2;if(m=o,typeof o=="function")e0(o)&&(F=1);else if(typeof o=="string")F=5;else e:switch(o){case $:return Ca(d.children,x,k,l);case W:F=8,x|=8;break;case O:return o=di(12,d,l,x|2),o.elementType=O,o.lanes=k,o;case Q:return o=di(13,d,l,x),o.elementType=Q,o.lanes=k,o;case ue:return o=di(19,d,l,x),o.elementType=ue,o.lanes=k,o;case K:return uf(d,x,k,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:F=10;break e;case X:F=9;break e;case re:F=11;break e;case ae:F=14;break e;case Z:F=16,m=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=di(F,d,l,x),l.elementType=o,l.type=m,l.lanes=k,l}function Ca(o,l,d,m){return o=di(7,o,m,l),o.lanes=d,o}function uf(o,l,d,m){return o=di(22,o,m,l),o.elementType=K,o.lanes=d,o.stateNode={isHidden:!1},o}function t0(o,l,d){return o=di(6,o,null,l),o.lanes=d,o}function r0(o,l,d){return l=di(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function nA(o,l,d,m,x){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yo(0),this.expirationTimes=Yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function n0(o,l,d,m,x,k,F,te,le){return o=new nA(o,l,d,te,le),l===1?(l=1,k===!0&&(l|=8)):l=0,k=di(3,null,null,l),o.current=k,k.stateNode=o,k.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},gg(k),o}function iA(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function $b(o){if(!o)return Wr;o=o._reactInternals;e:{if(ot(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(xn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(xn(d))return fx(o,d,l)}return l}function jb(o,l,d,m,x,k,F,te,le){return o=n0(d,m,!0,o,x,k,F,te,le),o.context=$b(null),d=o.current,m=dn(),x=So(d),k=Fs(m,x),k.callback=l??null,yo(d,k,x),o.current.lanes=x,ks(o,x,m),Tn(o,m),o}function cf(o,l,d,m){var x=l.current,k=dn(),F=So(x);return d=$b(d),l.context===null?l.context=d:l.pendingContext=d,l=Fs(k,F),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=yo(x,l,F),o!==null&&(Pi(o,x,F,k),jh(o,x,F)),F}function df(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Ub(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function i0(o,l){Ub(o,l),(o=o.alternate)&&Ub(o,l)}function sA(){return null}var zb=typeof reportError=="function"?reportError:function(o){console.error(o)};function s0(o){this._internalRoot=o}hf.prototype.render=s0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));cf(o,l,null,null)},hf.prototype.unmount=s0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;ba(function(){cf(null,o,null,null)}),l[be]=null}};function hf(o){this._internalRoot=o}hf.prototype.unstable_scheduleHydration=function(o){if(o){var l=Ju();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Wi.length&&l!==0&&l<Wi[d].priority;d++);Wi.splice(d,0,o),d===0&&ec(o)}};function o0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ff(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Hb(){}function oA(o,l,d,m,x){if(x){if(typeof m=="function"){var k=m;m=function(){var ye=df(F);k.call(ye)}}var F=jb(l,m,o,0,null,!1,!1,"",Hb);return o._reactRootContainer=F,o[be]=F.current,Un(o.nodeType===8?o.parentNode:o),ba(),F}for(;x=o.lastChild;)o.removeChild(x);if(typeof m=="function"){var te=m;m=function(){var ye=df(le);te.call(ye)}}var le=n0(o,0,!1,null,null,!1,!1,"",Hb);return o._reactRootContainer=le,o[be]=le.current,Un(o.nodeType===8?o.parentNode:o),ba(function(){cf(l,le,d,m)}),le}function pf(o,l,d,m,x){var k=d._reactRootContainer;if(k){var F=k;if(typeof x=="function"){var te=x;x=function(){var le=df(F);te.call(le)}}cf(l,F,o,x)}else F=oA(d,l,o,x,m);return df(F)}Qo=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=so(l.pendingLanes);d!==0&&(Qu(l,d|1),Tn(l,qt()),(ft&6)===0&&(Hl=qt()+500,go()))}break;case 13:ba(function(){var m=Bs(o,1);if(m!==null){var x=dn();Pi(m,o,1,x)}}),i0(o,1)}},Vi=function(o){if(o.tag===13){var l=Bs(o,134217728);if(l!==null){var d=dn();Pi(l,o,134217728,d)}i0(o,134217728)}},nl=function(o){if(o.tag===13){var l=So(o),d=Bs(o,l);if(d!==null){var m=dn();Pi(d,o,l,m)}i0(o,l)}},Ju=function(){return ct},il=function(o,l){var d=ct;try{return ct=o,l()}finally{ct=d}},no=function(o,l,d){switch(l){case"input":if(gr(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var x=fa(m);if(!x)throw Error(r(90));lt(m),gr(m,x)}}}break;case"textarea":Sr(o,d);break;case"select":l=d.value,l!=null&&rt(o,!!d.multiple,l,!1)}},Pe=Qg,Ye=ba;var aA={usingClientEntryPoint:!1,Events:[zn,Os,fa,oe,_e,Qg]},Ic={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lA={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Jd(o),o===null?null:o.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||sA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Za=mf.inject(lA),an=mf}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aA,Cn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o0(l))throw Error(r(200));return iA(o,l,null,d)},Cn.createRoot=function(o,l){if(!o0(o))throw Error(r(299));var d=!1,m="",x=zb;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=n0(o,1,!1,null,null,d,!1,m,x),o[be]=l.current,Un(o.nodeType===8?o.parentNode:o),new s0(l)},Cn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Jd(l),o=o===null?null:o.stateNode,o},Cn.flushSync=function(o){return ba(o)},Cn.hydrate=function(o,l,d){if(!ff(l))throw Error(r(200));return pf(null,o,l,!0,d)},Cn.hydrateRoot=function(o,l,d){if(!o0(o))throw Error(r(405));var m=d!=null&&d.hydratedSources||null,x=!1,k="",F=zb;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(k=d.identifierPrefix),d.onRecoverableError!==void 0&&(F=d.onRecoverableError)),l=jb(l,null,o,1,d??null,x,!1,k,F),o[be]=l.current,Un(o),m)for(o=0;o<m.length;o++)d=m[o],x=d._getVersion,x=x(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,x]:l.mutableSourceEagerHydrationData.push(d,x);return new hf(l)},Cn.render=function(o,l,d){if(!ff(l))throw Error(r(200));return pf(null,o,l,!1,d)},Cn.unmountComponentAtNode=function(o){if(!ff(o))throw Error(r(40));return o._reactRootContainer?(ba(function(){pf(null,null,o,!1,function(){o._reactRootContainer=null,o[be]=null})}),!0):!1},Cn.unstable_batchedUpdates=Qg,Cn.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!ff(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return pf(o,l,d,!1,m)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var Qb;function w2(){if(Qb)return u0.exports;Qb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u0.exports=mA(),u0.exports}var Jb;function gA(){if(Jb)return gf;Jb=1;var t=w2();return gf.createRoot=t.createRoot,gf.hydrateRoot=t.hydrateRoot,gf}var vA=gA();const yA=mr(vA);var h0={exports:{}},f0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function _A(){if(Zb)return f0;Zb=1;var t=Rd();function e(g,T){return g===T&&(g!==0||1/g===1/T)||g!==g&&T!==T}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function u(g,T){var S=T(),E=n({inst:{value:S,getSnapshot:T}}),v=E[0].inst,C=E[1];return s(function(){v.value=S,v.getSnapshot=T,c(v)&&C({inst:v})},[g,S,T]),i(function(){return c(v)&&C({inst:v}),g(function(){c(v)&&C({inst:v})})},[g]),a(S),S}function c(g){var T=g.getSnapshot;g=g.value;try{var S=T();return!r(g,S)}catch{return!0}}function h(g,T){return T()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return f0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,f0}var e1;function k2(){return e1||(e1=1,h0.exports=_A()),h0.exports}k2();var p0={exports:{}},m0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function xA(){if(t1)return m0;t1=1;var t=Rd(),e=k2();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return m0.useSyncExternalStoreWithSelector=function(h,p,g,T,S){var E=s(null);if(E.current===null){var v={hasValue:!1,value:null};E.current=v}else v=E.current;E=u(function(){function P(B){if(!R){if(R=!0,D=B,B=T(B),S!==void 0&&v.hasValue){var $=v.value;if(S($,B))return U=$}return U=B}if($=U,n(D,B))return $;var W=T(B);return S!==void 0&&S($,W)?$:(D=B,U=W)}var R=!1,D,U,A=g===void 0?null:g;return[function(){return P(p())},A===null?void 0:function(){return P(A())}]},[p,g,T,S]);var C=i(h,E[0],E[1]);return a(function(){v.hasValue=!0,v.value=C},[C]),c(C),C},m0}var r1;function bA(){return r1||(r1=1,p0.exports=xA()),p0.exports}var SA=bA(),vy=w2();function TA(t){t()}let D2=TA;const CA=t=>D2=t,EA=()=>D2;var N=Rd();const wA=mr(N),Hf=cA({__proto__:null,default:wA},[N]),n1=Symbol.for("react-redux-context"),i1=typeof globalThis<"u"?globalThis:{};function kA(){var t;if(!N.createContext)return{};const e=(t=i1[n1])!=null?t:i1[n1]=new Map;let r=e.get(N.createContext);return r||(r=N.createContext(null),e.set(N.createContext,r)),r}const Fo=kA();function yy(t=Fo){return function(){return N.useContext(t)}}const A2=yy(),DA=()=>{throw new Error("uSES not initialized!")};let I2=DA;const AA=t=>{I2=t},IA=(t,e)=>t===e;function PA(t=Fo){const e=t===Fo?A2:yy(t);return function(n,i={}){const{equalityFn:s=IA,stabilityCheck:a=void 0,noopCheck:u=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:h,getServerState:p,stabilityCheck:g,noopCheck:T}=e();N.useRef(!0);const S=N.useCallback({[n.name](v){return n(v)}}[n.name],[n,g,a]),E=I2(h.addNestedSub,c.getState,p||c.getState,S,s);return N.useDebugValue(E),E}}const RA=PA();function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z.apply(null,arguments)}function qe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var g0={exports:{}},xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function OA(){if(s1)return xt;s1=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,T=t?Symbol.for("react.suspense_list"):60120,S=t?Symbol.for("react.memo"):60115,E=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,P=t?Symbol.for("react.responder"):60118,R=t?Symbol.for("react.scope"):60119;function D(A){if(typeof A=="object"&&A!==null){var B=A.$$typeof;switch(B){case e:switch(A=A.type,A){case c:case h:case n:case s:case i:case g:return A;default:switch(A=A&&A.$$typeof,A){case u:case p:case E:case S:case a:return A;default:return B}}case r:return B}}}function U(A){return D(A)===h}return xt.AsyncMode=c,xt.ConcurrentMode=h,xt.ContextConsumer=u,xt.ContextProvider=a,xt.Element=e,xt.ForwardRef=p,xt.Fragment=n,xt.Lazy=E,xt.Memo=S,xt.Portal=r,xt.Profiler=s,xt.StrictMode=i,xt.Suspense=g,xt.isAsyncMode=function(A){return U(A)||D(A)===c},xt.isConcurrentMode=U,xt.isContextConsumer=function(A){return D(A)===u},xt.isContextProvider=function(A){return D(A)===a},xt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},xt.isForwardRef=function(A){return D(A)===p},xt.isFragment=function(A){return D(A)===n},xt.isLazy=function(A){return D(A)===E},xt.isMemo=function(A){return D(A)===S},xt.isPortal=function(A){return D(A)===r},xt.isProfiler=function(A){return D(A)===s},xt.isStrictMode=function(A){return D(A)===i},xt.isSuspense=function(A){return D(A)===g},xt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===h||A===s||A===i||A===g||A===T||typeof A=="object"&&A!==null&&(A.$$typeof===E||A.$$typeof===S||A.$$typeof===a||A.$$typeof===u||A.$$typeof===p||A.$$typeof===C||A.$$typeof===P||A.$$typeof===R||A.$$typeof===v)},xt.typeOf=D,xt}var o1;function LA(){return o1||(o1=1,g0.exports=OA()),g0.exports}var v0,a1;function MA(){if(a1)return v0;a1=1;var t=LA(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=n,s[t.Memo]=i;function a(E){return t.isMemo(E)?i:s[E.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,T=Object.prototype;function S(E,v,C){if(typeof v!="string"){if(T){var P=g(v);P&&P!==T&&S(E,P,C)}var R=c(v);h&&(R=R.concat(h(v)));for(var D=a(E),U=a(v),A=0;A<R.length;++A){var B=R[A];if(!r[B]&&!(C&&C[B])&&!(U&&U[B])&&!(D&&D[B])){var $=p(v,B);try{u(E,B,$)}catch{}}}}return E}return v0=S,v0}MA();var y0={exports:{}},bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function NA(){if(l1)return bt;l1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function v(C){if(typeof C=="object"&&C!==null){var P=C.$$typeof;switch(P){case t:switch(C=C.type,C){case r:case i:case n:case h:case p:return C;default:switch(C=C&&C.$$typeof,C){case u:case a:case c:case T:case g:case s:return C;default:return P}}case e:return P}}}return bt.ContextConsumer=a,bt.ContextProvider=s,bt.Element=t,bt.ForwardRef=c,bt.Fragment=r,bt.Lazy=T,bt.Memo=g,bt.Portal=e,bt.Profiler=i,bt.StrictMode=n,bt.Suspense=h,bt.SuspenseList=p,bt.isAsyncMode=function(){return!1},bt.isConcurrentMode=function(){return!1},bt.isContextConsumer=function(C){return v(C)===a},bt.isContextProvider=function(C){return v(C)===s},bt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},bt.isForwardRef=function(C){return v(C)===c},bt.isFragment=function(C){return v(C)===r},bt.isLazy=function(C){return v(C)===T},bt.isMemo=function(C){return v(C)===g},bt.isPortal=function(C){return v(C)===e},bt.isProfiler=function(C){return v(C)===i},bt.isStrictMode=function(C){return v(C)===n},bt.isSuspense=function(C){return v(C)===h},bt.isSuspenseList=function(C){return v(C)===p},bt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===i||C===n||C===h||C===p||C===S||typeof C=="object"&&C!==null&&(C.$$typeof===T||C.$$typeof===g||C.$$typeof===s||C.$$typeof===a||C.$$typeof===c||C.$$typeof===E||C.getModuleId!==void 0)},bt.typeOf=v,bt}var u1;function BA(){return u1||(u1=1,y0.exports=NA()),y0.exports}BA();function FA(){const t=EA();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,s=r={callback:n,next:null,prev:r};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const c1={notify(){},get:()=>[]};function $A(t,e){let r,n=c1;function i(g){return c(),n.subscribe(g)}function s(){n.notify()}function a(){p.onStateChange&&p.onStateChange()}function u(){return!!r}function c(){r||(r=t.subscribe(a),n=FA())}function h(){r&&(r(),r=void 0,n.clear(),n=c1)}const p={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:a,isSubscribed:u,trySubscribe:c,tryUnsubscribe:h,getListeners:()=>n};return p}const jA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UA=jA?N.useLayoutEffect:N.useEffect;function zA({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:s="once"}){const a=N.useMemo(()=>{const h=$A(t);return{store:t,subscription:h,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:s}},[t,n,i,s]),u=N.useMemo(()=>t.getState(),[t]);UA(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==t.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,u]);const c=e||Fo;return N.createElement(c.Provider,{value:a},r)}function P2(t=Fo){const e=t===Fo?A2:yy(t);return function(){const{store:n}=e();return n}}const HA=P2();function VA(t=Fo){const e=t===Fo?HA:P2(t);return function(){return e().dispatch}}const qA=VA();AA(SA.useSyncExternalStoreWithSelector);CA(vy.unstable_batchedUpdates);function Ri(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(i){return"'"+i+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $o(t){return!!t&&!!t[zt]}function Xs(t){var e;return!!t&&((function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===eI})(t)||Array.isArray(t)||!!t[v1]||!!(!((e=t.constructor)===null||e===void 0)&&e[v1])||_y(t)||xy(t))}function Ua(t,e,r){r===void 0&&(r=!1),Lu(t)===0?(r?Object.keys:su)(t).forEach((function(n){r&&typeof n=="symbol"||e(n,t[n],t)})):t.forEach((function(n,i){return e(i,n,t)}))}function Lu(t){var e=t[zt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:_y(t)?2:xy(t)?3:0}function iu(t,e){return Lu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function WA(t,e){return Lu(t)===2?t.get(e):t[e]}function R2(t,e,r){var n=Lu(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function O2(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function _y(t){return JA&&t instanceof Map}function xy(t){return ZA&&t instanceof Set}function Da(t){return t.o||t.t}function by(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=M2(t);delete e[zt];for(var r=su(e),n=0;n<r.length;n++){var i=r[n],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Sy(t,e){return e===void 0&&(e=!1),Ty(t)||$o(t)||!Xs(t)||(Lu(t)>1&&(t.set=t.add=t.clear=t.delete=GA),Object.freeze(t),e&&Ua(t,(function(r,n){return Sy(n,!0)}),!0)),t}function GA(){Ri(2)}function Ty(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ds(t){var e=Tv[t];return e||Ri(18,t),e}function KA(t,e){Tv[t]||(Tv[t]=e)}function xv(){return vd}function _0(t,e){e&&(ds("Patches"),t.u=[],t.s=[],t.v=e)}function Vf(t){bv(t),t.p.forEach(XA),t.p=null}function bv(t){t===vd&&(vd=t.l)}function d1(t){return vd={p:[],l:vd,h:t,m:!0,_:0}}function XA(t){var e=t[zt];e.i===0||e.i===1?e.j():e.g=!0}function x0(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||ds("ES5").S(e,t,n),n?(r[zt].P&&(Vf(e),Ri(4)),Xs(t)&&(t=qf(e,t),e.l||Wf(e,t)),e.u&&ds("Patches").M(r[zt].t,t,e.u,e.s)):t=qf(e,r,[]),Vf(e),e.u&&e.v(e.u,e.s),t!==L2?t:void 0}function qf(t,e,r){if(Ty(e))return e;var n=e[zt];if(!n)return Ua(e,(function(u,c){return h1(t,n,e,u,c,r)}),!0),e;if(n.A!==t)return e;if(!n.P)return Wf(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=by(n.k):n.o,s=i,a=!1;n.i===3&&(s=new Set(i),i.clear(),a=!0),Ua(s,(function(u,c){return h1(t,n,i,u,c,r,a)})),Wf(t,i,!1),r&&t.u&&ds("Patches").N(n,r,t.u,t.s)}return n.o}function h1(t,e,r,n,i,s,a){if($o(i)){var u=qf(t,i,s&&e&&e.i!==3&&!iu(e.R,n)?s.concat(n):void 0);if(R2(r,n,u),!$o(u))return;t.m=!1}else a&&r.add(i);if(Xs(i)&&!Ty(i)){if(!t.h.D&&t._<1)return;qf(t,i),e&&e.A.l||Wf(t,i)}}function Wf(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&Sy(e,r)}function b0(t,e){var r=t[zt];return(r?Da(r):t)[e]}function f1(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Ro(t){t.P||(t.P=!0,t.l&&Ro(t.l))}function S0(t){t.o||(t.o=by(t.t))}function Sv(t,e,r){var n=_y(e)?ds("MapSet").F(e,r):xy(e)?ds("MapSet").T(e,r):t.O?(function(i,s){var a=Array.isArray(i),u={i:a?1:0,A:s?s.A:xv(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=u,h=yd;a&&(c=[u],h=td);var p=Proxy.revocable(c,h),g=p.revoke,T=p.proxy;return u.k=T,u.j=g,T})(e,r):ds("ES5").J(e,r);return(r?r.A:xv()).p.push(n),n}function YA(t){return $o(t)||Ri(22,t),(function e(r){if(!Xs(r))return r;var n,i=r[zt],s=Lu(r);if(i){if(!i.P&&(i.i<4||!ds("ES5").K(i)))return i.t;i.I=!0,n=p1(r,s),i.I=!1}else n=p1(r,s);return Ua(n,(function(a,u){i&&WA(i.t,a)===u||R2(n,a,e(u))})),s===3?new Set(n):n})(t)}function p1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return by(t)}function QA(){function t(s,a){var u=i[s];return u?u.enumerable=a:i[s]=u={configurable:!0,enumerable:a,get:function(){var c=this[zt];return yd.get(c,s)},set:function(c){var h=this[zt];yd.set(h,s,c)}},u}function e(s){for(var a=s.length-1;a>=0;a--){var u=s[a][zt];if(!u.P)switch(u.i){case 5:n(u)&&Ro(u);break;case 4:r(u)&&Ro(u)}}}function r(s){for(var a=s.t,u=s.k,c=su(u),h=c.length-1;h>=0;h--){var p=c[h];if(p!==zt){var g=a[p];if(g===void 0&&!iu(a,p))return!0;var T=u[p],S=T&&T[zt];if(S?S.t!==g:!O2(T,g))return!0}}var E=!!a[zt];return c.length!==su(a).length+(E?0:1)}function n(s){var a=s.k;if(a.length!==s.t.length)return!0;var u=Object.getOwnPropertyDescriptor(a,a.length-1);if(u&&!u.get)return!0;for(var c=0;c<a.length;c++)if(!a.hasOwnProperty(c))return!0;return!1}var i={};KA("ES5",{J:function(s,a){var u=Array.isArray(s),c=(function(p,g){if(p){for(var T=Array(g.length),S=0;S<g.length;S++)Object.defineProperty(T,""+S,t(S,!0));return T}var E=M2(g);delete E[zt];for(var v=su(E),C=0;C<v.length;C++){var P=v[C];E[P]=t(P,p||!!E[P].enumerable)}return Object.create(Object.getPrototypeOf(g),E)})(u,s),h={i:u?5:4,A:a?a.A:xv(),P:!1,I:!1,R:{},l:a,t:s,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,zt,{value:h,writable:!0}),c},S:function(s,a,u){u?$o(a)&&a[zt].A===s&&e(s.p):(s.u&&(function c(h){if(h&&typeof h=="object"){var p=h[zt];if(p){var g=p.t,T=p.k,S=p.R,E=p.i;if(E===4)Ua(T,(function(D){D!==zt&&(g[D]!==void 0||iu(g,D)?S[D]||c(T[D]):(S[D]=!0,Ro(p)))})),Ua(g,(function(D){T[D]!==void 0||iu(T,D)||(S[D]=!1,Ro(p))}));else if(E===5){if(n(p)&&(Ro(p),S.length=!0),T.length<g.length)for(var v=T.length;v<g.length;v++)S[v]=!1;else for(var C=g.length;C<T.length;C++)S[C]=!0;for(var P=Math.min(T.length,g.length),R=0;R<P;R++)T.hasOwnProperty(R)||(S[R]=!0),S[R]===void 0&&c(T[R])}}}})(s.p[0]),e(s.p))},K:function(s){return s.i===4?r(s):n(s)}})}var m1,vd,Cy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",JA=typeof Map<"u",ZA=typeof Set<"u",g1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",L2=Cy?Symbol.for("immer-nothing"):((m1={})["immer-nothing"]=!0,m1),v1=Cy?Symbol.for("immer-draftable"):"__$immer_draftable",zt=Cy?Symbol.for("immer-state"):"__$immer_state",eI=""+Object.prototype.constructor,su=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,M2=Object.getOwnPropertyDescriptors||function(t){var e={};return su(t).forEach((function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)})),e},Tv={},yd={get:function(t,e){if(e===zt)return t;var r=Da(t);if(!iu(r,e))return(function(i,s,a){var u,c=f1(s,a);return c?"value"in c?c.value:(u=c.get)===null||u===void 0?void 0:u.call(i.k):void 0})(t,r,e);var n=r[e];return t.I||!Xs(n)?n:n===b0(t.t,e)?(S0(t),t.o[e]=Sv(t.A.h,n,t)):n},has:function(t,e){return e in Da(t)},ownKeys:function(t){return Reflect.ownKeys(Da(t))},set:function(t,e,r){var n=f1(Da(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=b0(Da(t),e),s=i==null?void 0:i[zt];if(s&&s.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(O2(r,i)&&(r!==void 0||iu(t.t,e)))return!0;S0(t),Ro(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return b0(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,S0(t),Ro(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Da(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Ri(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ri(12)}},td={};Ua(yd,(function(t,e){td[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),td.deleteProperty=function(t,e){return td.set.call(this,t,e,void 0)},td.set=function(t,e,r){return yd.set.call(this,t[0],e,r,t[0])};var tI=(function(){function t(r){var n=this;this.O=g1,this.D=!0,this.produce=function(i,s,a){if(typeof i=="function"&&typeof s!="function"){var u=s;s=i;var c=n;return function(v){var C=this;v===void 0&&(v=u);for(var P=arguments.length,R=Array(P>1?P-1:0),D=1;D<P;D++)R[D-1]=arguments[D];return c.produce(v,(function(U){var A;return(A=s).call.apply(A,[C,U].concat(R))}))}}var h;if(typeof s!="function"&&Ri(6),a!==void 0&&typeof a!="function"&&Ri(7),Xs(i)){var p=d1(n),g=Sv(n,i,void 0),T=!0;try{h=s(g),T=!1}finally{T?Vf(p):bv(p)}return typeof Promise<"u"&&h instanceof Promise?h.then((function(v){return _0(p,a),x0(v,p)}),(function(v){throw Vf(p),v})):(_0(p,a),x0(h,p))}if(!i||typeof i!="object"){if((h=s(i))===void 0&&(h=i),h===L2&&(h=void 0),n.D&&Sy(h,!0),a){var S=[],E=[];ds("Patches").M(i,h,S,E),a(S,E)}return h}Ri(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(h){for(var p=arguments.length,g=Array(p>1?p-1:0),T=1;T<p;T++)g[T-1]=arguments[T];return n.produceWithPatches(h,(function(S){return i.apply(void 0,[S].concat(g))}))};var a,u,c=n.produce(i,s,(function(h,p){a=h,u=p}));return typeof Promise<"u"&&c instanceof Promise?c.then((function(h){return[h,a,u]})):[c,a,u]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Xs(r)||Ri(8),$o(r)&&(r=YA(r));var n=d1(this),i=Sv(this,r,void 0);return i[zt].C=!0,bv(n),i},e.finishDraft=function(r,n){var i=r&&r[zt],s=i.A;return _0(s,n),x0(void 0,s)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!g1&&Ri(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var s=n[i];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}i>-1&&(n=n.slice(i+1));var a=ds("Patches").$;return $o(r)?a(r,n):this.produce(r,(function(u){return a(u,n)}))},t})(),Qn=new tI,N2=Qn.produce;Qn.produceWithPatches.bind(Qn);Qn.setAutoFreeze.bind(Qn);Qn.setUseProxies.bind(Qn);Qn.applyPatches.bind(Qn);Qn.createDraft.bind(Qn);Qn.finishDraft.bind(Qn);function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function rI(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B2(t){var e=rI(t,"string");return _d(e)=="symbol"?e:e+""}function nI(t,e,r){return(e=B2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(r),!0).forEach(function(n){nI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function en(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var x1=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),T0=function(){return Math.random().toString(36).substring(7).split("").join(".")},Gf={INIT:"@@redux/INIT"+T0(),REPLACE:"@@redux/REPLACE"+T0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+T0()}};function iI(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function F2(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(en(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(en(1));return r(F2)(t,e)}if(typeof t!="function")throw new Error(en(2));var i=t,s=e,a=[],u=a,c=!1;function h(){u===a&&(u=a.slice())}function p(){if(c)throw new Error(en(3));return s}function g(v){if(typeof v!="function")throw new Error(en(4));if(c)throw new Error(en(5));var C=!0;return h(),u.push(v),function(){if(C){if(c)throw new Error(en(6));C=!1,h();var R=u.indexOf(v);u.splice(R,1),a=null}}}function T(v){if(!iI(v))throw new Error(en(7));if(typeof v.type>"u")throw new Error(en(8));if(c)throw new Error(en(9));try{c=!0,s=i(s,v)}finally{c=!1}for(var C=a=u,P=0;P<C.length;P++){var R=C[P];R()}return v}function S(v){if(typeof v!="function")throw new Error(en(10));i=v,T({type:Gf.REPLACE})}function E(){var v,C=g;return v={subscribe:function(R){if(typeof R!="object"||R===null)throw new Error(en(11));function D(){R.next&&R.next(p())}D();var U=C(D);return{unsubscribe:U}}},v[x1]=function(){return this},v}return T({type:Gf.INIT}),n={dispatch:T,subscribe:g,getState:p,replaceReducer:S},n[x1]=E,n}function sI(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:Gf.INIT});if(typeof n>"u")throw new Error(en(12));if(typeof r(void 0,{type:Gf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(en(13))})}function oI(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var s=Object.keys(r),a;try{sI(r)}catch(u){a=u}return function(c,h){if(c===void 0&&(c={}),a)throw a;for(var p=!1,g={},T=0;T<s.length;T++){var S=s[T],E=r[S],v=c[S],C=E(v,h);if(typeof C>"u")throw h&&h.type,new Error(en(14));g[S]=C,p=p||C!==v}return p=p||s.length!==Object.keys(c).length,p?g:c}}function Kf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function aI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),s=function(){throw new Error(en(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=e.map(function(c){return c(a)});return s=Kf.apply(void 0,u)(i.dispatch),_1(_1({},i),{},{dispatch:s})}}}var Xf="NOT_FOUND";function lI(t){var e;return{get:function(n){return e&&t(e.key,n)?e.value:Xf},put:function(n,i){e={key:n,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function uI(t,e){var r=[];function n(u){var c=r.findIndex(function(p){return e(u,p.key)});if(c>-1){var h=r[c];return c>0&&(r.splice(c,1),r.unshift(h)),h.value}return Xf}function i(u,c){n(u)===Xf&&(r.unshift({key:u,value:c}),r.length>t&&r.pop())}function s(){return r}function a(){r=[]}return{get:n,put:i,getEntries:s,clear:a}}var cI=function(e,r){return e===r};function dI(t){return function(r,n){if(r===null||n===null||r.length!==n.length)return!1;for(var i=r.length,s=0;s<i;s++)if(!t(r[s],n[s]))return!1;return!0}}function hI(t,e){var r=typeof e=="object"?e:{equalityCheck:e},n=r.equalityCheck,i=n===void 0?cI:n,s=r.maxSize,a=s===void 0?1:s,u=r.resultEqualityCheck,c=dI(i),h=a===1?lI(c):uI(a,c);function p(){var g=h.get(arguments);if(g===Xf){if(g=t.apply(null,arguments),u){var T=h.getEntries(),S=T.find(function(E){return u(E.value,g)});S&&(g=S.value)}h.put(arguments,g)}return g}return p.clearCache=function(){return h.clear()},p}function fI(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(n){return typeof n=="function"})){var r=e.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return e}function pI(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var h=0,p,g={memoizeOptions:void 0},T=u.pop();if(typeof T=="object"&&(g=T,T=u.pop()),typeof T!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof T+"]");var S=g,E=S.memoizeOptions,v=E===void 0?r:E,C=Array.isArray(v)?v:[v],P=fI(u),R=t.apply(void 0,[function(){return h++,T.apply(null,arguments)}].concat(C)),D=t(function(){for(var A=[],B=P.length,$=0;$<B;$++)A.push(P[$].apply(null,arguments));return p=R.apply(null,A),p});return Object.assign(D,{resultFunc:T,memoizedResultFunc:R,dependencies:P,lastResult:function(){return p},recomputations:function(){return h},resetRecomputations:function(){return h=0}}),D};return i}var xs=pI(hI);function $2(t){var e=function(n){var i=n.dispatch,s=n.getState;return function(a){return function(u){return typeof u=="function"?u(i,s,t):a(u)}}};return e}var Cv=$2();Cv.withExtraArgument=$2;var j2=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),mI=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(h){return function(p){return c([h,p])}}function c(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},mu=function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},gI=Object.defineProperty,vI=Object.defineProperties,yI=Object.getOwnPropertyDescriptors,b1=Object.getOwnPropertySymbols,_I=Object.prototype.hasOwnProperty,xI=Object.prototype.propertyIsEnumerable,S1=function(t,e,r){return e in t?gI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},No=function(t,e){for(var r in e||(e={}))_I.call(e,r)&&S1(t,r,e[r]);if(b1)for(var n=0,i=b1(e);n<i.length;n++){var r=i[n];xI.call(e,r)&&S1(t,r,e[r])}return t},C0=function(t,e){return vI(t,yI(e))},bI=function(t,e,r){return new Promise(function(n,i){var s=function(c){try{u(r.next(c))}catch(h){i(h)}},a=function(c){try{u(r.throw(c))}catch(h){i(h)}},u=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(s,a)};u((r=r.apply(t,e)).next())})},SI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kf:Kf.apply(null,arguments)};function TI(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}var CI=(function(t){j2(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,mu([void 0],r[0].concat(this)))):new(e.bind.apply(e,mu([void 0],r.concat(this))))},e})(Array),EI=(function(t){j2(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,mu([void 0],r[0].concat(this)))):new(e.bind.apply(e,mu([void 0],r.concat(this))))},e})(Array);function Ev(t){return Xs(t)?N2(t,function(){}):t}function wI(t){return typeof t=="boolean"}function kI(){return function(e){return DI(e)}}function DI(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var n=new CI;return r&&(wI(r)?n.push(Cv):n.push(Cv.withExtraArgument(r.extraArgument))),n}function AI(t){var e=kI(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,s=r.middleware,a=s===void 0?e():s,u=r.devTools,c=u===void 0?!0:u,h=r.preloadedState,p=h===void 0?void 0:h,g=r.enhancers,T=g===void 0?void 0:g,S;if(typeof i=="function")S=i;else if(TI(i))S=oI(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=a;typeof E=="function"&&(E=E(e));var v=aI.apply(void 0,E),C=Kf;c&&(C=SI(No({trace:!1},typeof c=="object"&&c)));var P=new EI(v),R=P;Array.isArray(T)?R=mu([v],T):typeof T=="function"&&(R=T(P));var D=C.apply(void 0,R);return F2(S,p,D)}function Bo(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var s=e.apply(void 0,n);if(!s)throw new Error("prepareAction did not return an object");return No(No({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}function U2(t){var e={},r=[],n,i={addCase:function(s,a){var u=typeof s=="string"?s:s.type;if(u in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[u]=a,i},addMatcher:function(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase:function(s){return n=s,i}};return t(i),[e,r,n]}function II(t){return typeof t=="function"}function PI(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?U2(e):[e,r,n],s=i[0],a=i[1],u=i[2],c;if(II(t))c=function(){return Ev(t())};else{var h=Ev(t);c=function(){return h}}function p(g,T){g===void 0&&(g=c());var S=mu([s[T.type]],a.filter(function(E){var v=E.matcher;return v(T)}).map(function(E){var v=E.reducer;return v}));return S.filter(function(E){return!!E}).length===0&&(S=[u]),S.reduce(function(E,v){if(v)if($o(E)){var C=E,P=v(C,T);return P===void 0?E:P}else{if(Xs(E))return N2(E,function(R){return v(R,T)});var P=v(E,T);if(P===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return P}return E},g)}return p.getInitialState=c,p}function RI(t,e){return t+"/"+e}function OI(t){var e=t.name,r=typeof t.initialState=="function"?t.initialState:Ev(t.initialState),n=t.reducers||{},i=Object.keys(n),s={},a={},u={};i.forEach(function(p){var g=n[p],T=RI(e,p),S,E;"reducer"in g?(S=g.reducer,E=g.prepare):S=g,s[p]=S,a[T]=S,u[p]=E?Bo(T,E):Bo(T)});function c(){var p=typeof t.extraReducers=="function"?U2(t.extraReducers):[t.extraReducers],g=p[0],T=g===void 0?{}:g,S=p[1],E=S===void 0?[]:S,v=p[2],C=v===void 0?void 0:v,P=No(No({},T),a);return PI(r,function(R){for(var D in P)R.addCase(D,P[D]);for(var U=0,A=E;U<A.length;U++){var B=A[U];R.addMatcher(B.matcher,B.reducer)}C&&R.addDefaultCase(C)})}var h;return{name:e,reducer:function(p,g){return h||(h=c()),h(p,g)},actions:u,caseReducers:s,getInitialState:function(){return h||(h=c()),h.getInitialState()}}}var LI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",MI=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=LI[Math.random()*64|0];return e},NI=["name","message","stack","code"],E0=(function(){function t(e,r){this.payload=e,this.meta=r}return t})(),T1=(function(){function t(e,r){this.payload=e,this.meta=r}return t})(),BI=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=NI;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},Fi=(function(){function t(e,r,n){var i=Bo(e+"/fulfilled",function(h,p,g,T){return{payload:h,meta:C0(No({},T||{}),{arg:g,requestId:p,requestStatus:"fulfilled"})}}),s=Bo(e+"/pending",function(h,p,g){return{payload:void 0,meta:C0(No({},g||{}),{arg:p,requestId:h,requestStatus:"pending"})}}),a=Bo(e+"/rejected",function(h,p,g,T,S){return{payload:T,error:(n&&n.serializeError||BI)(h||"Rejected"),meta:C0(No({},S||{}),{arg:g,requestId:p,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),u=typeof AbortController<"u"?AbortController:(function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h})();function c(h){return function(p,g,T){var S=n!=null&&n.idGenerator?n.idGenerator(h):MI(),E=new u,v;function C(R){v=R,E.abort()}var P=(function(){return bI(this,null,function(){var R,D,U,A,B,$,W;return mI(this,function(O){switch(O.label){case 0:return O.trys.push([0,4,,5]),A=(R=n==null?void 0:n.condition)==null?void 0:R.call(n,h,{getState:g,extra:T}),$I(A)?[4,A]:[3,2];case 1:A=O.sent(),O.label=2;case 2:if(A===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return B=new Promise(function(M,X){return E.signal.addEventListener("abort",function(){return X({name:"AbortError",message:v||"Aborted"})})}),p(s(S,h,(D=n==null?void 0:n.getPendingMeta)==null?void 0:D.call(n,{requestId:S,arg:h},{getState:g,extra:T}))),[4,Promise.race([B,Promise.resolve(r(h,{dispatch:p,getState:g,extra:T,requestId:S,signal:E.signal,abort:C,rejectWithValue:function(M,X){return new E0(M,X)},fulfillWithValue:function(M,X){return new T1(M,X)}})).then(function(M){if(M instanceof E0)throw M;return M instanceof T1?i(M.payload,S,h,M.meta):i(M,S,h)})])];case 3:return U=O.sent(),[3,5];case 4:return $=O.sent(),U=$ instanceof E0?a(null,S,h,$.payload,$.meta):a($,S,h),[3,5];case 5:return W=n&&!n.dispatchConditionRejection&&a.match(U)&&U.meta.condition,W||p(U),[2,U]}})})})();return Object.assign(P,{abort:C,requestId:S,arg:h,unwrap:function(){return P.then(FI)}})}}return Object.assign(c,{pending:s,rejected:a,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function FI(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function $I(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ey="listenerMiddleware";Bo(Ey+"/add");Bo(Ey+"/removeAll");Bo(Ey+"/remove");var C1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);QA();function Ap(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function jI(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Ap(r);return(i,s)=>n.then(a=>s(a.transaction(e,i).objectStore(e)))}let w0;function wy(){return w0||(w0=jI("keyval-store","keyval")),w0}function UI(t,e=wy()){return e("readonly",r=>Ap(r.get(t)))}function zI(t,e,r=wy()){return r("readwrite",n=>(n.put(e,t),Ap(n.transaction)))}function HI(t=wy()){return t("readwrite",e=>(e.clear(),Ap(e.transaction)))}const Us=(t,e)=>zI(t,e),Ao=t=>UI(t),VI=()=>HI(),E1=t=>new Date(t*1e3),wv=t=>{const e=t;return e.stream_id!==void 0&&e.stream_type!=="live"},qI=t=>t.series_id!==void 0,z2=t=>{const e=t;return e.stream_type==="live"&&e.stream_id!==void 0},ky=t=>{switch(t){case"mkv":return"video/webm";case"mp4":case"mov":case"m4v":return"video/mp4";case"avi":return"video/x-msvideo";case"3gp":return"video/3gpp";case"mpg":case"mpeg":return"video/mpeg";case"ogg":case"ogv":case"opus":return"video/ogg";case"mpd":return"application/dash+xml";case"m3u8":return"application/x-mpegURL";default:return`video/${t}`}},H2=async t=>{navigator.clipboard?await navigator.clipboard.writeText(t):WI(t),console.log(t)};function WI(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(r){console.error("Unable to copy to clipboard",r)}document.body.removeChild(e)}const Ur={API_CONFIG:"apiConfig",LIVE_CATEGORIES:"liveCategories",VOD_CATEGORIES:"vodCategories",SERIES_CATEGORIES:"seriesCategories",LIVE_STREAMS:"liveStreams",VOD_STREAMS:"vodStreams",SERIES_STREAMS:"seriesStreams",WATCHLIST:"watchlist"},V2="%[a-f0-9]{2}",w1=new RegExp("("+V2+")|([^%]+?)","gi"),k1=new RegExp("("+V2+")+","gi");function kv(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;const r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],kv(r),kv(n))}function GI(t){try{return decodeURIComponent(t)}catch{let e=t.match(w1)||[];for(let r=1;r<e.length;r++)t=kv(e,r).join(""),e=t.match(w1)||[];return t}}function KI(t){const e={"%FE%FF":"","%FF%FE":""};let r=k1.exec(t);for(;r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{const i=GI(r[0]);i!==r[0]&&(e[r[0]]=i)}r=k1.exec(t)}e["%C2"]="";const n=Object.keys(e);for(const i of n)t=t.replace(new RegExp(i,"g"),e[i]);return t}function XI(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return KI(t)}}function q2(t,e){if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t===""||e==="")return[];const r=t.indexOf(e);return r===-1?[]:[t.slice(0,r),t.slice(r+e.length)]}function YI(t,e){const r={};if(Array.isArray(e))for(const n of e){const i=Object.getOwnPropertyDescriptor(t,n);i!=null&&i.enumerable&&Object.defineProperty(r,n,i)}else for(const n of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,n);if(i.enumerable){const s=t[n];e(n,s,t)&&Object.defineProperty(r,n,i)}}return r}const QI=t=>t==null,JI=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Dv=Symbol("encodeFragmentIdentifier");function ZI(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[hr(e,t),"[",i,"]"].join("")]:[...r,[hr(e,t),"[",hr(i,t),"]=",hr(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[hr(e,t),"[]"].join("")]:[...r,[hr(e,t),"[]=",hr(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[hr(e,t),":list="].join("")]:[...r,[hr(e,t),":list=",hr(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[hr(r,t),e,hr(i,t)].join("")]:[[n,hr(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,hr(e,t)]:[...r,[hr(e,t),"=",hr(n,t)].join("")]}}function eP(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)]$/.exec(r),r=r.replace(/\[\d*]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[])$/.exec(r),r=r.replace(/\[]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[...i[r],n]};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[...i[r],n]};case"comma":case"separator":return(r,n,i)=>{const s=typeof n=="string"&&n.includes(t.arrayFormatSeparator),a=typeof n=="string"&&!s&&qs(n,t).includes(t.arrayFormatSeparator);n=a?qs(n,t):n;const u=s||a?n.split(t.arrayFormatSeparator).map(c=>qs(c,t)):n===null?n:qs(n,t);i[r]=u};case"bracket-separator":return(r,n,i)=>{const s=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!s){i[r]=n&&qs(n,t);return}const a=n===null?[]:n.split(t.arrayFormatSeparator).map(u=>qs(u,t));if(i[r]===void 0){i[r]=a;return}i[r]=[...i[r],...a]};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[...[i[r]].flat(),n]}}}function W2(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function hr(t,e){return e.encode?e.strict?JI(t):encodeURIComponent(t):t}function qs(t,e){return e.decode?XI(t):t}function G2(t){return Array.isArray(t)?t.sort():typeof t=="object"?G2(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function K2(t){const e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function tP(t){let e="";const r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function D1(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function Dy(t){t=K2(t);const e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function Ay(t,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},W2(e.arrayFormatSeparator);const r=eP(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(const i of t.split("&")){if(i==="")continue;const s=e.decode?i.replace(/\+/g," "):i;let[a,u]=q2(s,"=");a===void 0&&(a=s),u=u===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?u:qs(u,e),r(qs(a,e),u,n)}for(const[i,s]of Object.entries(n))if(typeof s=="object"&&s!==null)for(const[a,u]of Object.entries(s))s[a]=D1(u,e);else n[i]=D1(s,e);return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{const a=n[s];return a&&typeof a=="object"&&!Array.isArray(a)?i[s]=G2(a):i[s]=a,i},Object.create(null))}function X2(t,e){if(!t)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},W2(e.arrayFormatSeparator);const r=a=>e.skipNull&&QI(t[a])||e.skipEmptyString&&t[a]==="",n=ZI(e),i={};for(const[a,u]of Object.entries(t))r(a)||(i[a]=u);const s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(a=>{const u=t[a];return u===void 0?"":u===null?hr(a,e):Array.isArray(u)?u.length===0&&e.arrayFormat==="bracket-separator"?hr(a,e)+"[]":u.reduce(n(a),[]).join("&"):hr(a,e)+"="+hr(u,e)}).filter(a=>a.length>0).join("&")}function Y2(t,e){var i;e={decode:!0,...e};let[r,n]=q2(t,"#");return r===void 0&&(r=t),{url:((i=r==null?void 0:r.split("?"))==null?void 0:i[0])??"",query:Ay(Dy(t),e),...e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:qs(n,e)}:{}}}function Q2(t,e){e={encode:!0,strict:!0,[Dv]:!0,...e};const r=K2(t.url).split("?")[0]||"",n=Dy(t.url),i={...Ay(n,{sort:!1}),...t.query};let s=X2(i,e);s&&(s=`?${s}`);let a=tP(t.url);if(t.fragmentIdentifier){const u=new URL(r);u.hash=t.fragmentIdentifier,a=e[Dv]?u.hash:`#${t.fragmentIdentifier}`}return`${r}${s}${a}`}function J2(t,e,r){r={parseFragmentIdentifier:!0,[Dv]:!1,...r};const{url:n,query:i,fragmentIdentifier:s}=Y2(t,r);return Q2({url:n,query:YI(i,e),fragmentIdentifier:s},r)}function rP(t,e,r){const n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return J2(t,n,r)}const sd=Object.freeze(Object.defineProperty({__proto__:null,exclude:rP,extract:Dy,parse:Ay,parseUrl:Y2,pick:J2,stringify:X2,stringifyUrl:Q2},Symbol.toStringTag,{value:"Module"}));function Aa(t){t=t.replace(/[\s]/g,"");let e,r;const n=t.replace(/\D+/g,"");if(n.length<=8){if(n.length===8){const T=parseInt(n.slice(0,4),10),S=parseInt(n.slice(4,6),10)-1||0,E=parseInt(n.slice(6,8),10)||1;return new Date(Date.UTC(T,S,E))}if(n.length===6){const T=parseInt(n.slice(0,4),10),S=parseInt(n.slice(4,6),10)-1||0;return new Date(Date.UTC(T,S))}if(n.length===4)return new Date(n)}t.endsWith("Z")?(e=t.slice(0,-1),r=null):(e=t.slice(0,-5),r=t.slice(-5));const i=e.replace(/[-:Zz]/g,""),s=parseInt(i.slice(0,4),10),a=parseInt(i.slice(4,6),10)-1||0,u=parseInt(i.slice(6,8),10)||1,c=parseInt(i.slice(8,10),10)||0,h=parseInt(i.slice(10,12),10)||0,p=parseInt(i.slice(12,14),10)||0,g=new Date(Date.UTC(s,a,u,c,h,p));if(r){const T=r.slice(0,1),S=parseInt(r.slice(1,3),10),E=parseInt(r.slice(3,5),10),v=S*60+E;T==="+"?g.setUTCMinutes(g.getUTCMinutes()-v):T==="-"&&g.setUTCMinutes(g.getUTCMinutes()+v)}return g}function nP(t){const e=c=>c<10?`0${c}`:c.toString(),r=e(t.getUTCFullYear()),n=e(t.getUTCMonth()+1),i=e(t.getUTCDate()),s=e(t.getUTCHours()),a=e(t.getUTCMinutes()),u=e(t.getUTCSeconds());return`${r}${n}${i}${s}${a}${u} +0000`}function Z2(t){const e=new Map;for(const[r,n]of t.entries())e.set(n,r);return e}const eC=["actor","adapter","aspect","audio","category","channel","colour","commentator","composer","country","credits","date","desc","director","display-name","editor","episode-num","guest","icon","image","keyword","language","last-chance","length","new","orig-language","premiere","present","presenter","previously-shown","producer","programme","quality","rating","review","star-rating","stereo","sub-title","subtitles","title","tv","url","value","video","writer"],tC=["channel","clumpidx","date","generator-info-name","generator-info-url","guest","height","id","lang","orient","pdc-start","reviewer","role","showview","size","source-data-url","source-info-name","source-info-url","source","src","start","stop","system","type","units","videoplus","vps-start","width"],Iy=new Map([...eC.map(t=>[t,t])]),Py=new Map([...tC.map(t=>[t,t])]),iP=Z2(Iy),sP=Z2(Py);function eo(t,e){if(!eC.includes(t))throw new Error(`Invalid tag: ${t}`);const r=Iy,n=iP;r&&n&&(r.set(t,e),n.set(e,t))}function qa(t,e){if(!tC.includes(t))throw new Error(`Invalid attribute: ${t}`);const r=Py,n=sP;r&&n&&(r.set(t,e),n.set(e,t))}eo("display-name","displayName");eo("episode-num","episodeNum");eo("last-chance","lastChance");eo("orig-language","origLanguage");eo("previously-shown","previouslyShown");eo("star-rating","starRating");eo("sub-title","subTitle");eo("channel","channels");eo("programme","programmes");qa("generator-info-name","generatorInfoName");qa("generator-info-url","generatorInfoUrl");qa("pdc-start","pdcStart");qa("vps-start","vpsStart");qa("source-data-url","sourceDataUrl");qa("source-info-name","sourceInfoName");qa("source-info-url","sourceInfoUrl");function oP(t){let e=0;const r="<",n=">",i=r.charCodeAt(0),s=n.charCodeAt(0),a=45,u=47,c=33,h=39,p=34,g=91,T=93,S=63,E=`\r
	>/= `,v=["new","icon","previously-shown"];function C(A){const B=[];for(;t[e];)if(t.charCodeAt(e)==i){if(t.charCodeAt(e+1)===u){const W=e+2;if(e=t.indexOf(n,e),t.substring(W,e).indexOf(A)==-1){const O=t.substring(0,e).split(`
`);throw new Error(`Unexpected close tag
Line: `+(O.length-1)+`
Column: `+(O[O.length-1].length+1)+`
Char: `+t[e])}return e+1&&(e+=1),B}else if(t.charCodeAt(e+1)===c){if(t.charCodeAt(e+2)==a){for(;e!==-1&&!(t.charCodeAt(e)===s&&t.charCodeAt(e-1)==a&&t.charCodeAt(e-2)==a&&e!=-1);)e=t.indexOf(n,e+1);e===-1&&(e=t.length)}else{const W=e+1;e+=2;let O=!1;for(;(t.charCodeAt(e)!==s||O===!0)&&t[e];)t.charCodeAt(e)===g?O=!0:O===!0&&t.charCodeAt(e)===T&&(O=!1),e++;B.push(t.substring(W,e))}e++;continue}const $=D();if(B.push($),$.tagName.charCodeAt(0)===S&&$.children){for(let W=0,O=$.children.length;W<O;W++)B.push($.children[W]);$.children=[]}}else{const $=P().trim();$.length>0&&B.push($),e++}return B}function P(){const A=e;return e=t.indexOf(r,e)-1,e===-2&&(e=t.length),t.slice(A,e+1)}function R(){const A=e;for(;E.indexOf(t[e])===-1&&t[e];)e++;return t.slice(A,e)}function D(){e++;const A=R(),B={};let $=[];for(;t.charCodeAt(e)!==s&&t[e];){const W=t.charCodeAt(e);if(W>64&&W<91||W>96&&W<123){const O=R();let M=t.charCodeAt(e),X;for(;M&&M!==h&&M!==p&&!(M>64&&M<91||M>96&&M<123)&&M!==s;)e++,M=t.charCodeAt(e);if(M===h||M===p){if(X=U(),e===-1)return{tagName:A,attributes:B,children:$}}else X=null,e--;B[O]=X}e++}return t.charCodeAt(e-1)!==u&&v.indexOf(A)===-1?(e++,$=C(A)):e++,A==="date"?{tagName:A,attributes:B,children:$.map(W=>nP(Aa(W)))}:{tagName:A,attributes:B,children:$}}function U(){const A=t[e],B=e+1;return e=t.indexOf(A,B),t.slice(B,e)}return C("")}const aP=63,lP=["credits","date","language","orig-language","length","country","previously-shown","premiere","last-chance","new","video","audio","present","colour","aspect","quality","present","stereo","value"],uP=["date","value","aspect","present","colour","quality","stereo"];function rC(t,e={tagName:"tv",attributes:{},children:[]}){let r={};if(!t.length)return r;if(t.length===1&&typeof t[0]=="string"&&(t[0]==="yes"||t[0]==="no"))return t[0]==="yes";if(t.length===1&&typeof t[0]=="string"&&typeof e!="string")return Object.keys(e.attributes).length?{_value:t[0]}:t[0];for(let n=0,i=t.length;n<i;n++){let s=t[n];if(typeof e!="string"&&e.tagName==="actor"&&typeof s=="string"&&(r._value=s),typeof s!="object"||s.tagName.charCodeAt(0)===aP)continue;if(s.tagName==="new"){r[s.tagName]=!0;continue}s.tagName==="tv"&&(r={});const a=Iy.get(s.tagName)||s.tagName;!r[a]&&lP.indexOf(s.tagName)===-1&&(r[a]=[]);let u=rC(s.children||[],s);if(Object.keys(s.attributes).length&&!Array.isArray(u)){s.attributes.size&&(s.attributes.size=Number(s.attributes.size)),a==="programmes"?(s.attributes.stop&&(s.attributes.stop=Aa(s.attributes.stop)),s.attributes["pdc-start"]&&(s.attributes["pdc-start"]=Aa(s.attributes["pdc-start"])),s.attributes["vps-start"]&&(s.attributes["vps-start"]=Aa(s.attributes["vps-start"]))):a==="icon"?(s.attributes.width&&(s.attributes.width=Number(s.attributes.width)),s.attributes.height&&(s.attributes.height=Number(s.attributes.height))):s.attributes.units?u._value=Number(u._value):s.attributes.guest&&(s.attributes.guest=s.attributes.guest==="yes"),s.attributes.date&&(s.attributes.date=Aa(s.attributes.date)),s.attributes.start&&(s.attributes.start=Aa(s.attributes.start));const c=Object.keys(s.attributes).reduce((h,p)=>(h[Py.get(p)||p]=s.attributes[p],h),{});Object.assign(u,c)}if(a==="subtitles"){typeof u.language=="string"&&(u.language={_value:u.language}),r[a].push(u);continue}if(a==="tv"){r=u;continue}if(a==="date"){r[a]=Aa(u);continue}if(typeof u=="string"&&uP.indexOf(s.tagName)===-1&&(u={_value:u}),Array.isArray(r[a])){r[a].push(u);continue}r[a]=u}return r}function cP(t,e={asDom:!1}){const r=oP(t);return e.asDom?r:rC(r)}class to{static async execute(e,r,n){const i={...e.auth,action:r,...n},s=await fetch(`${e.baseUrl}/player_api.php?${sd.stringify(i)}`);if(!s.ok){const u=`An error has occured: ${s.status}`;return Promise.reject(new Error(u))}const a=await s.json();return r&&a.hasOwnProperty("user")&&a.user.hasOwnProperty("status")&&a.user_info.status==="Disabled"?Promise.reject(new Error("account disabled")):Promise.resolve(a)}static async getAccountInfo(e){const n=await this.execute(e);return!n.user_info||n.user_info.auth===0?Promise.reject(new Error("authentication error")):Promise.resolve(n)}static getLiveStreamCategories(e){return this.execute(e,"get_live_categories")}static getVODStreamCategories(e){return this.execute(e,"get_vod_categories")}static getSeriesStreamCategories(e){return this.execute(e,"get_series_categories")}static getLiveStreams(e,r){return r===void 0?this.execute(e,"get_live_streams"):this.execute(e,"get_live_streams",{category_id:r.toString()})}static getVODStreams(e,r){return r===void 0?this.execute(e,"get_vod_streams"):this.execute(e,"get_vod_streams",{category_id:r.toString()})}static getSeriesStreams(e,r){return r===void 0?this.execute(e,"get_series"):this.execute(e,"get_series",{category_id:r.toString()})}static async getVODInfo(e,r){const n=await this.execute(e,"get_vod_info",{vod_id:r.toString()});return!n.info||n.info.length===0?Promise.reject(new Error(`vod with id: ${r} not found`)):Promise.resolve(n)}static async getSeriesInfo(e,r){const n=await this.execute(e,"get_series_info",{series_id:r.toString()});return!n.info||n.info.length===0?Promise.reject(new Error(`series with id: ${r} not found`)):Promise.resolve(n)}static getEPGForLiveStream(e,r,n){return n!==void 0?this.execute(e,"get_short_epg",{stream_id:r.toString(),limit:n.toString()}):this.execute(e,"get_short_epg",{stream_id:r.toString()})}static getAllEPGForLiveStream(e,r){return this.execute(e,"get_simple_data_table",{stream_id:r.toString()})}static async getAllEPG(e){const r={...e.auth},n=await fetch(`${e.baseUrl}/xmltv.php?${sd.stringify(r)}`);if(!n.ok){const a=`An error has occured: ${n.status}`;return Promise.reject(new Error(a))}const i=await n.text(),s=cP(i);return Promise.resolve(s)}static async getM3uPlaylist(e){const r={...e.auth,type:"m3u_plus",output:"ts"},n=await fetch(`${e.baseUrl}/get.php?${sd.stringify(r)}`);if(!n.ok){const s=`An error has occured: ${n.status}`;return Promise.reject(new Error(s))}return await n.text()}}const Av=Fi("load",async(t,e)=>{e.dispatch(nC());const r=await Ao(Ur.API_CONFIG);if(!r)return Promise.reject("no stored login found");const n=JSON.parse(r);if(![n.auth.username,n.auth.password,n.baseUrl].every(Boolean))return Promise.reject("empty login details");try{await e.dispatch(Ip({config:n})).unwrap()}catch{return Promise.reject("stored login no longer valid")}const i=await Ao(Ur.LIVE_CATEGORIES),s=i?JSON.parse(i):[],a=await Ao(Ur.VOD_CATEGORIES),u=a?JSON.parse(a):[],c=await Ao(Ur.SERIES_CATEGORIES),h=c?JSON.parse(c):[],p=await Ao(Ur.LIVE_STREAMS),g=p?JSON.parse(p):[],T=await Ao(Ur.VOD_STREAMS),S=T?JSON.parse(T):[],E=await Ao(Ur.SERIES_STREAMS),v=E?JSON.parse(E):[];return{apiConfig:n,liveCategories:s,vodCategories:u,seriesCategories:h,liveStreams:g,vodStreams:S,seriesStreams:v}}),nC=Fi("loadWatchlist",async(t,e)=>{const r=await Ao(Ur.WATCHLIST);return r?JSON.parse(r):[]}),Ip=Fi("fetchAccountInfo",async(t,e)=>{const r=t.config??e.getState().app.apiConfig;return await to.getAccountInfo(r)}),Ry=Fi("fetchLiveStreamCategories",async(t,e)=>{const n=e.getState().app.apiConfig;return[n.auth.username,n.auth.password,n.baseUrl].every(Boolean)?await to.getLiveStreamCategories(n):Promise.reject("no api config")}),Oy=Fi("fetchVODStreamCategories",async(t,e)=>{const n=e.getState().app.apiConfig;return[n.auth.username,n.auth.password,n.baseUrl].every(Boolean)?await to.getVODStreamCategories(n):Promise.reject("no api config")}),Ly=Fi("fetchSeriesStreamCategories",async(t,e)=>{const n=e.getState().app.apiConfig;return[n.auth.username,n.auth.password,n.baseUrl].every(Boolean)?await to.getSeriesStreamCategories(n):Promise.reject("no api config")}),My=Fi("fetchSeriesStreams",async(t,e)=>{const n=e.getState().app.apiConfig;return[n.auth.username,n.auth.password,n.baseUrl].every(Boolean)?await to.getSeriesStreams(n):Promise.reject("no api config")}),Ny=Fi("fetchVODStreams",async(t,e)=>{const n=e.getState().app.apiConfig;return[n.auth.username,n.auth.password,n.baseUrl].every(Boolean)?await to.getVODStreams(n):Promise.reject("no api config")}),By=Fi("fetchLiveStreams",async(t,e)=>{const n=e.getState().app.apiConfig;return[n.auth.username,n.auth.password,n.baseUrl].every(Boolean)?await to.getLiveStreams(n):Promise.reject("no api config")}),dP=Fi("fetchVODInfo",async(t,e)=>{const n=e.getState().app.apiConfig;return[n.auth.username,n.auth.password,n.baseUrl].every(Boolean)?await to.getVODInfo(n,t.vodId):Promise.reject("no api config")}),hP=Fi("fetchSeriesInfo",async(t,e)=>{const n=e.getState().app.apiConfig;return[n.auth.username,n.auth.password,n.baseUrl].every(Boolean)?await to.getSeriesInfo(n,t.seriesId):Promise.reject("no api config")}),fP={status:"needsLoad",apiConfig:{baseUrl:"",auth:{username:"",password:""}},accountInfo:{},lastFetchedAccountInfo:0,vodCategories:[],liveCategories:[],seriesCategories:[],liveStreams:[],vodStreams:[],seriesStreams:[],watchlist:[]},iC=OI({name:"app",initialState:fP,reducers:{setApiConfig:(t,e)=>{t.apiConfig=e.payload,Us(Ur.API_CONFIG,JSON.stringify(t.apiConfig)).catch(console.error)},setAppStatus:(t,e)=>{t.status=e.payload},removeAccount:t=>{VI(),t.status="needsAuth"},addToWatchlist:(t,e)=>{t.watchlist.push(e.payload),Us(Ur.WATCHLIST,JSON.stringify(t.watchlist)).catch(console.error)},removeFromWatchlist:(t,e)=>{const r=t.watchlist.findIndex(n=>n.id===e.payload.id&&n.type===e.payload.type);t.watchlist.splice(r,1),Us(Ur.WATCHLIST,JSON.stringify(t.watchlist)).catch(console.error)}},extraReducers:t=>{t.addCase(Av.fulfilled,(e,r)=>{e.apiConfig=r.payload.apiConfig,e.liveCategories=r.payload.liveCategories,e.vodCategories=r.payload.vodCategories,e.seriesCategories=r.payload.seriesCategories,e.liveStreams=r.payload.liveStreams,e.vodStreams=r.payload.vodStreams,e.seriesStreams=r.payload.seriesStreams,e.status="ready"}).addCase(Av.rejected,(e,r)=>{e.status="needsAuth",console.log(r.error)}).addCase(nC.fulfilled,(e,r)=>{e.watchlist=r.payload}).addCase(Ip.fulfilled,(e,r)=>{e.accountInfo=r.payload,e.lastFetchedAccountInfo=Date.now()}).addCase(Ry.fulfilled,(e,r)=>{e.liveCategories=r.payload,Us(Ur.LIVE_CATEGORIES,JSON.stringify(e.liveCategories)).catch(console.error)}).addCase(Oy.fulfilled,(e,r)=>{e.vodCategories=r.payload,Us(Ur.VOD_CATEGORIES,JSON.stringify(e.vodCategories)).catch(console.error)}).addCase(Ly.fulfilled,(e,r)=>{e.seriesCategories=r.payload,Us(Ur.SERIES_CATEGORIES,JSON.stringify(e.seriesCategories)).catch(console.error)}).addCase(By.fulfilled,(e,r)=>{e.liveStreams=r.payload,Us(Ur.LIVE_STREAMS,JSON.stringify(e.liveStreams)).catch(console.error)}).addCase(Ny.fulfilled,(e,r)=>{e.vodStreams=r.payload,Us(Ur.VOD_STREAMS,JSON.stringify(e.vodStreams)).catch(console.error)}).addCase(My.fulfilled,(e,r)=>{e.seriesStreams=r.payload,Us(Ur.SERIES_STREAMS,JSON.stringify(e.seriesStreams)).catch(console.error)})}}),{setApiConfig:pP,setAppStatus:mP,removeFromWatchlist:sC,addToWatchlist:oC,removeAccount:gP}=iC.actions,vP=iC.reducer,yP=AI({reducer:{app:vP}}),Rc={grey:{50:"#FBFCFE",100:"#F0F4F8",200:"#DDE7EE",300:"#CDD7E1",400:"#9FA6AD",500:"#636B74",600:"#555E68",700:"#32383E",800:"#171A1C",900:"#0B0D0E"},blue:{50:"#EDF5FD",100:"#E3EFFB",200:"#C7DFF7",300:"#97C3F0",400:"#4393E4",500:"#0B6BCB",600:"#185EA5",700:"#12467B",800:"#0A2744",900:"#051423"},yellow:{50:"#FEFAF6",100:"#FDF0E1",200:"#FCE1C2",300:"#F3C896",400:"#EA9A3E",500:"#9A5B13",600:"#72430D",700:"#492B08",800:"#2E1B05",900:"#1D1002"},red:{50:"#FEF6F6",100:"#FCE4E4",200:"#F7C5C5",300:"#F09898",400:"#E47474",500:"#C41C1C",600:"#A51818",700:"#7D1212",800:"#430A0A",900:"#240505"},green:{50:"#F6FEF6",100:"#E3FBE3",200:"#C7F7C7",300:"#A1E8A1",400:"#51BC51",500:"#1F7A1F",600:"#136C13",700:"#0A470A",800:"#042F04",900:"#021D02"}},Od="$$joy";function jo(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function aC(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var _P=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xP=aC(function(t){return _P.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function bP(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function SP(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var TP=(function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(SP(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=bP(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t})(),Zr="-ms-",Yf="-moz-",vt="-webkit-",lC="comm",Fy="rule",$y="decl",CP="@import",uC="@keyframes",EP="@layer",wP=Math.abs,Pp=String.fromCharCode,kP=Object.assign;function DP(t,e){return Hr(t,0)^45?(((e<<2^Hr(t,0))<<2^Hr(t,1))<<2^Hr(t,2))<<2^Hr(t,3):0}function cC(t){return t.trim()}function AP(t,e){return(t=e.exec(t))?t[0]:t}function yt(t,e,r){return t.replace(e,r)}function Iv(t,e){return t.indexOf(e)}function Hr(t,e){return t.charCodeAt(e)|0}function xd(t,e,r){return t.slice(e,r)}function is(t){return t.length}function jy(t){return t.length}function vf(t,e){return e.push(t),t}function IP(t,e){return t.map(e).join("")}var Rp=1,gu=1,dC=0,Rn=0,pr=0,Mu="";function Op(t,e,r,n,i,s,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Rp,column:gu,length:a,return:""}}function Oc(t,e){return kP(Op("",null,null,"",null,null,0),t,{length:-t.length},e)}function PP(){return pr}function RP(){return pr=Rn>0?Hr(Mu,--Rn):0,gu--,pr===10&&(gu=1,Rp--),pr}function Yn(){return pr=Rn<dC?Hr(Mu,Rn++):0,gu++,pr===10&&(gu=1,Rp++),pr}function hs(){return Hr(Mu,Rn)}function Af(){return Rn}function Ld(t,e){return xd(Mu,t,e)}function bd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hC(t){return Rp=gu=1,dC=is(Mu=t),Rn=0,[]}function fC(t){return Mu="",t}function If(t){return cC(Ld(Rn-1,Pv(t===91?t+2:t===40?t+1:t)))}function OP(t){for(;(pr=hs())&&pr<33;)Yn();return bd(t)>2||bd(pr)>3?"":" "}function LP(t,e){for(;--e&&Yn()&&!(pr<48||pr>102||pr>57&&pr<65||pr>70&&pr<97););return Ld(t,Af()+(e<6&&hs()==32&&Yn()==32))}function Pv(t){for(;Yn();)switch(pr){case t:return Rn;case 34:case 39:t!==34&&t!==39&&Pv(pr);break;case 40:t===41&&Pv(t);break;case 92:Yn();break}return Rn}function MP(t,e){for(;Yn()&&t+pr!==57;)if(t+pr===84&&hs()===47)break;return"/*"+Ld(e,Rn-1)+"*"+Pp(t===47?t:Yn())}function NP(t){for(;!bd(hs());)Yn();return Ld(t,Rn)}function BP(t){return fC(Pf("",null,null,null,[""],t=hC(t),0,[0],t))}function Pf(t,e,r,n,i,s,a,u,c){for(var h=0,p=0,g=a,T=0,S=0,E=0,v=1,C=1,P=1,R=0,D="",U=i,A=s,B=n,$=D;C;)switch(E=R,R=Yn()){case 40:if(E!=108&&Hr($,g-1)==58){Iv($+=yt(If(R),"&","&\f"),"&\f")!=-1&&(P=-1);break}case 34:case 39:case 91:$+=If(R);break;case 9:case 10:case 13:case 32:$+=OP(E);break;case 92:$+=LP(Af()-1,7);continue;case 47:switch(hs()){case 42:case 47:vf(FP(MP(Yn(),Af()),e,r),c);break;default:$+="/"}break;case 123*v:u[h++]=is($)*P;case 125*v:case 59:case 0:switch(R){case 0:case 125:C=0;case 59+p:P==-1&&($=yt($,/\f/g,"")),S>0&&is($)-g&&vf(S>32?I1($+";",n,r,g-1):I1(yt($," ","")+";",n,r,g-2),c);break;case 59:$+=";";default:if(vf(B=A1($,e,r,h,p,i,u,D,U=[],A=[],g),s),R===123)if(p===0)Pf($,e,B,B,U,s,g,u,A);else switch(T===99&&Hr($,3)===110?100:T){case 100:case 108:case 109:case 115:Pf(t,B,B,n&&vf(A1(t,B,B,0,0,i,u,D,i,U=[],g),A),i,A,g,u,n?U:A);break;default:Pf($,B,B,B,[""],A,0,u,A)}}h=p=S=0,v=P=1,D=$="",g=a;break;case 58:g=1+is($),S=E;default:if(v<1){if(R==123)--v;else if(R==125&&v++==0&&RP()==125)continue}switch($+=Pp(R),R*v){case 38:P=p>0?1:($+="\f",-1);break;case 44:u[h++]=(is($)-1)*P,P=1;break;case 64:hs()===45&&($+=If(Yn())),T=hs(),p=g=is(D=$+=NP(Af())),R++;break;case 45:E===45&&is($)==2&&(v=0)}}return s}function A1(t,e,r,n,i,s,a,u,c,h,p){for(var g=i-1,T=i===0?s:[""],S=jy(T),E=0,v=0,C=0;E<n;++E)for(var P=0,R=xd(t,g+1,g=wP(v=a[E])),D=t;P<S;++P)(D=cC(v>0?T[P]+" "+R:yt(R,/&\f/g,T[P])))&&(c[C++]=D);return Op(t,e,r,i===0?Fy:u,c,h,p)}function FP(t,e,r){return Op(t,e,r,lC,Pp(PP()),xd(t,2,-2),0)}function I1(t,e,r,n){return Op(t,e,r,$y,xd(t,0,n),xd(t,n+1,-1),n)}function ou(t,e){for(var r="",n=jy(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function $P(t,e,r,n){switch(t.type){case EP:if(t.children.length)break;case CP:case $y:return t.return=t.return||t.value;case lC:return"";case uC:return t.return=t.value+"{"+ou(t.children,n)+"}";case Fy:t.value=t.props.join(",")}return is(r=ou(t.children,n))?t.return=t.value+"{"+r+"}":""}function jP(t){var e=jy(t);return function(r,n,i,s){for(var a="",u=0;u<e;u++)a+=t[u](r,n,i,s)||"";return a}}function UP(t){return function(e){e.root||(e=e.return)&&t(e)}}var zP=function(e,r,n){for(var i=0,s=0;i=s,s=hs(),i===38&&s===12&&(r[n]=1),!bd(s);)Yn();return Ld(e,Rn)},HP=function(e,r){var n=-1,i=44;do switch(bd(i)){case 0:i===38&&hs()===12&&(r[n]=1),e[n]+=zP(Rn-1,r,n);break;case 2:e[n]+=If(i);break;case 4:if(i===44){e[++n]=hs()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Pp(i)}while(i=Yn());return e},VP=function(e,r){return fC(HP(hC(e),r))},P1=new WeakMap,qP=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!P1.get(n))&&!i){P1.set(e,!0);for(var s=[],a=VP(r,s),u=n.props,c=0,h=0;c<a.length;c++)for(var p=0;p<u.length;p++,h++)e.props[h]=s[c]?a[c].replace(/&\f/g,u[p]):u[p]+" "+a[c]}}},WP=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function pC(t,e){switch(DP(t,e)){case 5103:return vt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return vt+t+Yf+t+Zr+t+t;case 6828:case 4268:return vt+t+Zr+t+t;case 6165:return vt+t+Zr+"flex-"+t+t;case 5187:return vt+t+yt(t,/(\w+).+(:[^]+)/,vt+"box-$1$2"+Zr+"flex-$1$2")+t;case 5443:return vt+t+Zr+"flex-item-"+yt(t,/flex-|-self/,"")+t;case 4675:return vt+t+Zr+"flex-line-pack"+yt(t,/align-content|flex-|-self/,"")+t;case 5548:return vt+t+Zr+yt(t,"shrink","negative")+t;case 5292:return vt+t+Zr+yt(t,"basis","preferred-size")+t;case 6060:return vt+"box-"+yt(t,"-grow","")+vt+t+Zr+yt(t,"grow","positive")+t;case 4554:return vt+yt(t,/([^-])(transform)/g,"$1"+vt+"$2")+t;case 6187:return yt(yt(yt(t,/(zoom-|grab)/,vt+"$1"),/(image-set)/,vt+"$1"),t,"")+t;case 5495:case 3959:return yt(t,/(image-set\([^]*)/,vt+"$1$`$1");case 4968:return yt(yt(t,/(.+:)(flex-)?(.*)/,vt+"box-pack:$3"+Zr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vt+t+t;case 4095:case 3583:case 4068:case 2532:return yt(t,/(.+)-inline(.+)/,vt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(is(t)-1-e>6)switch(Hr(t,e+1)){case 109:if(Hr(t,e+4)!==45)break;case 102:return yt(t,/(.+:)(.+)-([^]+)/,"$1"+vt+"$2-$3$1"+Yf+(Hr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Iv(t,"stretch")?pC(yt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Hr(t,e+1)!==115)break;case 6444:switch(Hr(t,is(t)-3-(~Iv(t,"!important")&&10))){case 107:return yt(t,":",":"+vt)+t;case 101:return yt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vt+(Hr(t,14)===45?"inline-":"")+"box$3$1"+vt+"$2$3$1"+Zr+"$2box$3")+t}break;case 5936:switch(Hr(t,e+11)){case 114:return vt+t+Zr+yt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return vt+t+Zr+yt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return vt+t+Zr+yt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return vt+t+Zr+t+t}return t}var GP=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case $y:e.return=pC(e.value,e.length);break;case uC:return ou([Oc(e,{value:yt(e.value,"@","@"+vt)})],i);case Fy:if(e.length)return IP(e.props,function(s){switch(AP(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ou([Oc(e,{props:[yt(s,/:(read-\w+)/,":"+Yf+"$1")]})],i);case"::placeholder":return ou([Oc(e,{props:[yt(s,/:(plac\w+)/,":"+vt+"input-$1")]}),Oc(e,{props:[yt(s,/:(plac\w+)/,":"+Yf+"$1")]}),Oc(e,{props:[yt(s,/:(plac\w+)/,Zr+"input-$1")]})],i)}return""})}},KP=[GP],XP=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var C=v.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||KP,s={},a,u=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var C=v.getAttribute("data-emotion").split(" "),P=1;P<C.length;P++)s[C[P]]=!0;u.push(v)});var c,h=[qP,WP];{var p,g=[$P,UP(function(v){p.insert(v)})],T=jP(h.concat(i,g)),S=function(C){return ou(BP(C),T)};c=function(C,P,R,D){p=R,S(C?C+"{"+P.styles+"}":P.styles),D&&(E.inserted[P.name]=!0)}}var E={key:r,sheet:new TP({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return E.sheet.hydrate(u),E},YP=!0;function QP(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var mC=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||YP===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},gC=function(e,r,n){mC(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function JP(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ZP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},eR=/[A-Z]|^ms/g,tR=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vC=function(e){return e.charCodeAt(1)===45},R1=function(e){return e!=null&&typeof e!="boolean"},k0=aC(function(t){return vC(t)?t:t.replace(eR,"-$&").toLowerCase()}),O1=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(tR,function(n,i,s){return ss={name:i,styles:s,next:ss},i})}return ZP[e]!==1&&!vC(e)&&typeof r=="number"&&r!==0?r+"px":r};function Sd(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ss={name:r.name,styles:r.styles,next:ss},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ss={name:n.name,styles:n.styles,next:ss},n=n.next;var i=r.styles+";";return i}return rR(t,e,r)}case"function":{if(t!==void 0){var s=ss,a=r(t);return ss=s,Sd(t,e,a)}break}}if(e==null)return r;var u=e[r];return u!==void 0?u:r}function rR(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Sd(t,e,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=s+"{"+e[a]+"}":R1(a)&&(n+=k0(s)+":"+O1(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)R1(a[u])&&(n+=k0(s)+":"+O1(s,a[u])+";");else{var c=Sd(t,e,a);switch(s){case"animation":case"animationName":{n+=k0(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}return n}var L1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ss,Uy=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ss=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=Sd(n,r,a)):s+=a[0];for(var u=1;u<e.length;u++)s+=Sd(n,r,e[u]),i&&(s+=a[u]);L1.lastIndex=0;for(var c="",h;(h=L1.exec(s))!==null;)c+="-"+h[1];var p=JP(s)+c;return{name:p,styles:s,next:ss}},nR=function(e){return e()},yC=Hf.useInsertionEffect?Hf.useInsertionEffect:!1,iR=yC||nR,M1=yC||N.useLayoutEffect,_C=N.createContext(typeof HTMLElement<"u"?XP({key:"css"}):null);_C.Provider;var xC=function(e){return N.forwardRef(function(r,n){var i=N.useContext(_C);return e(r,i,n)})},Lp=N.createContext({}),sR=xC(function(t,e){var r=t.styles,n=Uy([r],void 0,N.useContext(Lp)),i=N.useRef();return M1(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,c=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),c!==null&&(u=!0,c.setAttribute("data-emotion",s),a.hydrate([c])),i.current=[a,u],function(){a.flush()}},[e]),M1(function(){var s=i.current,a=s[0],u=s[1];if(u){s[1]=!1;return}if(n.next!==void 0&&gC(e,n.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function bC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Uy(e)}var oR=function(){var e=bC.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},aR=xP,lR=function(e){return e!=="theme"},N1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?aR:lR},B1=function(e,r,n){var i;if(r){var s=r.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},uR=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return mC(r,n,i),iR(function(){return gC(r,n,i)}),null},cR=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,a;r!==void 0&&(s=r.label,a=r.target);var u=B1(e,r,n),c=u||N1(i),h=!c("as");return function(){var p=arguments,g=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{g.push(p[0][0]);for(var T=p.length,S=1;S<T;S++)g.push(p[S],p[0][S])}var E=xC(function(v,C,P){var R=h&&v.as||i,D="",U=[],A=v;if(v.theme==null){A={};for(var B in v)A[B]=v[B];A.theme=N.useContext(Lp)}typeof v.className=="string"?D=QP(C.registered,U,v.className):v.className!=null&&(D=v.className+" ");var $=Uy(g.concat(U),C.registered,A);D+=C.key+"-"+$.name,a!==void 0&&(D+=" "+a);var W=h&&u===void 0?N1(R):c,O={};for(var M in v)h&&M==="as"||W(M)&&(O[M]=v[M]);return O.className=D,O.ref=P,N.createElement(N.Fragment,null,N.createElement(uR,{cache:C,serialized:$,isStringTag:typeof R=="string"}),N.createElement(R,O))});return E.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=g,E.__emotion_forwardProp=u,Object.defineProperty(E,"toString",{value:function(){return"."+a}}),E.withComponent=function(v,C){return t(v,z({},r,C,{shouldForwardProp:B1(E,C,!0)})).apply(void 0,g)},E}},dR=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Rv=cR.bind();dR.forEach(function(t){Rv[t]=Rv(t)});function hR(t){return t==null||Object.keys(t).length===0}function Rf(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(hR(i)?r:i):e;return L.jsx(sR,{styles:n})}function SC(t,e){return Rv(t,e)}const fR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Oo(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function TC(t){if(!Oo(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=TC(t[r])}),e}function tn(t,e,r={clone:!0}){const n=r.clone?z({},t):t;return Oo(t)&&Oo(e)&&Object.keys(e).forEach(i=>{Oo(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Oo(t[i])?n[i]=tn(t[i],e[i],r):r.clone?n[i]=Oo(e[i])?TC(e[i]):e[i]:n[i]=e[i]}),n}const pR=["values","unit","step"],mR=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>z({},r,{[n.key]:n.val}),{})};function CC(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=qe(t,pR),s=mR(e),a=Object.keys(s);function u(T){return`@media (min-width:${typeof e[T]=="number"?e[T]:T}${r})`}function c(T){return`@media (max-width:${(typeof e[T]=="number"?e[T]:T)-n/100}${r})`}function h(T,S){const E=a.indexOf(S);return`@media (min-width:${typeof e[T]=="number"?e[T]:T}${r}) and (max-width:${(E!==-1&&typeof e[a[E]]=="number"?e[a[E]]:S)-n/100}${r})`}function p(T){return a.indexOf(T)+1<a.length?h(T,a[a.indexOf(T)+1]):u(T)}function g(T){const S=a.indexOf(T);return S===0?u(a[1]):S===a.length-1?c(a[S]):h(T,a[a.indexOf(T)+1]).replace("@media","@media not all and")}return z({keys:a,values:s,up:u,down:c,between:h,only:p,not:g,unit:r},i)}const gR={borderRadius:4};function od(t,e){return e?tn(t,e,{clone:!1}):t}const zy={xs:0,sm:600,md:900,lg:1200,xl:1536},F1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${zy[t]}px)`};function Ys(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints||F1;return e.reduce((a,u,c)=>(a[s.up(s.keys[c])]=r(e[c]),a),{})}if(typeof e=="object"){const s=n.breakpoints||F1;return Object.keys(e).reduce((a,u)=>{if(Object.keys(s.values||zy).indexOf(u)!==-1){const c=s.up(u);a[c]=r(e[u],u)}else{const c=u;a[c]=e[c]}return a},{})}return r(e)}function vR(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const s=t.up(i);return n[s]={},n},{}))||{}}function yR(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function je(t){if(typeof t!="string")throw new Error(jo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function vu(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function Qf(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=vu(t,r)||n,e&&(i=e(i,n,t)),i}function lr(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,s=a=>{if(a[e]==null)return null;const u=a[e],c=a.theme,h=vu(c,n)||{};return Ys(a,u,g=>{let T=Qf(h,i,g);return g===T&&typeof g=="string"&&(T=Qf(h,i,`${e}${g==="default"?"":je(g)}`,g)),r===!1?T:{[r]:T}})};return s.propTypes={},s.filterProps=[e],s}function _R(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const xR={m:"margin",p:"padding"},bR={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},SR=_R(t=>{if(t.length>2)if($1[t])t=$1[t];else return[t];const[e,r]=t.split(""),n=xR[e],i=bR[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),Hy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Vy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Hy,...Vy];function Md(t,e,r,n){var i;const s=(i=vu(t,e,!1))!=null?i:r;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function EC(t){return Md(t,"spacing",8)}function Nd(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function TR(t,e){return r=>t.reduce((n,i)=>(n[i]=Nd(e,r),n),{})}function CR(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=SR(r),s=TR(i,n),a=t[r];return Ys(t,a,s)}function wC(t,e){const r=EC(t.theme);return Object.keys(t).map(n=>CR(t,e,n,r)).reduce(od,{})}function Zt(t){return wC(t,Hy)}Zt.propTypes={};Zt.filterProps=Hy;function er(t){return wC(t,Vy)}er.propTypes={};er.filterProps=Vy;function kC(t=8){if(t.mui)return t;const e=EC({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function Mp(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>e[s]?od(i,e[s](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function fi(t){return typeof t!="number"?t:`${t}px solid`}function bi(t,e){return lr({prop:t,themeKey:"borders",transform:e})}const ER=bi("border",fi),wR=bi("borderTop",fi),kR=bi("borderRight",fi),DR=bi("borderBottom",fi),AR=bi("borderLeft",fi),IR=bi("borderColor"),PR=bi("borderTopColor"),RR=bi("borderRightColor"),OR=bi("borderBottomColor"),LR=bi("borderLeftColor"),MR=bi("outline",fi),NR=bi("outlineColor"),Np=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Md(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Nd(e,n)});return Ys(t,t.borderRadius,r)}return null};Np.propTypes={};Np.filterProps=["borderRadius"];Mp(ER,wR,kR,DR,AR,IR,PR,RR,OR,LR,Np,MR,NR);const Bp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Md(t.theme,"spacing",8),r=n=>({gap:Nd(e,n)});return Ys(t,t.gap,r)}return null};Bp.propTypes={};Bp.filterProps=["gap"];const Fp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Md(t.theme,"spacing",8),r=n=>({columnGap:Nd(e,n)});return Ys(t,t.columnGap,r)}return null};Fp.propTypes={};Fp.filterProps=["columnGap"];const $p=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Md(t.theme,"spacing",8),r=n=>({rowGap:Nd(e,n)});return Ys(t,t.rowGap,r)}return null};$p.propTypes={};$p.filterProps=["rowGap"];const BR=lr({prop:"gridColumn"}),FR=lr({prop:"gridRow"}),$R=lr({prop:"gridAutoFlow"}),jR=lr({prop:"gridAutoColumns"}),UR=lr({prop:"gridAutoRows"}),zR=lr({prop:"gridTemplateColumns"}),HR=lr({prop:"gridTemplateRows"}),VR=lr({prop:"gridTemplateAreas"}),qR=lr({prop:"gridArea"});Mp(Bp,Fp,$p,BR,FR,$R,jR,UR,zR,HR,VR,qR);function au(t,e){return e==="grey"?e:t}const WR=lr({prop:"color",themeKey:"palette",transform:au}),GR=lr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:au}),KR=lr({prop:"backgroundColor",themeKey:"palette",transform:au});Mp(WR,GR,KR);function Kn(t){return t<=1&&t!==0?`${t*100}%`:t}const XR=lr({prop:"width",transform:Kn}),qy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i;const s=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||zy[r];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Kn(r)}};return Ys(t,t.maxWidth,e)}return null};qy.filterProps=["maxWidth"];const YR=lr({prop:"minWidth",transform:Kn}),QR=lr({prop:"height",transform:Kn}),JR=lr({prop:"maxHeight",transform:Kn}),ZR=lr({prop:"minHeight",transform:Kn});lr({prop:"size",cssProperty:"width",transform:Kn});lr({prop:"size",cssProperty:"height",transform:Kn});const eO=lr({prop:"boxSizing"});Mp(XR,qy,YR,QR,JR,ZR,eO);const Bd={border:{themeKey:"borders",transform:fi},borderTop:{themeKey:"borders",transform:fi},borderRight:{themeKey:"borders",transform:fi},borderBottom:{themeKey:"borders",transform:fi},borderLeft:{themeKey:"borders",transform:fi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:fi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Np},color:{themeKey:"palette",transform:au},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:au},backgroundColor:{themeKey:"palette",transform:au},p:{style:er},pt:{style:er},pr:{style:er},pb:{style:er},pl:{style:er},px:{style:er},py:{style:er},padding:{style:er},paddingTop:{style:er},paddingRight:{style:er},paddingBottom:{style:er},paddingLeft:{style:er},paddingX:{style:er},paddingY:{style:er},paddingInline:{style:er},paddingInlineStart:{style:er},paddingInlineEnd:{style:er},paddingBlock:{style:er},paddingBlockStart:{style:er},paddingBlockEnd:{style:er},m:{style:Zt},mt:{style:Zt},mr:{style:Zt},mb:{style:Zt},ml:{style:Zt},mx:{style:Zt},my:{style:Zt},margin:{style:Zt},marginTop:{style:Zt},marginRight:{style:Zt},marginBottom:{style:Zt},marginLeft:{style:Zt},marginX:{style:Zt},marginY:{style:Zt},marginInline:{style:Zt},marginInlineStart:{style:Zt},marginInlineEnd:{style:Zt},marginBlock:{style:Zt},marginBlockStart:{style:Zt},marginBlockEnd:{style:Zt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Bp},rowGap:{style:$p},columnGap:{style:Fp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Kn},maxWidth:{style:qy},minWidth:{transform:Kn},height:{transform:Kn},maxHeight:{transform:Kn},minHeight:{transform:Kn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function tO(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function rO(t,e){return typeof t=="function"?t(e):t}function nO(){function t(r,n,i,s){const a={[r]:n,theme:i},u=s[r];if(!u)return{[r]:n};const{cssProperty:c=r,themeKey:h,transform:p,style:g}=u;if(n==null)return null;if(h==="typography"&&n==="inherit")return{[r]:n};const T=vu(i,h)||{};return g?g(a):Ys(a,n,E=>{let v=Qf(T,p,E);return E===v&&typeof E=="string"&&(v=Qf(T,p,`${r}${E==="default"?"":je(E)}`,E)),c===!1?v:{[c]:v}})}function e(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const a=(n=s.unstable_sxConfig)!=null?n:Bd;function u(c){let h=c;if(typeof c=="function")h=c(s);else if(typeof c!="object")return c;if(!h)return null;const p=vR(s.breakpoints),g=Object.keys(p);let T=p;return Object.keys(h).forEach(S=>{const E=rO(h[S],s);if(E!=null)if(typeof E=="object")if(a[S])T=od(T,t(S,E,s,a));else{const v=Ys({theme:s},E,C=>({[S]:C}));tO(v,E)?T[S]=e({sx:E,theme:s}):T=od(T,v)}else T=od(T,t(S,E,s,a))}),yR(g,T)}return Array.isArray(i)?i.map(u):u(i)}return e}const Nu=nO();Nu.filterProps=["sx"];function DC(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const iO=["breakpoints","palette","spacing","shape"];function Fd(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=t,a=qe(t,iO),u=CC(r),c=kC(i);let h=tn({breakpoints:u,direction:"ltr",components:{},palette:z({mode:"light"},n),spacing:c,shape:z({},gR,s)},a);return h.applyStyles=DC,h=e.reduce((p,g)=>tn(p,g),h),h.unstable_sxConfig=z({},Bd,a==null?void 0:a.unstable_sxConfig),h.unstable_sx=function(g){return Nu({sx:g,theme:this})},h}function sO(t){return Object.keys(t).length===0}function Wy(t=null){const e=N.useContext(Lp);return!e||sO(e)?t:e}const oO=Fd();function $d(t=oO){return Wy(t)}function aO({styles:t,themeId:e,defaultTheme:r={}}){const n=$d(r),i=typeof t=="function"?t(e&&n[e]||n):t;return L.jsx(Rf,{styles:i})}const lO=["sx"],uO=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:Bd;return Object.keys(t).forEach(s=>{i[s]?n.systemProps[s]=t[s]:n.otherProps[s]=t[s]}),n};function jp(t){const{sx:e}=t,r=qe(t,lO),{systemProps:n,otherProps:i}=uO(r);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...a)=>{const u=e(...a);return Oo(u)?z({},n,u):n}:s=z({},n,e),z({},i,{sx:s})}const j1=t=>t,cO=()=>{let t=j1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=j1}}},Gy=cO();function AC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=AC(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ar(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=AC(t))&&(n&&(n+=" "),n+=e);return n}const dO=["className","component"];function hO(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,s=SC("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(Nu);return N.forwardRef(function(c,h){const p=$d(r),g=jp(c),{className:T,component:S="div"}=g,E=qe(g,dO);return L.jsx(s,z({as:S,ref:h,className:ar(T,i?i(n):n),theme:e&&p[e]||p},E))})}const IC={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function jd(t,e,r="Mui"){const n=IC[e];return n?`${r}-${n}`:`${Gy.generate(t)}-${e}`}function Ky(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=jd(t,i,r)}),n}const fO=["ownerState"],pO=["variants"],mO=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function gO(t){return Object.keys(t).length===0}function vO(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Of(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const yO=Fd(),_O=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function yf({defaultTheme:t,theme:e,themeId:r}){return gO(e)?t:e[r]||e}function xO(t){return t?(e,r)=>r[t]:null}function Lf(t,e){let{ownerState:r}=e,n=qe(e,fO);const i=typeof t=="function"?t(z({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>Lf(s,z({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let u=qe(i,pO);return s.forEach(c=>{let h=!0;typeof c.props=="function"?h=c.props(z({ownerState:r},n,r)):Object.keys(c.props).forEach(p=>{(r==null?void 0:r[p])!==c.props[p]&&n[p]!==c.props[p]&&(h=!1)}),h&&(Array.isArray(u)||(u=[u]),u.push(typeof c.style=="function"?c.style(z({ownerState:r},n,r)):c.style))}),u}return i}function Xy(t={}){const{themeId:e,defaultTheme:r=yO,rootShouldForwardProp:n=Of,slotShouldForwardProp:i=Of}=t,s=a=>Nu(z({},a,{theme:yf(z({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,u={})=>{fR(a,A=>A.filter(B=>!(B!=null&&B.__mui_systemSx)));const{name:c,slot:h,skipVariantsResolver:p,skipSx:g,overridesResolver:T=xO(_O(h))}=u,S=qe(u,mO),E=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,v=g||!1;let C,P=Of;h==="Root"||h==="root"?P=n:h?P=i:vO(a)&&(P=void 0);const R=SC(a,z({shouldForwardProp:P,label:C},S)),D=A=>typeof A=="function"&&A.__emotion_real!==A||Oo(A)?B=>Lf(A,z({},B,{theme:yf({theme:B.theme,defaultTheme:r,themeId:e})})):A,U=(A,...B)=>{let $=D(A);const W=B?B.map(D):[];c&&T&&W.push(X=>{const re=yf(z({},X,{defaultTheme:r,themeId:e}));if(!re.components||!re.components[c]||!re.components[c].styleOverrides)return null;const Q=re.components[c].styleOverrides,ue={};return Object.entries(Q).forEach(([ae,Z])=>{ue[ae]=Lf(Z,z({},X,{theme:re}))}),T(X,ue)}),c&&!E&&W.push(X=>{var re;const Q=yf(z({},X,{defaultTheme:r,themeId:e})),ue=Q==null||(re=Q.components)==null||(re=re[c])==null?void 0:re.variants;return Lf({variants:ue},z({},X,{theme:Q}))}),v||W.push(s);const O=W.length-B.length;if(Array.isArray(A)&&O>0){const X=new Array(O).fill("");$=[...A,...X],$.raw=[...A.raw,...X]}const M=R($,...W);return a.muiName&&(M.muiName=a.muiName),M};return R.withConfig&&(U.withConfig=R.withConfig),U}}const PC=Xy();function RC(t,e){const r=z({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=z({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},s=e[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=z({},s),Object.keys(i).forEach(a=>{r[n][a]=RC(i[a],s[a])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function OC(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:RC(e.components[r].defaultProps,n)}function Up({props:t,name:e,defaultTheme:r,themeId:n}){let i=$d(r);return n&&(i=i[n]||i),OC({theme:i,name:e,props:t})}const ps=typeof window<"u"?N.useLayoutEffect:N.useEffect;function bO(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function LC(t,e=0,r=1){return bO(t,e,r)}function SO(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function za(t){if(t.type)return t;if(t.charAt(0)==="#")return za(SO(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(jo(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(jo(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const Ea=t=>{const e=za(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};function Yy(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function TO(t){t=za(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),a=(h,p=(h+r/30)%12)=>i-s*Math.max(Math.min(p-3,9-p,1),-1);let u="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(u+="a",c.push(e[3])),Yy({type:u,values:c})}function U1(t){t=za(t);let e=t.type==="hsl"||t.type==="hsla"?za(TO(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function CO(t,e){const r=U1(t),n=U1(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function EO(t,e){if(t=za(t),e=LC(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return Yy(t)}function wO(t,e){if(t=za(t),e=LC(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return Yy(t)}function Ov(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function kO(t,e=166){let r;function n(...i){const s=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(s,e)}return n.clear=()=>{clearTimeout(r)},n}function DO(t,e){return()=>null}function Wa(t,e){var r,n;return N.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function Li(t){return t&&t.ownerDocument||document}function zp(t){return Li(t).defaultView||window}function AO(t,e){return()=>null}function Jf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let z1=0;function IO(t){const[e,r]=N.useState(t),n=t||e;return N.useEffect(()=>{e==null&&(z1+=1,r(`mui-${z1}`))},[e]),n}const H1=Hf.useId;function Bu(t){if(H1!==void 0){const e=H1();return t??e}return IO(t)}function PO(t,e,r,n,i){return null}function RO({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=N.useRef(t!==void 0),[s,a]=N.useState(e),u=i?t:s,c=N.useCallback(h=>{i||a(h)},[]);return[u,c]}function Lv(t){const e=N.useRef(t);return ps(()=>{e.current=t}),N.useRef((...r)=>(0,e.current)(...r)).current}function Lr(...t){return N.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{Jf(r,e)})},t)}class Qy{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Qy}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}let Hp=!0,Mv=!1;const OO=new Qy,LO={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function MO(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&LO[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function NO(t){t.metaKey||t.altKey||t.ctrlKey||(Hp=!0)}function D0(){Hp=!1}function BO(){this.visibilityState==="hidden"&&Mv&&(Hp=!0)}function FO(t){t.addEventListener("keydown",NO,!0),t.addEventListener("mousedown",D0,!0),t.addEventListener("pointerdown",D0,!0),t.addEventListener("touchstart",D0,!0),t.addEventListener("visibilitychange",BO,!0)}function $O(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Hp||MO(e)}function Jy(){const t=N.useCallback(i=>{i!=null&&FO(i.ownerDocument)},[]),e=N.useRef(!1);function r(){return e.current?(Mv=!0,OO.start(100,()=>{Mv=!1}),e.current=!1,!0):!1}function n(i){return $O(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function jO(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function _t(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const u=e(a);u!==""&&s.push(u),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}const MC=N.createContext(null);function Zy(){return N.useContext(MC)}const UO=typeof Symbol=="function"&&Symbol.for,zO=UO?Symbol.for("mui.nested"):"__THEME_NESTED__";function HO(t,e){return typeof e=="function"?e(t):z({},t,e)}function VO(t){const{children:e,theme:r}=t,n=Zy(),i=N.useMemo(()=>{const s=n===null?r:HO(n,r);return s!=null&&(s[zO]=n!==null),s},[r,n]);return L.jsx(MC.Provider,{value:i,children:e})}const qO=["value"],WO=N.createContext();function GO(t){let{value:e}=t,r=qe(t,qO);return L.jsx(WO.Provider,z({value:e??!0},r))}const KO=N.createContext(void 0);function XO({value:t,children:e}){return L.jsx(KO.Provider,{value:t,children:e})}const V1={};function q1(t,e,r,n=!1){return N.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const s=r(i),a=t?z({},e,{[t]:s}):s;return n?()=>a:a}return t?z({},e,{[t]:r}):z({},e,r)},[t,e,r,n])}function YO(t){const{children:e,theme:r,themeId:n}=t,i=Wy(V1),s=Zy()||V1,a=q1(n,i,r),u=q1(n,s,r,!0),c=a.direction==="rtl";return L.jsx(VO,{theme:u,children:L.jsx(Lp.Provider,{value:a,children:L.jsx(GO,{value:c,children:L.jsx(XO,{value:a==null?void 0:a.components,children:e})})})})}const e_="mode",t_="color-scheme",NC="data-color-scheme";function QO(t){const{defaultMode:e="light",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=e_,colorSchemeStorageKey:s=t_,attribute:a=NC,colorSchemeNode:u="document.documentElement",nonce:c}=t||{};return L.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  var mode = localStorage.getItem('${i}') || '${e}';
  var colorScheme = '';
  if (mode === 'system') {
    // handle system mode
    var mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = localStorage.getItem('${s}-dark') || '${n}';
    } else {
      colorScheme = localStorage.getItem('${s}-light') || '${r}';
    }
  }
  if (mode === 'light') {
    colorScheme = localStorage.getItem('${s}-light') || '${r}';
  }
  if (mode === 'dark') {
    colorScheme = localStorage.getItem('${s}-dark') || '${n}';
  }
  if (colorScheme) {
    ${u}.setAttribute('${a}', colorScheme);
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function W1(t){if(typeof window<"u"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function BC(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function JO(t){return BC(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function A0(t,e){if(typeof window>"u")return;let r;try{r=localStorage.getItem(t)||void 0,r||localStorage.setItem(t,e)}catch{}return r||e}function ZO(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:s=e_,colorSchemeStorageKey:a=t_,storageWindow:u=typeof window>"u"?void 0:window}=t,c=i.join(","),[h,p]=N.useState(()=>{const C=A0(s,e),P=A0(`${a}-light`,r),R=A0(`${a}-dark`,n);return{mode:C,systemMode:W1(C),lightColorScheme:P,darkColorScheme:R}}),g=JO(h),T=N.useCallback(C=>{p(P=>{if(C===P.mode)return P;const R=C??e;try{localStorage.setItem(s,R)}catch{}return z({},P,{mode:R,systemMode:W1(R)})})},[s,e]),S=N.useCallback(C=>{C?typeof C=="string"?C&&!c.includes(C)?console.error(`\`${C}\` does not exist in \`theme.colorSchemes\`.`):p(P=>{const R=z({},P);return BC(P,D=>{try{localStorage.setItem(`${a}-${D}`,C)}catch{}D==="light"&&(R.lightColorScheme=C),D==="dark"&&(R.darkColorScheme=C)}),R}):p(P=>{const R=z({},P),D=C.light===null?r:C.light,U=C.dark===null?n:C.dark;if(D)if(!c.includes(D))console.error(`\`${D}\` does not exist in \`theme.colorSchemes\`.`);else{R.lightColorScheme=D;try{localStorage.setItem(`${a}-light`,D)}catch{}}if(U)if(!c.includes(U))console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`);else{R.darkColorScheme=U;try{localStorage.setItem(`${a}-dark`,U)}catch{}}return R}):p(P=>{try{localStorage.setItem(`${a}-light`,r),localStorage.setItem(`${a}-dark`,n)}catch{}return z({},P,{lightColorScheme:r,darkColorScheme:n})})},[c,a,r,n]),E=N.useCallback(C=>{h.mode==="system"&&p(P=>{const R=C!=null&&C.matches?"dark":"light";return P.systemMode===R?P:z({},P,{systemMode:R})})},[h.mode]),v=N.useRef(E);return v.current=E,N.useEffect(()=>{const C=(...R)=>v.current(...R),P=window.matchMedia("(prefers-color-scheme: dark)");return P.addListener(C),C(P),()=>{P.removeListener(C)}},[]),N.useEffect(()=>{if(u){const C=P=>{const R=P.newValue;typeof P.key=="string"&&P.key.startsWith(a)&&(!R||c.match(R))&&(P.key.endsWith("light")&&S({light:R}),P.key.endsWith("dark")&&S({dark:R})),P.key===s&&(!R||["light","dark","system"].includes(R))&&T(R||e)};return u.addEventListener("storage",C),()=>{u.removeEventListener("storage",C)}}},[S,T,s,a,c,e,u]),z({},h,{colorScheme:g,setMode:T,setColorScheme:S})}const e3=["colorSchemes","components","generateCssVars","cssVarPrefix"],t3="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function r3(t){const{themeId:e,theme:r={},attribute:n=NC,modeStorageKey:i=e_,colorSchemeStorageKey:s=t_,defaultMode:a="light",defaultColorScheme:u,disableTransitionOnChange:c=!1,resolveTheme:h,excludeVariablesFromRoot:p}=t;(!r.colorSchemes||typeof u=="string"&&!r.colorSchemes[u]||typeof u=="object"&&!r.colorSchemes[u==null?void 0:u.light]||typeof u=="object"&&!r.colorSchemes[u==null?void 0:u.dark])&&console.error(`MUI: \`${u}\` does not exist in \`theme.colorSchemes\`.`);const g=N.createContext(void 0),T=()=>{const P=N.useContext(g);if(!P)throw new Error(jo(19));return P};function S(P){const{children:R,theme:D=r,modeStorageKey:U=i,colorSchemeStorageKey:A=s,attribute:B=n,defaultMode:$=a,defaultColorScheme:W=u,disableTransitionOnChange:O=c,storageWindow:M=typeof window>"u"?void 0:window,documentNode:X=typeof document>"u"?void 0:document,colorSchemeNode:re=typeof document>"u"?void 0:document.documentElement,colorSchemeSelector:Q=":root",disableNestedContext:ue=!1,disableStyleSheetGeneration:ae=!1}=P,Z=N.useRef(!1),K=Zy(),J=N.useContext(g),ie=!!J&&!ue,se=D[e],V=se||D,{colorSchemes:ce={},components:Te={},generateCssVars:Ce=()=>({vars:{},css:{}}),cssVarPrefix:Se}=V,Ne=qe(V,e3),Ee=Object.keys(ce),ve=typeof W=="string"?W:W.light,Ae=typeof W=="string"?W:W.dark,{mode:Le,setMode:ze,systemMode:lt,lightColorScheme:Yt,darkColorScheme:Pt,colorScheme:sn,setColorScheme:wt}=ZO({supportedColorSchemes:Ee,defaultLightColorScheme:ve,defaultDarkColorScheme:Ae,modeStorageKey:U,colorSchemeStorageKey:A,defaultMode:$,storageWindow:M});let gr=Le,kt=sn;ie&&(gr=J.mode,kt=J.colorScheme);const ur=gr||($==="system"?a:$),Qe=kt||(ur==="dark"?Ae:ve),{css:rt,vars:mt}=Ce(),Rt=z({},Ne,{components:Te,colorSchemes:ce,cssVarPrefix:Se,vars:mt,getColorSchemeSelector:nr=>`[${B}="${nr}"] &`}),Sr={},qr={};Object.entries(ce).forEach(([nr,Qt])=>{const{css:Tr,vars:ht}=Ce(nr);Rt.vars=tn(Rt.vars,ht),nr===Qe&&(Object.keys(Qt).forEach(ir=>{Qt[ir]&&typeof Qt[ir]=="object"?Rt[ir]=z({},Rt[ir],Qt[ir]):Rt[ir]=Qt[ir]}),Rt.palette&&(Rt.palette.colorScheme=nr));const Ss=typeof W=="string"?W:$==="dark"?W.dark:W.light;if(nr===Ss){if(p){const ir={};p(Se).forEach(ji=>{ir[ji]=Tr[ji],delete Tr[ji]}),Sr[`[${B}="${nr}"]`]=ir}Sr[`${Q}, [${B}="${nr}"]`]=Tr}else qr[`${Q===":root"?"":Q}[${B}="${nr}"]`]=Tr}),Rt.vars=tn(Rt.vars,mt),N.useEffect(()=>{kt&&re&&re.setAttribute(B,kt)},[kt,B,re]),N.useEffect(()=>{let nr;if(O&&Z.current&&X){const Qt=X.createElement("style");Qt.appendChild(X.createTextNode(t3)),X.head.appendChild(Qt),window.getComputedStyle(X.body),nr=setTimeout(()=>{X.head.removeChild(Qt)},1)}return()=>{clearTimeout(nr)}},[kt,O,X]),N.useEffect(()=>(Z.current=!0,()=>{Z.current=!1}),[]);const on=N.useMemo(()=>({allColorSchemes:Ee,colorScheme:kt,darkColorScheme:Pt,lightColorScheme:Yt,mode:gr,setColorScheme:wt,setMode:ze,systemMode:lt}),[Ee,kt,Pt,Yt,gr,wt,ze,lt]);let vr=!0;(ae||ie&&(K==null?void 0:K.cssVarPrefix)===Se)&&(vr=!1);const Mr=L.jsxs(N.Fragment,{children:[vr&&L.jsxs(N.Fragment,{children:[L.jsx(Rf,{styles:{[Q]:rt}}),L.jsx(Rf,{styles:Sr}),L.jsx(Rf,{styles:qr})]}),L.jsx(YO,{themeId:se?e:void 0,theme:h?h(Rt):Rt,children:R})]});return ie?Mr:L.jsx(g.Provider,{value:on,children:Mr})}const E=typeof u=="string"?u:u.light,v=typeof u=="string"?u:u.dark;return{CssVarsProvider:S,useColorScheme:T,getInitColorSchemeScript:P=>QO(z({attribute:n,colorSchemeStorageKey:s,defaultMode:a,defaultLightColorScheme:E,defaultDarkColorScheme:v,modeStorageKey:i},P))}}function r_(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const G1=(t,e,r,n=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=r:i&&typeof i=="object"&&(i[s]=r):i&&typeof i=="object"&&(i[s]||(i[s]=n.includes(s)?[]:{}),i=i[s])})},n3=(t,e,r)=>{function n(i,s=[],a=[]){Object.entries(i).forEach(([u,c])=>{(!r||r&&!r([...s,u]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?n(c,[...s,u],Array.isArray(c)?[...a,u]:a):e([...s,u],c,a))})}n(t)},i3=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().indexOf("opacity")>=0?e:`${e}px`:e;function I0(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},s={},a={};return n3(t,(u,c,h)=>{if((typeof c=="string"||typeof c=="number")&&(!n||!n(u,c))){const p=`--${r?`${r}-`:""}${u.join("-")}`;Object.assign(i,{[p]:i3(u,c)}),G1(s,u,`var(${p})`,h),G1(a,u,`var(${p}, ${c})`,h)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}const s3=["colorSchemes","components","defaultColorScheme"];function o3(t,e){const{colorSchemes:r={},defaultColorScheme:n="light"}=t,i=qe(t,s3),{vars:s,css:a,varsWithDefaults:u}=I0(i,e);let c=u;const h={},{[n]:p}=r,g=qe(r,[n].map(B2));if(Object.entries(g||{}).forEach(([S,E])=>{const{vars:v,css:C,varsWithDefaults:P}=I0(E,e);c=tn(c,P),h[S]={css:C,vars:v}}),p){const{css:S,vars:E,varsWithDefaults:v}=I0(p,e);c=tn(c,v),h[n]={css:S,vars:E}}return{vars:c,generateCssVars:S=>{var E;if(!S){var v;const P=z({},a);return{css:P,vars:s,selector:(e==null||(v=e.getSelector)==null?void 0:v.call(e,S,P))||":root"}}const C=z({},h[S].css);return{css:C,vars:h[S].vars,selector:(e==null||(E=e.getSelector)==null?void 0:E.call(e,S,C))||":root"}}}}const a3=["className","component","disableGutters","fixed","maxWidth","classes"],l3=Fd(),u3=PC("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`maxWidth${je(String(r.maxWidth))}`],r.fixed&&e.fixed,r.disableGutters&&e.disableGutters]}}),c3=t=>Up({props:t,name:"MuiContainer",defaultTheme:l3}),d3=(t,e)=>{const r=c=>jd(e,c),{classes:n,fixed:i,disableGutters:s,maxWidth:a}=t,u={root:["root",a&&`maxWidth${je(String(a))}`,i&&"fixed",s&&"disableGutters"]};return _t(u,r,n)};function h3(t={}){const{createStyledComponent:e=u3,useThemeProps:r=c3,componentName:n="MuiContainer"}=t,i=e(({theme:a,ownerState:u})=>z({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!u.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}),({theme:a,ownerState:u})=>u.fixed&&Object.keys(a.breakpoints.values).reduce((c,h)=>{const p=h,g=a.breakpoints.values[p];return g!==0&&(c[a.breakpoints.up(p)]={maxWidth:`${g}${a.breakpoints.unit}`}),c},{}),({theme:a,ownerState:u})=>z({},u.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},u.maxWidth&&u.maxWidth!=="xs"&&{[a.breakpoints.up(u.maxWidth)]:{maxWidth:`${a.breakpoints.values[u.maxWidth]}${a.breakpoints.unit}`}}));return N.forwardRef(function(u,c){const h=r(u),{className:p,component:g="div",disableGutters:T=!1,fixed:S=!1,maxWidth:E="lg"}=h,v=qe(h,a3),C=z({},h,{component:g,disableGutters:T,fixed:S,maxWidth:E}),P=d3(C,n);return L.jsx(i,z({as:g,ownerState:C,className:ar(P.root,p),ref:c},v))})}const f3=(t,e)=>t.filter(r=>e.includes(r)),Ga=(t,e,r)=>{const n=t.keys[0];Array.isArray(e)?e.forEach((i,s)=>{r((a,u)=>{s<=t.keys.length-1&&(s===0?Object.assign(a,u):a[t.up(t.keys[s])]=u)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:f3(t.keys,Object.keys(e))).forEach(s=>{if(t.keys.indexOf(s)!==-1){const a=e[s];a!==void 0&&r((u,c)=>{n===s?Object.assign(u,c):u[t.up(s)]=c},a)}}):(typeof e=="number"||typeof e=="string")&&r((i,s)=>{Object.assign(i,s)},e)};function Qs(t){return t?`Level${t}`:""}function Ud(t){return t.unstable_level>0&&t.container}function FC(t){return function(r){return`var(--Grid-${r}Spacing${Qs(t.unstable_level)})`}}function n_(t){return function(r){return t.unstable_level===0?`var(--Grid-${r}Spacing)`:`var(--Grid-${r}Spacing${Qs(t.unstable_level-1)})`}}function i_(t){return t.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${Qs(t.unstable_level-1)})`}const p3=({theme:t,ownerState:e})=>{const r=FC(e),n={};return Ga(t.breakpoints,e.gridSize,(i,s)=>{let a={};s===!0&&(a={flexBasis:0,flexGrow:1,maxWidth:"100%"}),s==="auto"&&(a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof s=="number"&&(a={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${s} / ${i_(e)}${Ud(e)?` + ${r("column")}`:""})`}),i(n,a)}),n},m3=({theme:t,ownerState:e})=>{const r={};return Ga(t.breakpoints,e.gridOffset,(n,i)=>{let s={};i==="auto"&&(s={marginLeft:"auto"}),typeof i=="number"&&(s={marginLeft:i===0?"0px":`calc(100% * ${i} / ${i_(e)})`}),n(r,s)}),r},g3=({theme:t,ownerState:e})=>{if(!e.container)return{};const r=Ud(e)?{[`--Grid-columns${Qs(e.unstable_level)}`]:i_(e)}:{"--Grid-columns":12};return Ga(t.breakpoints,e.columns,(n,i)=>{n(r,{[`--Grid-columns${Qs(e.unstable_level)}`]:i})}),r},v3=({theme:t,ownerState:e})=>{if(!e.container)return{};const r=n_(e),n=Ud(e)?{[`--Grid-rowSpacing${Qs(e.unstable_level)}`]:r("row")}:{};return Ga(t.breakpoints,e.rowSpacing,(i,s)=>{var a;i(n,{[`--Grid-rowSpacing${Qs(e.unstable_level)}`]:typeof s=="string"?s:(a=t.spacing)==null?void 0:a.call(t,s)})}),n},y3=({theme:t,ownerState:e})=>{if(!e.container)return{};const r=n_(e),n=Ud(e)?{[`--Grid-columnSpacing${Qs(e.unstable_level)}`]:r("column")}:{};return Ga(t.breakpoints,e.columnSpacing,(i,s)=>{var a;i(n,{[`--Grid-columnSpacing${Qs(e.unstable_level)}`]:typeof s=="string"?s:(a=t.spacing)==null?void 0:a.call(t,s)})}),n},_3=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return Ga(t.breakpoints,e.direction,(n,i)=>{n(r,{flexDirection:i})}),r},x3=({ownerState:t})=>{const e=FC(t),r=n_(t);return z({minWidth:0,boxSizing:"border-box"},t.container&&z({display:"flex",flexWrap:"wrap"},t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},{margin:`calc(${e("row")} / -2) calc(${e("column")} / -2)`},t.disableEqualOverflow&&{margin:`calc(${e("row")} * -1) 0px 0px calc(${e("column")} * -1)`}),(!t.container||Ud(t))&&z({padding:`calc(${r("row")} / 2) calc(${r("column")} / 2)`},(t.disableEqualOverflow||t.parentDisableEqualOverflow)&&{padding:`${r("row")} 0px 0px ${r("column")}`}))},b3=t=>{const e=[];return Object.entries(t).forEach(([r,n])=>{n!==!1&&n!==void 0&&e.push(`grid-${r}-${String(n)}`)}),e},S3=(t,e="xs")=>{function r(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(r(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const n=[];return Object.entries(t).forEach(([i,s])=>{r(s)&&n.push(`spacing-${i}-${String(s)}`)}),n}return[]},T3=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(t)}`],C3=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],E3=Fd(),w3=PC("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function k3(t){return Up({props:t,name:"MuiGrid",defaultTheme:E3})}function D3(t={}){const{createStyledComponent:e=w3,useThemeProps:r=k3,componentName:n="MuiGrid"}=t,i=N.createContext(void 0),s=(c,h)=>{const{container:p,direction:g,spacing:T,wrap:S,gridSize:E}=c,v={root:["root",p&&"container",S!=="wrap"&&`wrap-xs-${String(S)}`,...T3(g),...b3(E),...p?S3(T,h.breakpoints.keys[0]):[]]};return _t(v,C=>jd(n,C),{})},a=e(g3,y3,v3,p3,_3,x3,m3),u=N.forwardRef(function(h,p){var g,T,S,E,v,C,P,R;const D=$d(),U=r(h),A=jp(U),B=N.useContext(i),{className:$,children:W,columns:O=12,container:M=!1,component:X="div",direction:re="row",wrap:Q="wrap",spacing:ue=0,rowSpacing:ae=ue,columnSpacing:Z=ue,disableEqualOverflow:K,unstable_level:J=0}=A,ie=qe(A,C3);let se=K;J&&K!==void 0&&(se=h.disableEqualOverflow);const V={},ce={},Te={};Object.entries(ie).forEach(([ze,lt])=>{D.breakpoints.values[ze]!==void 0?V[ze]=lt:D.breakpoints.values[ze.replace("Offset","")]!==void 0?ce[ze.replace("Offset","")]=lt:Te[ze]=lt});const Ce=(g=h.columns)!=null?g:J?void 0:O,Se=(T=h.spacing)!=null?T:J?void 0:ue,Ne=(S=(E=h.rowSpacing)!=null?E:h.spacing)!=null?S:J?void 0:ae,Ee=(v=(C=h.columnSpacing)!=null?C:h.spacing)!=null?v:J?void 0:Z,ve=z({},A,{level:J,columns:Ce,container:M,direction:re,wrap:Q,spacing:Se,rowSpacing:Ne,columnSpacing:Ee,gridSize:V,gridOffset:ce,disableEqualOverflow:(P=(R=se)!=null?R:B)!=null?P:!1,parentDisableEqualOverflow:B}),Ae=s(ve,D);let Le=L.jsx(a,z({ref:p,as:X,ownerState:ve,className:ar(Ae.root,$)},Te,{children:N.Children.map(W,ze=>{if(N.isValidElement(ze)&&Wa(ze,["Grid"])){var lt;return N.cloneElement(ze,{unstable_level:(lt=ze.props.unstable_level)!=null?lt:J+1})}return ze})}));return se!==void 0&&se!==(B??!1)&&(Le=L.jsx(i.Provider,{value:se,children:Le})),Le});return u.muiName="Grid",u}const A3=z({},Bd,{borderRadius:{themeKey:"radius"},boxShadow:{themeKey:"shadow"},fontFamily:{themeKey:"fontFamily"},fontSize:{themeKey:"fontSize"},fontWeight:{themeKey:"fontWeight"},letterSpacing:{themeKey:"letterSpacing"},lineHeight:{themeKey:"lineHeight"}});function I3(t){var e;return!!t[0].match(/^(typography|variants|breakpoints)$/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/^(mode)$/))||t[0]==="focus"&&t[1]!=="thickness"}const It=(t,e)=>jd(t,e,"Mui"),Ct=(t,e)=>Ky(t,e,"Mui"),P3=t=>t&&typeof t=="object"&&Object.keys(t).some(e=>{var r;return(r=e.match)==null?void 0:r.call(e,/^(plain(Hover|Active|Disabled)?(Color|Bg)|outlined(Hover|Active|Disabled)?(Color|Border|Bg)|soft(Hover|Active|Disabled)?(Color|Bg)|solid(Hover|Active|Disabled)?(Color|Bg))$/)}),K1=(t,e,r)=>{e.includes("Color")&&(t.color=r),e.includes("Bg")&&(t.backgroundColor=r),e.includes("Border")&&(t.borderColor=r)},X1=(t,e,r)=>{const n={};return Object.entries(e||{}).forEach(([i,s])=>{if(i.match(new RegExp(`${t}(color|bg|border)`,"i"))&&s){const a=r?r(i):s;i.includes("Disabled")&&(n.pointerEvents="none",n.cursor="default",n["--Icon-color"]="currentColor"),i.match(/(Hover|Active|Disabled)/)||(n["--variant-borderWidth"]||(n["--variant-borderWidth"]="0px"),i.includes("Border")&&(n["--variant-borderWidth"]="1px",n.border="var(--variant-borderWidth) solid")),K1(n,i,a)}}),n},Qr=(t,e)=>{let r={};if(e){const{getCssVar:n,palette:i}=e;Object.entries(i).forEach(s=>{const[a,u]=s;P3(u)&&typeof u=="object"&&(r=z({},r,{[a]:X1(t,u,c=>`var(--variant-${c}, ${n(`palette-${a}-${c}`,i[a][c])})`)}))})}return r.context=X1(t,{plainColor:"var(--variant-plainColor)",plainHoverColor:"var(--variant-plainHoverColor)",plainHoverBg:"var(--variant-plainHoverBg)",plainActiveBg:"var(--variant-plainActiveBg)",plainDisabledColor:"var(--variant-plainDisabledColor)",outlinedColor:"var(--variant-outlinedColor)",outlinedBorder:"var(--variant-outlinedBorder)",outlinedHoverColor:"var(--variant-outlinedHoverColor)",outlinedHoverBorder:"var(--variant-outlinedHoverBorder)",outlinedHoverBg:"var(--variant-outlinedHoverBg)",outlinedActiveBg:"var(--variant-outlinedActiveBg)",outlinedDisabledColor:"var(--variant-outlinedDisabledColor)",outlinedDisabledBorder:"var(--variant-outlinedDisabledBorder)",softColor:"var(--variant-softColor)",softBg:"var(--variant-softBg)",softHoverColor:"var(--variant-softHoverColor)",softHoverBg:"var(--variant-softHoverBg)",softActiveBg:"var(--variant-softActiveBg)",softDisabledColor:"var(--variant-softDisabledColor)",softDisabledBg:"var(--variant-softDisabledBg)",solidColor:"var(--variant-solidColor)",solidBg:"var(--variant-solidBg)",solidHoverBg:"var(--variant-solidHoverBg)",solidActiveBg:"var(--variant-solidActiveBg)",solidDisabledColor:"var(--variant-solidDisabledColor)",solidDisabledBg:"var(--variant-solidDisabledBg)"}),r},R3=["cssVarPrefix","breakpoints","spacing","components","variants","shouldSkipGeneratingVar"],O3=["colorSchemes"],L3=(t="joy")=>r_(t);function M3(t){var e,r,n,i,s,a,u,c,h,p;const g={},{cssVarPrefix:T="joy",breakpoints:S,spacing:E,components:v,variants:C,shouldSkipGeneratingVar:P=I3}=g,R=qe(g,R3),D=L3(T),U={primary:Rc.blue,neutral:Rc.grey,danger:Rc.red,success:Rc.green,warning:Rc.yellow,common:{white:"#FFF",black:"#000"}},A=ve=>{var Ae;const Le=ve.split("-"),ze=Le[1],lt=Le[2];return D(ve,(Ae=U[ze])==null?void 0:Ae[lt])},B=ve=>({plainColor:A(`palette-${ve}-500`),plainHoverBg:A(`palette-${ve}-100`),plainActiveBg:A(`palette-${ve}-200`),plainDisabledColor:A("palette-neutral-400"),outlinedColor:A(`palette-${ve}-500`),outlinedBorder:A(`palette-${ve}-300`),outlinedHoverBg:A(`palette-${ve}-100`),outlinedActiveBg:A(`palette-${ve}-200`),outlinedDisabledColor:A("palette-neutral-400"),outlinedDisabledBorder:A("palette-neutral-200"),softColor:A(`palette-${ve}-700`),softBg:A(`palette-${ve}-100`),softHoverBg:A(`palette-${ve}-200`),softActiveColor:A(`palette-${ve}-800`),softActiveBg:A(`palette-${ve}-300`),softDisabledColor:A("palette-neutral-400"),softDisabledBg:A("palette-neutral-50"),solidColor:A("palette-common-white"),solidBg:A(`palette-${ve}-500`),solidHoverBg:A(`palette-${ve}-600`),solidActiveBg:A(`palette-${ve}-700`),solidDisabledColor:A("palette-neutral-400"),solidDisabledBg:A("palette-neutral-100")}),$=ve=>({plainColor:A(`palette-${ve}-300`),plainHoverBg:A(`palette-${ve}-800`),plainActiveBg:A(`palette-${ve}-700`),plainDisabledColor:A("palette-neutral-500"),outlinedColor:A(`palette-${ve}-200`),outlinedBorder:A(`palette-${ve}-700`),outlinedHoverBg:A(`palette-${ve}-800`),outlinedActiveBg:A(`palette-${ve}-700`),outlinedDisabledColor:A("palette-neutral-500"),outlinedDisabledBorder:A("palette-neutral-800"),softColor:A(`palette-${ve}-200`),softBg:A(`palette-${ve}-800`),softHoverBg:A(`palette-${ve}-700`),softActiveColor:A(`palette-${ve}-100`),softActiveBg:A(`palette-${ve}-600`),softDisabledColor:A("palette-neutral-500"),softDisabledBg:A("palette-neutral-800"),solidColor:A("palette-common-white"),solidBg:A(`palette-${ve}-500`),solidHoverBg:A(`palette-${ve}-600`),solidActiveBg:A(`palette-${ve}-700`),solidDisabledColor:A("palette-neutral-500"),solidDisabledBg:A("palette-neutral-800")}),W={palette:{mode:"light",primary:z({},U.primary,B("primary")),neutral:z({},U.neutral,B("neutral"),{plainColor:A("palette-neutral-700"),plainHoverColor:A("palette-neutral-900"),outlinedColor:A("palette-neutral-700")}),danger:z({},U.danger,B("danger")),success:z({},U.success,B("success")),warning:z({},U.warning,B("warning")),common:{white:"#FFF",black:"#000"},text:{primary:A("palette-neutral-800"),secondary:A("palette-neutral-700"),tertiary:A("palette-neutral-600"),icon:A("palette-neutral-500")},background:{body:A("palette-common-white"),surface:A("palette-neutral-50"),popup:A("palette-common-white"),level1:A("palette-neutral-100"),level2:A("palette-neutral-200"),level3:A("palette-neutral-300"),tooltip:A("palette-neutral-500"),backdrop:`rgba(${D("palette-neutral-darkChannel",Ea(U.neutral[900]))} / 0.25)`},divider:`rgba(${D("palette-neutral-mainChannel",Ea(U.neutral[500]))} / 0.2)`,focusVisible:A("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"21 21 21",shadowOpacity:"0.08"},O={palette:{mode:"dark",primary:z({},U.primary,$("primary")),neutral:z({},U.neutral,$("neutral"),{plainColor:A("palette-neutral-300"),plainHoverColor:A("palette-neutral-300")}),danger:z({},U.danger,$("danger")),success:z({},U.success,$("success")),warning:z({},U.warning,$("warning")),common:{white:"#FFF",black:"#000"},text:{primary:A("palette-neutral-100"),secondary:A("palette-neutral-300"),tertiary:A("palette-neutral-400"),icon:A("palette-neutral-400")},background:{body:A("palette-common-black"),surface:A("palette-neutral-900"),popup:A("palette-common-black"),level1:A("palette-neutral-800"),level2:A("palette-neutral-700"),level3:A("palette-neutral-600"),tooltip:A("palette-neutral-600"),backdrop:`rgba(${D("palette-neutral-darkChannel",Ea(U.neutral[50]))} / 0.25)`},divider:`rgba(${D("palette-neutral-mainChannel",Ea(U.neutral[500]))} / 0.16)`,focusVisible:A("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"0 0 0",shadowOpacity:"0.6"},M='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',X=z({body:`"Inter", ${D(`fontFamily-fallback, ${M}`)}`,display:`"Inter", ${D(`fontFamily-fallback, ${M}`)}`,code:"Source Code Pro,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",fallback:M},R.fontFamily),re=z({sm:300,md:500,lg:600,xl:700},R.fontWeight),Q=z({xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem",xl2:"1.5rem",xl3:"1.875rem",xl4:"2.25rem"},R.fontSize),ue=z({xs:"1.33334",sm:"1.42858",md:"1.5",lg:"1.55556",xl:"1.66667"},R.lineHeight),ae=(e=(r=R.colorSchemes)==null||(r=r.light)==null?void 0:r.shadowRing)!=null?e:W.shadowRing,Z=(n=(i=R.colorSchemes)==null||(i=i.light)==null?void 0:i.shadowChannel)!=null?n:W.shadowChannel,K=(s=(a=R.colorSchemes)==null||(a=a.light)==null?void 0:a.shadowOpacity)!=null?s:W.shadowOpacity,J={colorSchemes:{light:W,dark:O},fontSize:Q,fontFamily:X,fontWeight:re,focus:{thickness:"2px",selector:`&.${It("","focusVisible")}, &:focus-visible`,default:{outlineOffset:`var(--focus-outline-offset, ${D("focus-thickness",(u=(c=R.focus)==null?void 0:c.thickness)!=null?u:"2px")})`,outline:`${D("focus-thickness",(h=(p=R.focus)==null?void 0:p.thickness)!=null?h:"2px")} solid ${D("palette-focusVisible",U.primary[500])}`}},lineHeight:ue,radius:{xs:"2px",sm:"6px",md:"8px",lg:"12px",xl:"16px"},shadow:{xs:`${D("shadowRing",ae)}, 0px 1px 2px 0px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)})`,sm:`${D("shadowRing",ae)}, 0px 1px 2px 0px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)}), 0px 2px 4px 0px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)})`,md:`${D("shadowRing",ae)}, 0px 2px 8px -2px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)}), 0px 6px 12px -2px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)})`,lg:`${D("shadowRing",ae)}, 0px 2px 8px -2px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)}), 0px 12px 16px -4px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)})`,xl:`${D("shadowRing",ae)}, 0px 2px 8px -2px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)}), 0px 20px 24px -4px rgba(${D("shadowChannel",Z)} / ${D("shadowOpacity",K)})`},zIndex:{badge:1,table:10,popup:1e3,modal:1300,snackbar:1400,tooltip:1500},typography:{h1:{fontFamily:D(`fontFamily-display, ${X.display}`),fontWeight:D(`fontWeight-xl, ${re.xl}`),fontSize:D(`fontSize-xl4, ${Q.xl4}`),lineHeight:D(`lineHeight-xs, ${ue.xs}`),letterSpacing:"-0.025em",color:D(`palette-text-primary, ${W.palette.text.primary}`)},h2:{fontFamily:D(`fontFamily-display, ${X.display}`),fontWeight:D(`fontWeight-xl, ${re.xl}`),fontSize:D(`fontSize-xl3, ${Q.xl3}`),lineHeight:D(`lineHeight-xs, ${ue.xs}`),letterSpacing:"-0.025em",color:D(`palette-text-primary, ${W.palette.text.primary}`)},h3:{fontFamily:D(`fontFamily-display, ${X.display}`),fontWeight:D(`fontWeight-lg, ${re.lg}`),fontSize:D(`fontSize-xl2, ${Q.xl2}`),lineHeight:D(`lineHeight-xs, ${ue.xs}`),letterSpacing:"-0.025em",color:D(`palette-text-primary, ${W.palette.text.primary}`)},h4:{fontFamily:D(`fontFamily-display, ${X.display}`),fontWeight:D(`fontWeight-lg, ${re.lg}`),fontSize:D(`fontSize-xl, ${Q.xl}`),lineHeight:D(`lineHeight-md, ${ue.md}`),letterSpacing:"-0.025em",color:D(`palette-text-primary, ${W.palette.text.primary}`)},"title-lg":{fontFamily:D(`fontFamily-body, ${X.body}`),fontWeight:D(`fontWeight-lg, ${re.lg}`),fontSize:D(`fontSize-lg, ${Q.lg}`),lineHeight:D(`lineHeight-xs, ${ue.xs}`),color:D(`palette-text-primary, ${W.palette.text.primary}`)},"title-md":{fontFamily:D(`fontFamily-body, ${X.body}`),fontWeight:D(`fontWeight-md, ${re.md}`),fontSize:D(`fontSize-md, ${Q.md}`),lineHeight:D(`lineHeight-md, ${ue.md}`),color:D(`palette-text-primary, ${W.palette.text.primary}`)},"title-sm":{fontFamily:D(`fontFamily-body, ${X.body}`),fontWeight:D(`fontWeight-md, ${re.md}`),fontSize:D(`fontSize-sm, ${Q.sm}`),lineHeight:D(`lineHeight-sm, ${ue.sm}`),color:D(`palette-text-primary, ${W.palette.text.primary}`)},"body-lg":{fontFamily:D(`fontFamily-body, ${X.body}`),fontSize:D(`fontSize-lg, ${Q.lg}`),lineHeight:D(`lineHeight-md, ${ue.md}`),color:D(`palette-text-secondary, ${W.palette.text.secondary}`)},"body-md":{fontFamily:D(`fontFamily-body, ${X.body}`),fontSize:D(`fontSize-md, ${Q.md}`),lineHeight:D(`lineHeight-md, ${ue.md}`),color:D(`palette-text-secondary, ${W.palette.text.secondary}`)},"body-sm":{fontFamily:D(`fontFamily-body, ${X.body}`),fontSize:D(`fontSize-sm, ${Q.sm}`),lineHeight:D(`lineHeight-md, ${ue.md}`),color:D(`palette-text-tertiary, ${W.palette.text.tertiary}`)},"body-xs":{fontFamily:D(`fontFamily-body, ${X.body}`),fontWeight:D(`fontWeight-md, ${re.md}`),fontSize:D(`fontSize-xs, ${Q.xs}`),lineHeight:D(`lineHeight-md, ${ue.md}`),color:D(`palette-text-tertiary, ${W.palette.text.tertiary}`)}}},ie=R?tn(J,R):J,{colorSchemes:se}=ie,V=qe(ie,O3),ce=z({colorSchemes:se},V,{breakpoints:CC(S??{}),components:tn({MuiSvgIcon:{defaultProps:{fontSize:"xl2"},styleOverrides:{root:({ownerState:ve,theme:Ae})=>{var Le;const ze=ve.instanceFontSize;return z({margin:"var(--Icon-margin)"},ve.fontSize&&ve.fontSize!=="inherit"&&{fontSize:`var(--Icon-fontSize, ${Ae.vars.fontSize[ve.fontSize]})`},!ve.htmlColor&&z({color:`var(--Icon-color, ${ce.vars.palette.text.icon})`},ve.color&&ve.color!=="inherit"&&Ae.vars.palette[ve.color]&&{color:`rgba(${(Le=Ae.vars.palette[ve.color])==null?void 0:Le.mainChannel} / 1)`}),ze&&ze!=="inherit"&&{"--Icon-fontSize":Ae.vars.fontSize[ze]})}}}},v),cssVarPrefix:T,getCssVar:D,spacing:kC(E)});function Te(ve,Ae){Object.keys(Ae).forEach(Le=>{const ze={main:"500",light:"200",dark:"700"};ve==="dark"&&(ze.main=400),!Ae[Le].mainChannel&&Ae[Le][ze.main]&&(Ae[Le].mainChannel=Ea(Ae[Le][ze.main])),!Ae[Le].lightChannel&&Ae[Le][ze.light]&&(Ae[Le].lightChannel=Ea(Ae[Le][ze.light])),!Ae[Le].darkChannel&&Ae[Le][ze.dark]&&(Ae[Le].darkChannel=Ea(Ae[Le][ze.dark]))})}Object.entries(ce.colorSchemes).forEach(([ve,Ae])=>{Te(ve,Ae.palette)});const Ce={prefix:T,shouldSkipGeneratingVar:P},{vars:Se,generateCssVars:Ne}=o3(z({colorSchemes:se},V),Ce);ce.vars=Se,ce.generateCssVars=Ne,ce.unstable_sxConfig=z({},A3,void 0),ce.unstable_sx=function(Ae){return Nu({sx:Ae,theme:this})},ce.getColorSchemeSelector=ve=>ve==="light"?"&":`&[data-joy-color-scheme="${ve}"], [data-joy-color-scheme="${ve}"] &`;const Ee={getCssVar:D,palette:ce.colorSchemes.light.palette};return ce.variants=tn({plain:Qr("plain",Ee),plainHover:Qr("plainHover",Ee),plainActive:Qr("plainActive",Ee),plainDisabled:Qr("plainDisabled",Ee),outlined:Qr("outlined",Ee),outlinedHover:Qr("outlinedHover",Ee),outlinedActive:Qr("outlinedActive",Ee),outlinedDisabled:Qr("outlinedDisabled",Ee),soft:Qr("soft",Ee),softHover:Qr("softHover",Ee),softActive:Qr("softActive",Ee),softDisabled:Qr("softDisabled",Ee),solid:Qr("solid",Ee),solidHover:Qr("solidHover",Ee),solidActive:Qr("solidActive",Ee),solidDisabled:Qr("solidDisabled",Ee)},C),ce.palette=z({},ce.colorSchemes.light.palette,{colorScheme:"light"}),ce.shouldSkipGeneratingVar=P,ce.applyStyles=DC,ce}const Fu=M3(),Lc={attribute:"data-joy-color-scheme",colorSchemeStorageKey:"joy-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"joy-mode"},{CssVarsProvider:N3,useColorScheme:B3}=r3({themeId:Od,theme:Fu,attribute:Lc.attribute,modeStorageKey:Lc.modeStorageKey,colorSchemeStorageKey:Lc.colorSchemeStorageKey,defaultColorScheme:{light:Lc.defaultLightColorScheme,dark:Lc.defaultDarkColorScheme}}),Fe=Xy({defaultTheme:Fu,themeId:Od});function Et({props:t,name:e}){return Up({props:t,name:e,defaultTheme:z({},Fu,{components:{}}),themeId:Od})}function F3(t){return L.jsx(aO,z({},t,{defaultTheme:Fu,themeId:Od}))}function $3(t){return typeof t=="string"}function $C(t,e,r){return t===void 0||$3(t)?e:z({},e,{ownerState:z({},e.ownerState,r)})}function Y1(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const j3={disableDefaultClasses:!1},U3=N.createContext(j3);function z3(t){const{disableDefaultClasses:e}=N.useContext(U3);return r=>e?"":t(r)}function pi(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function jC(t,e,r){return typeof t=="function"?t(e,r):t}function H3(t){const{rootElementName:e=""}=t,[r,n]=N.useState(e.toUpperCase()),i=N.useCallback(s=>{var a;n((a=s==null?void 0:s.tagName)!=null?a:"")},[]);return[r,i]}function Q1(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function UC(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const S=ar(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),E=z({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),v=z({},r,i,n);return S.length>0&&(v.className=S),Object.keys(E).length>0&&(v.style=E),{props:v,internalRef:void 0}}const a=pi(z({},i,n)),u=Q1(n),c=Q1(i),h=e(a),p=ar(h==null?void 0:h.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),g=z({},h==null?void 0:h.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),T=z({},h,r,c,u);return p.length>0&&(T.className=p),Object.keys(g).length>0&&(T.style=g),{props:T,internalRef:h.ref}}const V3=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function zC(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=qe(t,V3),u=s?{}:jC(n,i),{props:c,internalRef:h}=UC(z({},a,{externalSlotProps:u})),p=Lr(h,u==null?void 0:u.ref,(e=t.additionalProps)==null?void 0:e.ref);return $C(r,z({},c,{ref:p}),i)}const HC="base";function q3(t){return`${HC}--${t}`}function W3(t,e){return`${HC}-${t}-${e}`}function G3(t,e){const r=IC[e];return r?q3(r):W3(t,e)}function $u(t={}){const{disabled:e=!1,focusableWhenDisabled:r,href:n,rootRef:i,tabIndex:s,to:a,type:u,rootElementName:c}=t,h=N.useRef(),[p,g]=N.useState(!1),{isFocusVisibleRef:T,onFocus:S,onBlur:E,ref:v}=Jy(),[C,P]=N.useState(!1);e&&!r&&C&&P(!1),N.useEffect(()=>{T.current=C},[C,T]);const[R,D]=H3({rootElementName:c??(n||a?"a":void 0)}),U=ae=>Z=>{var K;C&&Z.preventDefault(),(K=ae.onMouseLeave)==null||K.call(ae,Z)},A=ae=>Z=>{var K;E(Z),T.current===!1&&P(!1),(K=ae.onBlur)==null||K.call(ae,Z)},B=ae=>Z=>{var K;if(h.current||(h.current=Z.currentTarget),S(Z),T.current===!0){var J;P(!0),(J=ae.onFocusVisible)==null||J.call(ae,Z)}(K=ae.onFocus)==null||K.call(ae,Z)},$=()=>{const ae=h.current;return R==="BUTTON"||R==="INPUT"&&["button","submit","reset"].includes(ae==null?void 0:ae.type)||R==="A"&&(ae==null?void 0:ae.href)},W=ae=>Z=>{if(!e){var K;(K=ae.onClick)==null||K.call(ae,Z)}},O=ae=>Z=>{var K;e||(g(!0),document.addEventListener("mouseup",()=>{g(!1)},{once:!0})),(K=ae.onMouseDown)==null||K.call(ae,Z)},M=ae=>Z=>{var K;if((K=ae.onKeyDown)==null||K.call(ae,Z),!Z.defaultMuiPrevented&&(Z.target===Z.currentTarget&&!$()&&Z.key===" "&&Z.preventDefault(),Z.target===Z.currentTarget&&Z.key===" "&&!e&&g(!0),Z.target===Z.currentTarget&&!$()&&Z.key==="Enter"&&!e)){var J;(J=ae.onClick)==null||J.call(ae,Z),Z.preventDefault()}},X=ae=>Z=>{var K;if(Z.target===Z.currentTarget&&g(!1),(K=ae.onKeyUp)==null||K.call(ae,Z),Z.target===Z.currentTarget&&!$()&&!e&&Z.key===" "&&!Z.defaultMuiPrevented){var J;(J=ae.onClick)==null||J.call(ae,Z)}},re=Lr(D,i,v,h),Q={};return s!==void 0&&(Q.tabIndex=s),R==="BUTTON"?(Q.type=u??"button",r?Q["aria-disabled"]=e:Q.disabled=e):R==="INPUT"?u&&["button","submit","reset"].includes(u)&&(r?Q["aria-disabled"]=e:Q.disabled=e):R!==""&&(!n&&!a&&(Q.role="button",Q.tabIndex=s??0),e&&(Q["aria-disabled"]=e,Q.tabIndex=r?s??0:-1)),{getRootProps:(ae={})=>{const Z=z({},pi(t),pi(ae)),K=z({type:u},Z,Q,ae,{onBlur:A(Z),onClick:W(Z),onFocus:B(Z),onKeyDown:M(Z),onKeyUp:X(Z),onMouseDown:O(Z),onMouseLeave:U(Z),ref:re});return delete K.onFocusVisible,K},focusVisible:C,setFocusVisible:P,active:p,rootRef:re}}const Vp=N.createContext(null);function K3(t,e){return t===e}const P0={},J1=()=>{};function Nv(t,e){const r=z({},t);return Object.keys(e).forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r}function X3(t){const{nextState:e,initialState:r,stateComparers:n,onStateChange:i,controlledProps:s,lastActionRef:a}=t,u=N.useRef(r);N.useEffect(()=>{if(a.current===null)return;const c=Nv(u.current,s);Object.keys(e).forEach(h=>{var p;const g=(p=n[h])!=null?p:K3,T=e[h],S=c[h];if(S==null&&T!=null||S!=null&&T==null||S!=null&&T!=null&&!g(T,S)){var E,v;i==null||i((E=a.current.event)!=null?E:null,h,T,(v=a.current.type)!=null?v:"",e)}}),u.current=e,a.current=null},[u,e,a,i,n,s])}function VC(t){const e=N.useRef(null),{reducer:r,initialState:n,controlledProps:i=P0,stateComparers:s=P0,onStateChange:a=J1,actionContext:u,componentName:c=""}=t;N.useRef(i);const h=N.useCallback((S,E)=>{e.current=E;const v=Nv(S,i);return r(v,E)},[i,r]),[p,g]=N.useReducer(h,n),T=N.useCallback(S=>{g(z({},S,{context:u}))},[u]);return X3({nextState:p,initialState:n,stateComparers:s??P0,onStateChange:a??J1,controlledProps:i,lastActionRef:e}),[Nv(p,i),T]}const Oi={blur:"dropdown:blur",escapeKeyDown:"dropdown:escapeKeyDown",toggle:"dropdown:toggle",open:"dropdown:open",close:"dropdown:close"};function Y3(t,e){switch(e.type){case Oi.blur:return{open:!1,changeReason:e.event};case Oi.escapeKeyDown:return{open:!1,changeReason:e.event};case Oi.toggle:return{open:!t.open,changeReason:e.event};case Oi.open:return{open:!0,changeReason:e.event};case Oi.close:return{open:!1,changeReason:e.event};default:throw new Error("Unhandled action")}}function Q3(t={}){const{defaultOpen:e,onOpenChange:r,open:n,componentName:i="useDropdown"}=t,[s,a]=N.useState(""),[u,c]=N.useState(null),h=N.useRef(null),p=N.useCallback((v,C,P,R)=>{C==="open"&&(r==null||r(v,P)),h.current=R},[r]),g=N.useMemo(()=>n!==void 0?{open:n}:{},[n]),[T,S]=VC({controlledProps:g,initialState:e?{open:!0,changeReason:null}:{open:!1,changeReason:null},onStateChange:p,reducer:Y3,componentName:i});return N.useEffect(()=>{!T.open&&h.current!==null&&h.current!==Oi.blur&&(u==null||u.focus())},[T.open,u]),{contextValue:{state:T,dispatch:S,popupId:s,registerPopup:a,registerTrigger:c,triggerElement:u},open:T.open}}function J3(t){const{children:e,open:r,defaultOpen:n,onOpenChange:i}=t,{contextValue:s}=Q3({defaultOpen:n,onOpenChange:i,open:r});return L.jsx(Vp.Provider,{value:s,children:e})}const Z3=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function e4(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function t4(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function r4(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||t4(t))}function n4(t){const e=[],r=[];return Array.from(t.querySelectorAll(Z3)).forEach((n,i)=>{const s=e4(n);s===-1||!r4(n)||(s===0?e.push(n):r.push({documentOrder:i,tabIndex:s,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function i4(){return!0}function s4(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:s=n4,isEnabled:a=i4,open:u}=t,c=N.useRef(!1),h=N.useRef(null),p=N.useRef(null),g=N.useRef(null),T=N.useRef(null),S=N.useRef(!1),E=N.useRef(null),v=Lr(e.ref,E),C=N.useRef(null);N.useEffect(()=>{!u||!E.current||(S.current=!r)},[r,u]),N.useEffect(()=>{if(!u||!E.current)return;const D=Li(E.current);return E.current.contains(D.activeElement)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),S.current&&E.current.focus()),()=>{i||(g.current&&g.current.focus&&(c.current=!0,g.current.focus()),g.current=null)}},[u]),N.useEffect(()=>{if(!u||!E.current)return;const D=Li(E.current),U=$=>{C.current=$,!(n||!a()||$.key!=="Tab")&&D.activeElement===E.current&&$.shiftKey&&(c.current=!0,p.current&&p.current.focus())},A=()=>{const $=E.current;if($===null)return;if(!D.hasFocus()||!a()||c.current){c.current=!1;return}if($.contains(D.activeElement)||n&&D.activeElement!==h.current&&D.activeElement!==p.current)return;if(D.activeElement!==T.current)T.current=null;else if(T.current!==null)return;if(!S.current)return;let W=[];if((D.activeElement===h.current||D.activeElement===p.current)&&(W=s(E.current)),W.length>0){var O,M;const X=!!((O=C.current)!=null&&O.shiftKey&&((M=C.current)==null?void 0:M.key)==="Tab"),re=W[0],Q=W[W.length-1];typeof re!="string"&&typeof Q!="string"&&(X?Q.focus():re.focus())}else $.focus()};D.addEventListener("focusin",A),D.addEventListener("keydown",U,!0);const B=setInterval(()=>{D.activeElement&&D.activeElement.tagName==="BODY"&&A()},50);return()=>{clearInterval(B),D.removeEventListener("focusin",A),D.removeEventListener("keydown",U,!0)}},[r,n,i,a,u,s]);const P=D=>{g.current===null&&(g.current=D.relatedTarget),S.current=!0,T.current=D.target;const U=e.props.onFocus;U&&U(D)},R=D=>{g.current===null&&(g.current=D.relatedTarget),S.current=!0};return L.jsxs(N.Fragment,{children:[L.jsx("div",{tabIndex:u?0:-1,onFocus:R,ref:h,"data-testid":"sentinelStart"}),N.cloneElement(e,{ref:v,onFocus:P}),L.jsx("div",{tabIndex:u?0:-1,onFocus:R,ref:p,"data-testid":"sentinelEnd"})]})}const o4=N.createContext(void 0);function a4(){return N.useContext(o4)}function l4(t={}){const{defaultValue:e,disabled:r=!1,error:n=!1,onBlur:i,onChange:s,onFocus:a,required:u=!1,value:c,inputRef:h}=t,p=a4();let g,T,S,E,v;if(p){var C,P,R;g=void 0,T=(C=p.disabled)!=null?C:!1,S=(P=p.error)!=null?P:!1,E=(R=p.required)!=null?R:!1,v=p.value}else g=e,T=r,S=n,E=u,v=c;const{current:D}=N.useRef(v!=null),U=N.useCallback(ae=>{},[]),A=N.useRef(null),B=Lr(A,h,U),[$,W]=N.useState(!1);N.useEffect(()=>{!p&&T&&$&&(W(!1),i==null||i())},[p,T,$,i]);const O=ae=>Z=>{var K;if(p!=null&&p.disabled){Z.stopPropagation();return}if((K=ae.onFocus)==null||K.call(ae,Z),p&&p.onFocus){var J;p==null||(J=p.onFocus)==null||J.call(p)}else W(!0)},M=ae=>Z=>{var K;(K=ae.onBlur)==null||K.call(ae,Z),p&&p.onBlur?p.onBlur():W(!1)},X=ae=>(Z,...K)=>{var J,ie;if(!D&&(Z.target||A.current)==null)throw new Error(jo(17));p==null||(J=p.onChange)==null||J.call(p,Z),(ie=ae.onChange)==null||ie.call(ae,Z,...K)},re=ae=>Z=>{var K;A.current&&Z.currentTarget===Z.target&&A.current.focus(),(K=ae.onClick)==null||K.call(ae,Z)};return{disabled:T,error:S,focused:$,formControlContext:p,getInputProps:(ae={})=>{const K=z({},{onBlur:i,onChange:s,onFocus:a},pi(ae)),J=z({},K,{onBlur:M(K),onChange:X(K),onFocus:O(K)});return z({},J,{"aria-invalid":S||void 0,defaultValue:g,value:v,required:E,disabled:T},ae,{ref:B},J)},getRootProps:(ae={})=>{const Z=pi(t,["onBlur","onChange","onFocus"]),K=z({},Z,pi(ae));return z({},ae,K,{onClick:re(K)})},inputRef:B,required:E,value:v}}const tr={blur:"list:blur",itemClick:"list:itemClick",itemHover:"list:itemHover",itemsChange:"list:itemsChange",keyDown:"list:keyDown",resetHighlight:"list:resetHighlight",highlightLast:"list:highlightLast",textNavigation:"list:textNavigation",clearSelection:"list:clearSelection"};function u4(t,e,r,n,i,s){if(r.length===0||!n&&r.every((u,c)=>i(u,c)))return-1;let a=t;for(;;){if(!s&&e==="next"&&a===r.length||!s&&e==="previous"&&a===-1)return-1;if(n?!1:i(r[a],a))a+=e==="next"?1:-1,s&&(a=(a+r.length)%r.length);else return a}}function wn(t,e,r){var n;const{items:i,isItemDisabled:s,disableListWrap:a,disabledItemsFocusable:u,itemComparer:c,focusManagement:h}=r,p=h==="DOM"?0:-1,g=i.length-1,T=t==null?-1:i.findIndex(P=>c(P,t));let S,E,v=!a;switch(e){case"reset":if(p===-1)return null;S=0,E="next",v=!1;break;case"start":S=0,E="next",v=!1;break;case"end":S=g,E="previous",v=!1;break;default:{const P=T+e;P<0?!v&&T!==-1||Math.abs(e)>1?(S=0,E="next"):(S=g,E="previous"):P>g?!v||Math.abs(e)>1?(S=g,E="previous"):(S=0,E="next"):(S=P,E=e>=0?"next":"previous")}}const C=u4(S,E,i,u,s,v);return C===-1&&t!==null&&!s(t,T)?t:(n=i[C])!=null?n:null}function c4(t,e,r,n){return r==="none"?[]:r==="single"?n(e[0],t)?e:[t]:e.some(i=>n(i,t))?e.filter(i=>!n(i,t)):[...e,t]}function qC(t,e,r){const{itemComparer:n,isItemDisabled:i,selectionMode:s,items:a}=r,{selectedValues:u}=e,c=a.findIndex(p=>n(t,p));if(i(t,c))return e;const h=c4(t,u,s,n);return z({},e,{selectedValues:h,highlightedValue:t})}function d4(t,e,r){const n=e.highlightedValue,{orientation:i,pageSize:s}=r;switch(t){case"Home":return z({},e,{highlightedValue:wn(n,"start",r)});case"End":return z({},e,{highlightedValue:wn(n,"end",r)});case"PageUp":return z({},e,{highlightedValue:wn(n,-s,r)});case"PageDown":return z({},e,{highlightedValue:wn(n,s,r)});case"ArrowUp":if(i!=="vertical")break;return z({},e,{highlightedValue:wn(n,-1,r)});case"ArrowDown":if(i!=="vertical")break;return z({},e,{highlightedValue:wn(n,1,r)});case"ArrowLeft":{if(i==="vertical")break;return z({},e,{highlightedValue:wn(n,i==="horizontal-ltr"?-1:1,r)})}case"ArrowRight":{if(i==="vertical")break;return z({},e,{highlightedValue:wn(n,i==="horizontal-ltr"?1:-1,r)})}case"Enter":case" ":return e.highlightedValue===null?e:qC(e.highlightedValue,e,r)}return e}function h4(t,e){return e.focusManagement==="DOM"?t:z({},t,{highlightedValue:null})}function f4(t,e,r){var n;const i=(n=r(t))==null?void 0:n.trim().toLowerCase();return!i||i.length===0?!1:i.indexOf(e)===0}function p4(t,e,r){const{items:n,isItemDisabled:i,disabledItemsFocusable:s,getItemAsString:a}=r,u=e.length>1;let c=u?t.highlightedValue:wn(t.highlightedValue,1,r);for(let h=0;h<n.length;h+=1){if(!c||!u&&t.highlightedValue===c)return t;if(f4(c,e,a)&&(!i(c,n.indexOf(c))||s))return z({},t,{highlightedValue:c});c=wn(c,1,r)}return t}function m4(t,e,r,n){var i;const{itemComparer:s,focusManagement:a}=n;let u=null;if(r.highlightedValue!=null){var c;u=(c=t.find(g=>s(g,r.highlightedValue)))!=null?c:null}else a==="DOM"&&e.length===0&&(u=wn(null,"reset",n));const p=((i=r.selectedValues)!=null?i:[]).filter(g=>t.some(T=>s(T,g)));return z({},r,{highlightedValue:u,selectedValues:p})}function g4(t,e){return z({},t,{highlightedValue:wn(null,"reset",e)})}function v4(t,e){return z({},t,{highlightedValue:wn(null,"end",e)})}function y4(t,e){return z({},t,{selectedValues:[],highlightedValue:wn(null,"reset",e)})}function WC(t,e){const{type:r,context:n}=e;switch(r){case tr.keyDown:return d4(e.key,t,n);case tr.itemClick:return qC(e.item,t,n);case tr.blur:return h4(t,n);case tr.textNavigation:return p4(t,e.searchString,n);case tr.itemsChange:return m4(e.items,e.previousItems,t,n);case tr.resetHighlight:return g4(t,n);case tr.highlightLast:return v4(t,n);case tr.clearSelection:return y4(t,n);default:return t}}const _4=500;function x4(t){const e=N.useRef({searchString:"",lastTime:null});return N.useCallback(r=>{if(r.key.length===1&&r.key!==" "){const n=e.current,i=r.key.toLowerCase(),s=performance.now();n.searchString.length>0&&n.lastTime&&s-n.lastTime>_4?n.searchString=i:(n.searchString.length!==1||i!==n.searchString)&&(n.searchString+=i),n.lastTime=s,t(n.searchString,r)}},[t])}const Z1={},b4=()=>{},S4=(t,e)=>t===e,T4=()=>!1,C4=t=>typeof t=="string"?t:String(t),E4=()=>({highlightedValue:null,selectedValues:[]});function w4(t){const{controlledProps:e=Z1,disabledItemsFocusable:r=!1,disableListWrap:n=!1,focusManagement:i="activeDescendant",getInitialState:s=E4,getItemDomElement:a,getItemId:u,isItemDisabled:c=T4,rootRef:h,onStateChange:p=b4,items:g,itemComparer:T=S4,getItemAsString:S=C4,onChange:E,onHighlightChange:v,onItemsChange:C,orientation:P="vertical",pageSize:R=5,reducerActionContext:D=Z1,selectionMode:U="single",stateReducer:A,componentName:B="useList"}=t,$=N.useRef(null),W=Lr(h,$),O=N.useCallback((Ee,ve,Ae)=>{if(v==null||v(Ee,ve,Ae),i==="DOM"&&ve!=null&&(Ae===tr.itemClick||Ae===tr.keyDown||Ae===tr.textNavigation)){var Le;a==null||(Le=a(ve))==null||Le.focus()}},[a,v,i]),M=N.useMemo(()=>({highlightedValue:T,selectedValues:(Ee,ve)=>Y1(Ee,ve,T)}),[T]),X=N.useCallback((Ee,ve,Ae,Le,ze)=>{switch(p==null||p(Ee,ve,Ae,Le,ze),ve){case"highlightedValue":O(Ee,Ae,Le);break;case"selectedValues":E==null||E(Ee,Ae,Le);break}},[O,E,p]),re=N.useMemo(()=>({disabledItemsFocusable:r,disableListWrap:n,focusManagement:i,isItemDisabled:c,itemComparer:T,items:g,getItemAsString:S,onHighlightChange:O,orientation:P,pageSize:R,selectionMode:U,stateComparers:M}),[r,n,i,c,T,g,S,O,P,R,U,M]),Q=s(),ue=A??WC,ae=N.useMemo(()=>z({},D,re),[D,re]),[Z,K]=VC({reducer:ue,actionContext:ae,initialState:Q,controlledProps:e,stateComparers:M,onStateChange:X,componentName:B}),{highlightedValue:J,selectedValues:ie}=Z,se=x4((Ee,ve)=>K({type:tr.textNavigation,event:ve,searchString:Ee})),V=N.useRef([]);N.useEffect(()=>{Y1(V.current,g,T)||(K({type:tr.itemsChange,event:null,items:g,previousItems:V.current}),V.current=g,C==null||C(g))},[g,T,K,C]);const ce=Ee=>ve=>{var Ae;if((Ae=Ee.onKeyDown)==null||Ae.call(Ee,ve),ve.defaultMuiPrevented)return;const Le=["Home","End","PageUp","PageDown"];P==="vertical"?Le.push("ArrowUp","ArrowDown"):Le.push("ArrowLeft","ArrowRight"),i==="activeDescendant"&&Le.push(" ","Enter"),Le.includes(ve.key)&&ve.preventDefault(),K({type:tr.keyDown,key:ve.key,event:ve}),se(ve)},Te=Ee=>ve=>{var Ae,Le;(Ae=Ee.onBlur)==null||Ae.call(Ee,ve),!ve.defaultMuiPrevented&&((Le=$.current)!=null&&Le.contains(ve.relatedTarget)||K({type:tr.blur,event:ve}))},Ce=(Ee={})=>{const ve=pi(Ee);return z({},Ee,{"aria-activedescendant":i==="activeDescendant"&&J!=null?u(J):void 0,tabIndex:i==="DOM"?-1:0,ref:W},ve,{onBlur:Te(ve),onKeyDown:ce(ve)})},Se=N.useCallback(Ee=>{const ve=(ie??[]).some(ze=>ze!=null&&T(Ee,ze)),Ae=J!=null&&T(Ee,J);return{focusable:i==="DOM",highlighted:Ae,selected:ve}},[T,ie,J,i]),Ne=N.useMemo(()=>({dispatch:K,getItemState:Se}),[K,Se]);return N.useDebugValue({state:Z}),{contextValue:Ne,dispatch:K,getRootProps:Ce,rootRef:W,state:Z}}const qp=N.createContext(null);function k4(t){const{handlePointerOverEvents:e=!1,item:r}=t,n=N.useContext(qp);if(!n)throw new Error("useListItem must be used within a ListProvider");const{dispatch:i,getItemState:s}=n,{highlighted:a,selected:u,focusable:c}=s(r),h=N.useCallback(S=>E=>{var v;(v=S.onClick)==null||v.call(S,E),!E.defaultPrevented&&i({type:tr.itemClick,item:r,event:E})},[i,r]),p=N.useCallback(S=>E=>{var v;(v=S.onMouseOver)==null||v.call(S,E),!E.defaultPrevented&&i({type:tr.itemHover,item:r,event:E})},[i,r]);let g;return c&&(g=a?0:-1),{getRootProps:(S={})=>{const E=pi(S);return z({},S,{onClick:h(E),onPointerOver:e?p(E):void 0,tabIndex:g})},highlighted:a,selected:u}}function D4(t,e){if(e.type===tr.itemHover)return z({},t,{highlightedValue:e.item});const r=WC(t,e);if(r.highlightedValue===null&&e.context.items.length>0)return z({},r,{highlightedValue:e.context.items[0]});if(e.type===tr.keyDown&&e.event.key==="Escape")return z({},r,{open:!1});if(e.type===tr.blur){var n;if(!((n=e.context.listboxRef.current)!=null&&n.contains(e.event.relatedTarget))){var i,s;const a=(i=e.context.listboxRef.current)==null?void 0:i.getAttribute("id"),u=(s=e.event.relatedTarget)==null?void 0:s.getAttribute("aria-controls");return a&&u&&a===u?r:z({},r,{open:!1,highlightedValue:e.context.items[0]})}}return r}const GC=N.createContext(null);function A4(t){const e=Array.from(t.keys()).map(r=>{const n=t.get(r);return{key:r,subitem:n}});return e.sort((r,n)=>{const i=r.subitem.ref.current,s=n.subitem.ref.current;return i===null||s===null||i===s?0:i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_PRECEDING?1:-1}),new Map(e.map(r=>[r.key,r.subitem]))}function I4(){const[t,e]=N.useState(new Map),r=N.useRef(new Set),n=N.useCallback(function(h){r.current.delete(h),e(p=>{const g=new Map(p);return g.delete(h),g})},[]),i=N.useCallback(function(h,p){let g;return typeof h=="function"?g=h(r.current):g=h,r.current.add(g),e(T=>{const S=new Map(T);return S.set(g,p),S}),{id:g,deregister:()=>n(g)}},[n]),s=N.useMemo(()=>A4(t),[t]),a=N.useCallback(function(h){return Array.from(s.keys()).indexOf(h)},[s]);return{contextValue:N.useMemo(()=>({getItemIndex:a,registerItem:i,totalSubitemCount:t.size}),[a,i,t.size]),subitems:s}}function P4(t,e){const r=N.useContext(GC);if(r===null)throw new Error("useCompoundItem must be used within a useCompoundParent");const{registerItem:n}=r,[i,s]=N.useState(typeof t=="function"?void 0:t);return ps(()=>{const{id:a,deregister:u}=n(t,e);return s(a),u},[n,e,t]),{id:i,index:i!==void 0?r.getItemIndex(i):-1,totalItemCount:r.totalSubitemCount}}function Zf(t,e){return function(n={}){const i=z({},n,t(n));return z({},i,e(i))}}const R4={dispatch:()=>{},registerPopup:()=>{},state:{open:!0,changeReason:null},triggerElement:null};function O4(t={}){var e,r;const{listboxRef:n,onItemsChange:i,id:s,disabledItemsFocusable:a=!0,disableListWrap:u=!1,autoFocus:c=!0,componentName:h="useMenu"}=t,p=N.useRef(null),g=Lr(p,n),T=(e=Bu(s))!=null?e:"",{state:{open:S,changeReason:E},dispatch:v,triggerElement:C,registerPopup:P}=(r=N.useContext(Vp))!=null?r:R4,R=N.useRef(S),{subitems:D,contextValue:U}=I4(),A=N.useMemo(()=>Array.from(D.keys()),[D]),B=N.useCallback(ie=>{var se,V;return ie==null?null:(se=(V=D.get(ie))==null?void 0:V.ref.current)!=null?se:null},[D]),$=N.useCallback(ie=>{var se;return(D==null||(se=D.get(ie))==null?void 0:se.disabled)||!1},[D]),W=N.useCallback(ie=>{var se,V;return((se=D.get(ie))==null?void 0:se.label)||((V=D.get(ie))==null||(V=V.ref.current)==null?void 0:V.innerText)},[D]),O=N.useMemo(()=>({listboxRef:p}),[p]),{dispatch:M,getRootProps:X,contextValue:re,state:{highlightedValue:Q},rootRef:ue}=w4({disabledItemsFocusable:a,disableListWrap:u,focusManagement:"DOM",getItemDomElement:B,getInitialState:()=>({selectedValues:[],highlightedValue:null}),isItemDisabled:$,items:A,getItemAsString:W,rootRef:g,onItemsChange:i,reducerActionContext:O,selectionMode:"none",stateReducer:D4,componentName:h});ps(()=>{P(T)},[T,P]),ps(()=>{S&&(E==null?void 0:E.type)==="keydown"&&E.key==="ArrowUp"&&M({type:tr.highlightLast,event:E})},[S,E,M]),N.useEffect(()=>{if(S&&c&&Q&&!R.current){var ie;(ie=D.get(Q))==null||(ie=ie.ref)==null||(ie=ie.current)==null||ie.focus()}},[S,c,Q,D,A]),N.useEffect(()=>{var ie;if((ie=p.current)!=null&&ie.contains(document.activeElement)&&Q!==null){var se;D==null||(se=D.get(Q))==null||(se=se.ref.current)==null||se.focus()}},[Q,D]);const ae=ie=>se=>{var V,ce;(V=ie.onBlur)==null||V.call(ie,se),!se.defaultMuiPrevented&&((ce=p.current)!=null&&ce.contains(se.relatedTarget)||se.relatedTarget===C||v({type:Oi.blur,event:se}))},Z=ie=>se=>{var V;(V=ie.onKeyDown)==null||V.call(ie,se),!se.defaultMuiPrevented&&se.key==="Escape"&&v({type:Oi.escapeKeyDown,event:se})},K=(ie={})=>({onBlur:ae(ie),onKeyDown:Z(ie)}),J=(ie={})=>{const se=Zf(K,X),V=pi(ie);return z({},ie,V,se(V),{id:T,role:"menu"})};return N.useDebugValue({subitems:D,highlightedValue:Q}),{contextValue:z({},U,re),dispatch:M,getListboxProps:J,highlightedValue:Q,listboxRef:ue,menuItems:D,open:S,triggerElement:C}}function L4(t){const{value:e,children:r}=t,{dispatch:n,getItemIndex:i,getItemState:s,registerItem:a,totalSubitemCount:u}=e,c=N.useMemo(()=>({dispatch:n,getItemState:s,getItemIndex:i}),[n,i,s]),h=N.useMemo(()=>({getItemIndex:i,registerItem:a,totalSubitemCount:u}),[a,i,u]);return L.jsx(GC.Provider,{value:h,children:L.jsx(qp.Provider,{value:c,children:r})})}function M4(t){return typeof t=="function"?t():t}const KC=N.forwardRef(function(e,r){const{children:n,container:i,disablePortal:s=!1}=e,[a,u]=N.useState(null),c=Lr(N.isValidElement(n)?n.ref:null,r);if(ps(()=>{s||u(M4(i)||document.body)},[i,s]),ps(()=>{if(a&&!s)return Jf(r,a),()=>{Jf(r,null)}},[r,a,s]),s){if(N.isValidElement(n)){const h={ref:c};return N.cloneElement(n,h)}return L.jsx(N.Fragment,{children:n})}return L.jsx(N.Fragment,{children:a&&vy.createPortal(n,a)})});function N4(t={}){const{disabled:e=!1,focusableWhenDisabled:r,rootRef:n}=t,i=N.useContext(Vp);if(i===null)throw new Error("useMenuButton: no menu context available.");const{state:s,dispatch:a,registerTrigger:u,popupId:c}=i,{getRootProps:h,rootRef:p,active:g}=$u({disabled:e,focusableWhenDisabled:r,rootRef:n}),T=Lr(p,u),S=P=>R=>{var D;(D=P.onClick)==null||D.call(P,R),!R.defaultMuiPrevented&&a({type:Oi.toggle,event:R})},E=P=>R=>{var D;(D=P.onKeyDown)==null||D.call(P,R),!R.defaultMuiPrevented&&(R.key==="ArrowDown"||R.key==="ArrowUp")&&(R.preventDefault(),a({type:Oi.open,event:R}))},v=(P={})=>({onClick:S(P),onKeyDown:E(P)});return{active:g,getRootProps:(P={})=>{const R=pi(P),D=Zf(v,h);return z({"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":c},P,R,D(R),{tabIndex:0,ref:T})},open:s.open,rootRef:T}}function B4(t){return`menu-item-${t.size}`}const F4={dispatch:()=>{}};function $4(t){var e;const{disabled:r=!1,id:n,rootRef:i,label:s,disableFocusOnHover:a=!1}=t,u=Bu(n),c=N.useRef(null),h=N.useMemo(()=>({disabled:r,id:u??"",label:s,ref:c}),[r,u,s]),{dispatch:p}=(e=N.useContext(Vp))!=null?e:F4,{getRootProps:g,highlighted:T}=k4({item:u,handlePointerOverEvents:!a}),{index:S,totalItemCount:E}=P4(u??B4,h),{getRootProps:v,focusVisible:C,rootRef:P}=$u({disabled:r,focusableWhenDisabled:!0}),R=Lr(P,i,c);N.useDebugValue({id:u,highlighted:T,disabled:r,label:s});const D=B=>$=>{var W;(W=B.onClick)==null||W.call(B,$),!$.defaultMuiPrevented&&p({type:Oi.close,event:$})},U=(B={})=>z({},B,{onClick:D(B)});function A(B={}){const $=pi(B),W=Zf(U,Zf(v,g));return z({},B,$,W($),{id:u,ref:R,role:"menuitem"})}return u===void 0?{getRootProps:A,disabled:!1,focusVisible:C,highlighted:!1,index:-1,totalItemCount:0,rootRef:R}:{getRootProps:A,disabled:r,focusVisible:C,highlighted:T,index:S,totalItemCount:E,rootRef:R}}function j4(t){const e=N.useContext(qp);if(!e)throw new Error("MenuItem: ListContext was not found.");const r=Bu(t),{getItemState:n,dispatch:i}=e;let s;r!=null?s=n(r):s={focusable:!0,highlighted:!1,selected:!1};const{highlighted:a,selected:u,focusable:c}=s,h=N.useCallback(g=>{if(g!==r)throw new Error(["Base UI MenuItem: Tried to access the state of another MenuItem.",`itemValue: ${g} | id: ${r}`,"This is unsupported when the MenuItem uses the MenuItemContextStabilizer as a performance optimization."].join("/n"));return{highlighted:a,selected:u,focusable:c}},[a,u,c,r]);return{contextValue:N.useMemo(()=>({dispatch:i,getItemState:h}),[i,h]),id:r}}function U4(t){const e=Li(t);return e.body===t?zp(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ad(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function eS(t){return parseInt(zp(t).getComputedStyle(t).paddingRight,10)||0}function z4(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function tS(t,e,r,n,i){const s=[e,r,...n];[].forEach.call(t.children,a=>{const u=s.indexOf(a)===-1,c=!z4(a);u&&c&&ad(a,i)})}function R0(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function H4(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(U4(n)){const a=jO(Li(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${eS(n)+a}px`;const u=Li(n).querySelectorAll(".mui-fixed");[].forEach.call(u,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${eS(c)+a}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=Li(n).body;else{const a=n.parentElement,u=zp(n);s=(a==null?void 0:a.nodeName)==="HTML"&&u.getComputedStyle(a).overflowY==="scroll"?a:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:a,property:u})=>{s?a.style.setProperty(u,s):a.style.removeProperty(u)})}}function V4(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class q4{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&ad(e.modalRef,!1);const i=V4(r);tS(r,e.mount,e.modalRef,i,!0);const s=R0(this.containers,a=>a.container===r);return s!==-1?(this.containers[s].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=R0(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[n];i.restore||(i.restore=H4(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=R0(this.containers,a=>a.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&ad(e.modalRef,r),tS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&ad(a.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function W4(t){return typeof t=="function"?t():t}function G4(t){return t?t.props.hasOwnProperty("in"):!1}const K4=new q4;function X4(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=K4,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:u,children:c,onClose:h,open:p,rootRef:g}=t,T=N.useRef({}),S=N.useRef(null),E=N.useRef(null),v=Lr(E,g),[C,P]=N.useState(!p),R=G4(c);let D=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(D=!1);const U=()=>Li(S.current),A=()=>(T.current.modalRef=E.current,T.current.mount=S.current,T.current),B=()=>{i.mount(A(),{disableScrollLock:n}),E.current&&(E.current.scrollTop=0)},$=Lv(()=>{const Z=W4(e)||U().body;i.add(A(),Z),E.current&&B()}),W=N.useCallback(()=>i.isTopModal(A()),[i]),O=Lv(Z=>{S.current=Z,Z&&(p&&W()?B():E.current&&ad(E.current,D))}),M=N.useCallback(()=>{i.remove(A(),D)},[D,i]);N.useEffect(()=>()=>{M()},[M]),N.useEffect(()=>{p?$():(!R||!s)&&M()},[p,M,R,s,$]);const X=Z=>K=>{var J;(J=Z.onKeyDown)==null||J.call(Z,K),!(K.key!=="Escape"||K.which===229||!W())&&(r||(K.stopPropagation(),h&&h(K,"escapeKeyDown")))},re=Z=>K=>{var J;(J=Z.onClick)==null||J.call(Z,K),K.target===K.currentTarget&&h&&h(K,"backdropClick")};return{getRootProps:(Z={})=>{const K=pi(t);delete K.onTransitionEnter,delete K.onTransitionExited;const J=z({},K,Z);return z({role:"presentation"},J,{onKeyDown:X(J),ref:v})},getBackdropProps:(Z={})=>{const K=Z;return z({"aria-hidden":!0},K,{onClick:re(K),open:p})},getTransitionProps:()=>{const Z=()=>{P(!1),a&&a()},K=()=>{P(!0),u&&u(),s&&M()};return{onEnter:Ov(Z,c==null?void 0:c.props.onEnter),onExited:Ov(K,c==null?void 0:c.props.onExited)}},rootRef:v,portalRef:O,isTopModal:W,exited:C,hasTransition:R}}var An="top",vi="bottom",yi="right",In="left",s_="auto",zd=[An,vi,yi,In],yu="start",Td="end",Y4="clippingParents",XC="viewport",Mc="popper",Q4="reference",rS=zd.reduce(function(t,e){return t.concat([e+"-"+yu,e+"-"+Td])},[]),YC=[].concat(zd,[s_]).reduce(function(t,e){return t.concat([e,e+"-"+yu,e+"-"+Td])},[]),J4="beforeRead",Z4="read",eL="afterRead",tL="beforeMain",rL="main",nL="afterMain",iL="beforeWrite",sL="write",oL="afterWrite",aL=[J4,Z4,eL,tL,rL,nL,iL,sL,oL];function ms(t){return t?(t.nodeName||"").toLowerCase():null}function Jn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ha(t){var e=Jn(t).Element;return t instanceof e||t instanceof Element}function mi(t){var e=Jn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function o_(t){if(typeof ShadowRoot>"u")return!1;var e=Jn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function lL(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!mi(s)||!ms(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(a){var u=i[a];u===!1?s.removeAttribute(a):s.setAttribute(a,u===!0?"":u)}))})}function uL(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),u=a.reduce(function(c,h){return c[h]="",c},{});!mi(i)||!ms(i)||(Object.assign(i.style,u),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const cL={name:"applyStyles",enabled:!0,phase:"write",fn:lL,effect:uL,requires:["computeStyles"]};function fs(t){return t.split("-")[0]}var La=Math.max,ep=Math.min,_u=Math.round;function Bv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function QC(){return!/^((?!chrome|android).)*safari/i.test(Bv())}function xu(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&mi(t)&&(i=t.offsetWidth>0&&_u(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&_u(n.height)/t.offsetHeight||1);var a=Ha(t)?Jn(t):window,u=a.visualViewport,c=!QC()&&r,h=(n.left+(c&&u?u.offsetLeft:0))/i,p=(n.top+(c&&u?u.offsetTop:0))/s,g=n.width/i,T=n.height/s;return{width:g,height:T,top:p,right:h+g,bottom:p+T,left:h,x:h,y:p}}function a_(t){var e=xu(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function JC(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&o_(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Js(t){return Jn(t).getComputedStyle(t)}function dL(t){return["table","td","th"].indexOf(ms(t))>=0}function Ho(t){return((Ha(t)?t.ownerDocument:t.document)||window.document).documentElement}function Wp(t){return ms(t)==="html"?t:t.assignedSlot||t.parentNode||(o_(t)?t.host:null)||Ho(t)}function nS(t){return!mi(t)||Js(t).position==="fixed"?null:t.offsetParent}function hL(t){var e=/firefox/i.test(Bv()),r=/Trident/i.test(Bv());if(r&&mi(t)){var n=Js(t);if(n.position==="fixed")return null}var i=Wp(t);for(o_(i)&&(i=i.host);mi(i)&&["html","body"].indexOf(ms(i))<0;){var s=Js(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Hd(t){for(var e=Jn(t),r=nS(t);r&&dL(r)&&Js(r).position==="static";)r=nS(r);return r&&(ms(r)==="html"||ms(r)==="body"&&Js(r).position==="static")?e:r||hL(t)||e}function l_(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ld(t,e,r){return La(t,ep(e,r))}function fL(t,e,r){var n=ld(t,e,r);return n>r?r:n}function ZC(){return{top:0,right:0,bottom:0,left:0}}function eE(t){return Object.assign({},ZC(),t)}function tE(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var pL=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,eE(typeof e!="number"?e:tE(e,zd))};function mL(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,a=r.modifiersData.popperOffsets,u=fs(r.placement),c=l_(u),h=[In,yi].indexOf(u)>=0,p=h?"height":"width";if(!(!s||!a)){var g=pL(i.padding,r),T=a_(s),S=c==="y"?An:In,E=c==="y"?vi:yi,v=r.rects.reference[p]+r.rects.reference[c]-a[c]-r.rects.popper[p],C=a[c]-r.rects.reference[c],P=Hd(s),R=P?c==="y"?P.clientHeight||0:P.clientWidth||0:0,D=v/2-C/2,U=g[S],A=R-T[p]-g[E],B=R/2-T[p]/2+D,$=ld(U,B,A),W=c;r.modifiersData[n]=(e={},e[W]=$,e.centerOffset=$-B,e)}}function gL(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||JC(e.elements.popper,i)&&(e.elements.arrow=i))}const vL={name:"arrow",enabled:!0,phase:"main",fn:mL,effect:gL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bu(t){return t.split("-")[1]}var yL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _L(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:_u(r*i)/i||0,y:_u(n*i)/i||0}}function iS(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,u=t.position,c=t.gpuAcceleration,h=t.adaptive,p=t.roundOffsets,g=t.isFixed,T=a.x,S=T===void 0?0:T,E=a.y,v=E===void 0?0:E,C=typeof p=="function"?p({x:S,y:v}):{x:S,y:v};S=C.x,v=C.y;var P=a.hasOwnProperty("x"),R=a.hasOwnProperty("y"),D=In,U=An,A=window;if(h){var B=Hd(r),$="clientHeight",W="clientWidth";if(B===Jn(r)&&(B=Ho(r),Js(B).position!=="static"&&u==="absolute"&&($="scrollHeight",W="scrollWidth")),B=B,i===An||(i===In||i===yi)&&s===Td){U=vi;var O=g&&B===A&&A.visualViewport?A.visualViewport.height:B[$];v-=O-n.height,v*=c?1:-1}if(i===In||(i===An||i===vi)&&s===Td){D=yi;var M=g&&B===A&&A.visualViewport?A.visualViewport.width:B[W];S-=M-n.width,S*=c?1:-1}}var X=Object.assign({position:u},h&&yL),re=p===!0?_L({x:S,y:v},Jn(r)):{x:S,y:v};if(S=re.x,v=re.y,c){var Q;return Object.assign({},X,(Q={},Q[U]=R?"0":"",Q[D]=P?"0":"",Q.transform=(A.devicePixelRatio||1)<=1?"translate("+S+"px, "+v+"px)":"translate3d("+S+"px, "+v+"px, 0)",Q))}return Object.assign({},X,(e={},e[U]=R?v+"px":"",e[D]=P?S+"px":"",e.transform="",e))}function xL(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,a=s===void 0?!0:s,u=r.roundOffsets,c=u===void 0?!0:u,h={placement:fs(e.placement),variation:bu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,iS(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,iS(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const bL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xL,data:{}};var _f={passive:!0};function SL(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,a=n.resize,u=a===void 0?!0:a,c=Jn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(p){p.addEventListener("scroll",r.update,_f)}),u&&c.addEventListener("resize",r.update,_f),function(){s&&h.forEach(function(p){p.removeEventListener("scroll",r.update,_f)}),u&&c.removeEventListener("resize",r.update,_f)}}const TL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:SL,data:{}};var CL={left:"right",right:"left",bottom:"top",top:"bottom"};function Mf(t){return t.replace(/left|right|bottom|top/g,function(e){return CL[e]})}var EL={start:"end",end:"start"};function sS(t){return t.replace(/start|end/g,function(e){return EL[e]})}function u_(t){var e=Jn(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function c_(t){return xu(Ho(t)).left+u_(t).scrollLeft}function wL(t,e){var r=Jn(t),n=Ho(t),i=r.visualViewport,s=n.clientWidth,a=n.clientHeight,u=0,c=0;if(i){s=i.width,a=i.height;var h=QC();(h||!h&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:u+c_(t),y:c}}function kL(t){var e,r=Ho(t),n=u_(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=La(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=La(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-n.scrollLeft+c_(t),c=-n.scrollTop;return Js(i||r).direction==="rtl"&&(u+=La(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:u,y:c}}function d_(t){var e=Js(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function rE(t){return["html","body","#document"].indexOf(ms(t))>=0?t.ownerDocument.body:mi(t)&&d_(t)?t:rE(Wp(t))}function ud(t,e){var r;e===void 0&&(e=[]);var n=rE(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=Jn(n),a=i?[s].concat(s.visualViewport||[],d_(n)?n:[]):n,u=e.concat(a);return i?u:u.concat(ud(Wp(a)))}function Fv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function DL(t,e){var r=xu(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function oS(t,e,r){return e===XC?Fv(wL(t,r)):Ha(e)?DL(e,r):Fv(kL(Ho(t)))}function AL(t){var e=ud(Wp(t)),r=["absolute","fixed"].indexOf(Js(t).position)>=0,n=r&&mi(t)?Hd(t):t;return Ha(n)?e.filter(function(i){return Ha(i)&&JC(i,n)&&ms(i)!=="body"}):[]}function IL(t,e,r,n){var i=e==="clippingParents"?AL(t):[].concat(e),s=[].concat(i,[r]),a=s[0],u=s.reduce(function(c,h){var p=oS(t,h,n);return c.top=La(p.top,c.top),c.right=ep(p.right,c.right),c.bottom=ep(p.bottom,c.bottom),c.left=La(p.left,c.left),c},oS(t,a,n));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function nE(t){var e=t.reference,r=t.element,n=t.placement,i=n?fs(n):null,s=n?bu(n):null,a=e.x+e.width/2-r.width/2,u=e.y+e.height/2-r.height/2,c;switch(i){case An:c={x:a,y:e.y-r.height};break;case vi:c={x:a,y:e.y+e.height};break;case yi:c={x:e.x+e.width,y:u};break;case In:c={x:e.x-r.width,y:u};break;default:c={x:e.x,y:e.y}}var h=i?l_(i):null;if(h!=null){var p=h==="y"?"height":"width";switch(s){case yu:c[h]=c[h]-(e[p]/2-r[p]/2);break;case Td:c[h]=c[h]+(e[p]/2-r[p]/2);break}}return c}function Cd(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,a=s===void 0?t.strategy:s,u=r.boundary,c=u===void 0?Y4:u,h=r.rootBoundary,p=h===void 0?XC:h,g=r.elementContext,T=g===void 0?Mc:g,S=r.altBoundary,E=S===void 0?!1:S,v=r.padding,C=v===void 0?0:v,P=eE(typeof C!="number"?C:tE(C,zd)),R=T===Mc?Q4:Mc,D=t.rects.popper,U=t.elements[E?R:T],A=IL(Ha(U)?U:U.contextElement||Ho(t.elements.popper),c,p,a),B=xu(t.elements.reference),$=nE({reference:B,element:D,placement:i}),W=Fv(Object.assign({},D,$)),O=T===Mc?W:B,M={top:A.top-O.top+P.top,bottom:O.bottom-A.bottom+P.bottom,left:A.left-O.left+P.left,right:O.right-A.right+P.right},X=t.modifiersData.offset;if(T===Mc&&X){var re=X[i];Object.keys(M).forEach(function(Q){var ue=[yi,vi].indexOf(Q)>=0?1:-1,ae=[An,vi].indexOf(Q)>=0?"y":"x";M[Q]+=re[ae]*ue})}return M}function PL(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,a=r.padding,u=r.flipVariations,c=r.allowedAutoPlacements,h=c===void 0?YC:c,p=bu(n),g=p?u?rS:rS.filter(function(E){return bu(E)===p}):zd,T=g.filter(function(E){return h.indexOf(E)>=0});T.length===0&&(T=g);var S=T.reduce(function(E,v){return E[v]=Cd(t,{placement:v,boundary:i,rootBoundary:s,padding:a})[fs(v)],E},{});return Object.keys(S).sort(function(E,v){return S[E]-S[v]})}function RL(t){if(fs(t)===s_)return[];var e=Mf(t);return[sS(t),e,sS(e)]}function OL(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,u=a===void 0?!0:a,c=r.fallbackPlacements,h=r.padding,p=r.boundary,g=r.rootBoundary,T=r.altBoundary,S=r.flipVariations,E=S===void 0?!0:S,v=r.allowedAutoPlacements,C=e.options.placement,P=fs(C),R=P===C,D=c||(R||!E?[Mf(C)]:RL(C)),U=[C].concat(D).reduce(function(Ce,Se){return Ce.concat(fs(Se)===s_?PL(e,{placement:Se,boundary:p,rootBoundary:g,padding:h,flipVariations:E,allowedAutoPlacements:v}):Se)},[]),A=e.rects.reference,B=e.rects.popper,$=new Map,W=!0,O=U[0],M=0;M<U.length;M++){var X=U[M],re=fs(X),Q=bu(X)===yu,ue=[An,vi].indexOf(re)>=0,ae=ue?"width":"height",Z=Cd(e,{placement:X,boundary:p,rootBoundary:g,altBoundary:T,padding:h}),K=ue?Q?yi:In:Q?vi:An;A[ae]>B[ae]&&(K=Mf(K));var J=Mf(K),ie=[];if(s&&ie.push(Z[re]<=0),u&&ie.push(Z[K]<=0,Z[J]<=0),ie.every(function(Ce){return Ce})){O=X,W=!1;break}$.set(X,ie)}if(W)for(var se=E?3:1,V=function(Se){var Ne=U.find(function(Ee){var ve=$.get(Ee);if(ve)return ve.slice(0,Se).every(function(Ae){return Ae})});if(Ne)return O=Ne,"break"},ce=se;ce>0;ce--){var Te=V(ce);if(Te==="break")break}e.placement!==O&&(e.modifiersData[n]._skip=!0,e.placement=O,e.reset=!0)}}const LL={name:"flip",enabled:!0,phase:"main",fn:OL,requiresIfExists:["offset"],data:{_skip:!1}};function aS(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function lS(t){return[An,yi,vi,In].some(function(e){return t[e]>=0})}function ML(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Cd(e,{elementContext:"reference"}),u=Cd(e,{altBoundary:!0}),c=aS(a,n),h=aS(u,i,s),p=lS(c),g=lS(h);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}const NL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ML};function BL(t,e,r){var n=fs(t),i=[In,An].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=s[0],u=s[1];return a=a||0,u=(u||0)*i,[In,yi].indexOf(n)>=0?{x:u,y:a}:{x:a,y:u}}function FL(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,a=YC.reduce(function(p,g){return p[g]=BL(g,e.rects,s),p},{}),u=a[e.placement],c=u.x,h=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[n]=a}const $L={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:FL};function jL(t){var e=t.state,r=t.name;e.modifiersData[r]=nE({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const UL={name:"popperOffsets",enabled:!0,phase:"read",fn:jL,data:{}};function zL(t){return t==="x"?"y":"x"}function HL(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,u=a===void 0?!1:a,c=r.boundary,h=r.rootBoundary,p=r.altBoundary,g=r.padding,T=r.tether,S=T===void 0?!0:T,E=r.tetherOffset,v=E===void 0?0:E,C=Cd(e,{boundary:c,rootBoundary:h,padding:g,altBoundary:p}),P=fs(e.placement),R=bu(e.placement),D=!R,U=l_(P),A=zL(U),B=e.modifiersData.popperOffsets,$=e.rects.reference,W=e.rects.popper,O=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,M=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),X=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(B){if(s){var Q,ue=U==="y"?An:In,ae=U==="y"?vi:yi,Z=U==="y"?"height":"width",K=B[U],J=K+C[ue],ie=K-C[ae],se=S?-W[Z]/2:0,V=R===yu?$[Z]:W[Z],ce=R===yu?-W[Z]:-$[Z],Te=e.elements.arrow,Ce=S&&Te?a_(Te):{width:0,height:0},Se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ZC(),Ne=Se[ue],Ee=Se[ae],ve=ld(0,$[Z],Ce[Z]),Ae=D?$[Z]/2-se-ve-Ne-M.mainAxis:V-ve-Ne-M.mainAxis,Le=D?-$[Z]/2+se+ve+Ee+M.mainAxis:ce+ve+Ee+M.mainAxis,ze=e.elements.arrow&&Hd(e.elements.arrow),lt=ze?U==="y"?ze.clientTop||0:ze.clientLeft||0:0,Yt=(Q=X==null?void 0:X[U])!=null?Q:0,Pt=K+Ae-Yt-lt,sn=K+Le-Yt,wt=ld(S?ep(J,Pt):J,K,S?La(ie,sn):ie);B[U]=wt,re[U]=wt-K}if(u){var gr,kt=U==="x"?An:In,ur=U==="x"?vi:yi,Qe=B[A],rt=A==="y"?"height":"width",mt=Qe+C[kt],Rt=Qe-C[ur],Sr=[An,In].indexOf(P)!==-1,qr=(gr=X==null?void 0:X[A])!=null?gr:0,on=Sr?mt:Qe-$[rt]-W[rt]-qr+M.altAxis,vr=Sr?Qe+$[rt]+W[rt]-qr-M.altAxis:Rt,Mr=S&&Sr?fL(on,Qe,vr):ld(S?on:mt,Qe,S?vr:Rt);B[A]=Mr,re[A]=Mr-Qe}e.modifiersData[n]=re}}const VL={name:"preventOverflow",enabled:!0,phase:"main",fn:HL,requiresIfExists:["offset"]};function qL(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function WL(t){return t===Jn(t)||!mi(t)?u_(t):qL(t)}function GL(t){var e=t.getBoundingClientRect(),r=_u(e.width)/t.offsetWidth||1,n=_u(e.height)/t.offsetHeight||1;return r!==1||n!==1}function KL(t,e,r){r===void 0&&(r=!1);var n=mi(e),i=mi(e)&&GL(e),s=Ho(e),a=xu(t,i,r),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((ms(e)!=="body"||d_(s))&&(u=WL(e)),mi(e)?(c=xu(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=c_(s))),{x:a.left+u.scrollLeft-c.x,y:a.top+u.scrollTop-c.y,width:a.width,height:a.height}}function XL(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(u){if(!r.has(u)){var c=e.get(u);c&&i(c)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function YL(t){var e=XL(t);return aL.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function QL(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function JL(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var uS={placement:"bottom",modifiers:[],strategy:"absolute"};function cS(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function ZL(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?uS:i;return function(u,c,h){h===void 0&&(h=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},uS,s),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},g=[],T=!1,S={state:p,setOptions:function(P){var R=typeof P=="function"?P(p.options):P;v(),p.options=Object.assign({},s,p.options,R),p.scrollParents={reference:Ha(u)?ud(u):u.contextElement?ud(u.contextElement):[],popper:ud(c)};var D=YL(JL([].concat(n,p.options.modifiers)));return p.orderedModifiers=D.filter(function(U){return U.enabled}),E(),S.update()},forceUpdate:function(){if(!T){var P=p.elements,R=P.reference,D=P.popper;if(cS(R,D)){p.rects={reference:KL(R,Hd(D),p.options.strategy==="fixed"),popper:a_(D)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(M){return p.modifiersData[M.name]=Object.assign({},M.data)});for(var U=0;U<p.orderedModifiers.length;U++){if(p.reset===!0){p.reset=!1,U=-1;continue}var A=p.orderedModifiers[U],B=A.fn,$=A.options,W=$===void 0?{}:$,O=A.name;typeof B=="function"&&(p=B({state:p,options:W,name:O,instance:S})||p)}}}},update:QL(function(){return new Promise(function(C){S.forceUpdate(),C(p)})}),destroy:function(){v(),T=!0}};if(!cS(u,c))return S;S.setOptions(h).then(function(C){!T&&h.onFirstUpdate&&h.onFirstUpdate(C)});function E(){p.orderedModifiers.forEach(function(C){var P=C.name,R=C.options,D=R===void 0?{}:R,U=C.effect;if(typeof U=="function"){var A=U({state:p,name:P,instance:S,options:D}),B=function(){};g.push(A||B)}})}function v(){g.forEach(function(C){return C()}),g=[]}return S}}var e5=[TL,UL,bL,cL,$L,LL,VL,vL,NL],t5=ZL({defaultModifiers:e5});const r5="Popper";function n5(t){return G3(r5,t)}const i5=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],s5=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function o5(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function $v(t){return typeof t=="function"?t():t}function a5(t){return t.nodeType!==void 0}const l5=()=>_t({root:["root"]},z3(n5)),u5={},c5=N.forwardRef(function(e,r){var n;const{anchorEl:i,children:s,direction:a,disablePortal:u,modifiers:c,open:h,placement:p,popperOptions:g,popperRef:T,slotProps:S={},slots:E={},TransitionProps:v}=e,C=qe(e,i5),P=N.useRef(null),R=Lr(P,r),D=N.useRef(null),U=Lr(D,T),A=N.useRef(U);ps(()=>{A.current=U},[U]),N.useImperativeHandle(T,()=>D.current,[]);const B=o5(p,a),[$,W]=N.useState(B),[O,M]=N.useState($v(i));N.useEffect(()=>{D.current&&D.current.forceUpdate()}),N.useEffect(()=>{i&&M($v(i))},[i]),ps(()=>{if(!O||!h)return;const ae=J=>{W(J.placement)};let Z=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:J})=>{ae(J)}}];c!=null&&(Z=Z.concat(c)),g&&g.modifiers!=null&&(Z=Z.concat(g.modifiers));const K=t5(O,P.current,z({placement:B},g,{modifiers:Z}));return A.current(K),()=>{K.destroy(),A.current(null)}},[O,u,c,h,g,B]);const X={placement:$};v!==null&&(X.TransitionProps=v);const re=l5(),Q=(n=E.root)!=null?n:"div",ue=zC({elementType:Q,externalSlotProps:S.root,externalForwardedProps:C,additionalProps:{role:"tooltip",ref:R},ownerState:e,className:re.root});return L.jsx(Q,z({},ue,{children:typeof s=="function"?s(X):s}))}),d5=N.forwardRef(function(e,r){const{anchorEl:n,children:i,container:s,direction:a="ltr",disablePortal:u=!1,keepMounted:c=!1,modifiers:h,open:p,placement:g="bottom",popperOptions:T=u5,popperRef:S,style:E,transition:v=!1,slotProps:C={},slots:P={}}=e,R=qe(e,s5),[D,U]=N.useState(!0),A=()=>{U(!1)},B=()=>{U(!0)};if(!c&&!p&&(!v||D))return null;let $;if(s)$=s;else if(n){const M=$v(n);$=M&&a5(M)?Li(M).body:Li(null).body}const W=!p&&c&&(!v||D)?"none":void 0,O=v?{in:p,onEnter:A,onExited:B}:void 0;return L.jsx(KC,{disablePortal:u,container:$,children:L.jsx(c5,z({anchorEl:n,direction:a,disablePortal:u,modifiers:h,ref:r,open:v?!D:p,placement:g,popperOptions:T,popperRef:S,slotProps:C,slots:P},R,{style:z({position:"fixed",top:0,left:0,display:W},E),TransitionProps:O,children:i}))})}),h5=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],f5=["component","slots","slotProps"],p5=["component"];function Je(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:s,getSlotOwnerState:a,internalForwardedProps:u}=e,c=qe(e,h5),{component:h,slots:p={[t]:void 0},slotProps:g={[t]:void 0}}=s,T=qe(s,f5),S=p[t]||n,E=jC(g[t],i),v=UC(z({className:r},c,{externalForwardedProps:t==="root"?T:void 0,externalSlotProps:E})),{props:{component:C},internalRef:P}=v,R=qe(v.props,p5),D=Lr(P,E==null?void 0:E.ref,e.ref),U=a?a(R):{},A=z({},i,U),B=t==="root"?C||h:C,$=$C(S,z({},t==="root"&&!h&&!p[t]&&u,t!=="root"&&!p[t]&&u,R,B&&{as:B},{ref:D}),A);return Object.keys(U).forEach(W=>{delete $[W]}),[S,$]}function m5(t){return It("MuiListItem",t)}const iE=Ct("MuiListItem",["root","startAction","endAction","nested","nesting","sticky","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]),tp=N.createContext(!1),Gp=N.createContext(!1),sE=N.createContext(!1),oE=N.createContext(void 0),aE=N.createContext(void 0),h_=N.createContext(void 0),g5=["component","className","children","nested","sticky","variant","color","startAction","endAction","role","slots","slotProps"],v5=t=>{const{sticky:e,nested:r,nesting:n,variant:i,color:s}=t,a={root:["root",r&&"nested",n&&"nesting",e&&"sticky",s&&`color${je(s)}`,i&&`variant${je(i)}`],startAction:["startAction"],endAction:["endAction"]};return _t(a,m5,{})},y5=Fe("li")(({theme:t,ownerState:e})=>{var r;return[!e.nested&&{"--ListItemButton-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))","--ListItemButton-marginBlock":"calc(-1 * var(--ListItem-paddingY))",alignItems:"center",gap:"var(--ListItem-gap)",marginInline:"var(--ListItem-marginInline)"},e.nested&&{"--NestedList-marginRight":"calc(-1 * var(--ListItem-paddingRight))","--NestedList-marginLeft":"calc(-1 * var(--ListItem-paddingLeft))","--NestedListItem-paddingLeft":"calc(var(--ListItem-paddingLeft) + var(--List-nestedInsetStart))","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))","--ListItem-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))",flexDirection:"column"},z({"--unstable_actionRadius":"calc(var(--ListItem-radius) - var(--variant-borderWidth, 0px))"},e.startAction&&{"--unstable_startActionWidth":"2rem"},e.endAction&&{"--unstable_endActionWidth":"2.5rem"},{boxSizing:"border-box",borderRadius:"var(--ListItem-radius)",display:"var(--_ListItem-display)","&:not([hidden])":{"--_ListItem-display":"var(--_List-markerDisplay, flex)"},flex:"none",listStyleType:"var(--_List-markerType, disc)",position:"relative",paddingBlockStart:e.nested?0:"var(--ListItem-paddingY)",paddingBlockEnd:e.nested?0:"var(--ListItem-paddingY)",paddingInlineStart:"var(--ListItem-paddingLeft)",paddingInlineEnd:"var(--ListItem-paddingRight)"},e["data-first-child"]===void 0&&z({},e.row?{marginInlineStart:"var(--List-gap)"}:{marginBlockStart:"var(--List-gap)"}),e.row&&e.wrap&&{marginInlineStart:"var(--List-gap)",marginBlockStart:"var(--List-gap)"},{minBlockSize:"var(--ListItem-minHeight)"},e.sticky&&{position:"sticky",top:"var(--ListItem-stickyTop, 0px)",zIndex:1,background:`var(--ListItem-stickyBackground, ${t.vars.palette.background.body})`},{[`.${iE.nested} > &`]:{"--_ListItem-display":"flex"}}),(r=t.variants[e.variant])==null?void 0:r[e.color]]}),_5=Fe(y5,{name:"JoyListItem",slot:"Root",overridesResolver:(t,e)=>e.root})({}),x5=Fe("div",{name:"JoyListItem",slot:"StartAction",overridesResolver:(t,e)=>e.startAction})(({ownerState:t})=>({display:"inherit",position:"absolute",top:t.nested?"calc(var(--ListItem-minHeight) / 2)":"50%",left:0,transform:"translate(var(--ListItem-startActionTranslateX), -50%)",zIndex:1})),b5=Fe("div",{name:"JoyListItem",slot:"StartAction",overridesResolver:(t,e)=>e.startAction})(({ownerState:t})=>({display:"inherit",position:"absolute",top:t.nested?"calc(var(--ListItem-minHeight) / 2)":"50%",right:0,transform:"translate(var(--ListItem-endActionTranslateX), -50%)"})),Su=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyListItem"}),i=N.useContext(h_),s=N.useContext(oE),a=N.useContext(Gp),u=N.useContext(sE),c=N.useContext(tp),{component:h,className:p,children:g,nested:T=!1,sticky:S=!1,variant:E="plain",color:v="neutral",startAction:C,endAction:P,role:R,slots:D={},slotProps:U={}}=n,A=qe(n,g5),[B,$]=N.useState(""),[W,O]=(s==null?void 0:s.split(":"))||["",""],M=h||(W&&!W.match(/^(ul|ol|menu)$/)?"div":void 0);let X=i==="menu"?"none":void 0;s&&(X={menu:"none",menubar:"none",group:"presentation"}[O]),R&&(X=R);const re=z({},n,{sticky:S,startAction:C,endAction:P,row:a,wrap:u,variant:E,color:v,nesting:c,nested:T,component:M,role:X}),Q=v5(re),ue=z({},A,{component:M,slots:D,slotProps:U}),[ae,Z]=Je("root",{additionalProps:{role:X},ref:r,className:ar(Q.root,p),elementType:_5,externalForwardedProps:ue,ownerState:re}),[K,J]=Je("startAction",{className:Q.startAction,elementType:x5,externalForwardedProps:ue,ownerState:re}),[ie,se]=Je("endAction",{className:Q.endAction,elementType:b5,externalForwardedProps:ue,ownerState:re});return L.jsx(aE.Provider,{value:$,children:L.jsx(tp.Provider,{value:T?B||!0:!1,children:L.jsxs(ae,z({},Z,{children:[C&&L.jsx(K,z({},J,{children:C})),N.Children.map(g,(V,ce)=>N.isValidElement(V)?N.cloneElement(V,z({},ce===0&&{"data-first-child":""},Wa(V,["ListItem"])&&{component:V.props.component||"div"})):V),P&&L.jsx(ie,z({},se,{children:P}))]}))})})});Su.muiName="ListItem";const S5={"--NestedList-marginRight":"0px","--NestedList-marginLeft":"0px","--NestedListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px"};function lE(t){const{children:e,nested:r,row:n=!1,wrap:i=!1}=t,s=L.jsx(Gp.Provider,{value:n,children:L.jsx(sE.Provider,{value:i,children:N.Children.map(e,(a,u)=>N.isValidElement(a)?N.cloneElement(a,z({},u===0&&{"data-first-child":""},u===N.Children.count(e)-1&&{"data-last-child":""})):a)})});return r===void 0?s:L.jsx(tp.Provider,{value:r,children:s})}const Vd=({theme:t,ownerState:e},r)=>{let n={};function i(s){if(typeof s=="function"){const a=s(t);i(a)}else Array.isArray(s)?s.forEach(a=>{typeof a!="boolean"&&i(a)}):typeof s=="object"&&(n=z({},n,s))}return e.sx&&(i(e.sx),r.forEach(s=>{const a=n[s];if(typeof a=="string"||typeof a=="number")if(s==="borderRadius")if(typeof a=="number")n[s]=`${a}px`;else{var u;n[s]=((u=t.vars)==null?void 0:u.radius[a])||a}else["p","padding","m","margin"].indexOf(s)!==-1&&typeof a=="number"?n[s]=t.spacing(a):n[s]=a;else typeof a=="function"?n[s]=a(t):n[s]=void 0})),n};function T5(t){return It("MuiList",t)}Ct("MuiList",["root","nesting","scoped","sizeSm","sizeMd","sizeLg","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","horizontal","vertical"]);const C5=N.createContext(void 0),E5=["component","className","children","size","orientation","wrap","variant","color","role","slots","slotProps"],w5=t=>{const{variant:e,color:r,size:n,nesting:i,orientation:s,instanceSize:a}=t,u={root:["root",s,e&&`variant${je(e)}`,r&&`color${je(r)}`,!a&&!i&&n&&`size${je(n)}`,a&&`size${je(a)}`,i&&"nesting"]};return _t(u,T5,{})},uE=Fe("ul")(({theme:t,ownerState:e})=>{var r;const{p:n,padding:i,borderRadius:s}=Vd({theme:t,ownerState:e},["p","padding","borderRadius"]);function a(u){return u==="sm"?{"--ListDivider-gap":"0.25rem","--ListItem-minHeight":"2rem","--ListItem-paddingY":"3px","--ListItem-paddingX":e.marker?"3px":"0.5rem","--ListItem-gap":"0.5rem","--ListItemDecorator-size":e.orientation==="horizontal"?"1.5rem":"2rem","--Icon-fontSize":t.vars.fontSize.lg}:u==="md"?{"--ListDivider-gap":"0.375rem","--ListItem-minHeight":"2.25rem","--ListItem-paddingY":"0.25rem","--ListItem-paddingX":e.marker?"0.25rem":"0.75rem","--ListItem-gap":"0.625rem","--ListItemDecorator-size":e.orientation==="horizontal"?"1.75rem":"2.5rem","--Icon-fontSize":t.vars.fontSize.xl}:u==="lg"?{"--ListDivider-gap":"0.5rem","--ListItem-minHeight":"2.75rem","--ListItem-paddingY":"0.375rem","--ListItem-paddingX":e.marker?"0.5rem":"1rem","--ListItem-gap":"0.75rem","--ListItemDecorator-size":e.orientation==="horizontal"?"2.25rem":"3rem","--Icon-fontSize":t.vars.fontSize.xl2}:{}}return[e.nesting&&z({},a(e.instanceSize),{"--ListItem-paddingRight":"var(--ListItem-paddingX)","--ListItem-paddingLeft":"var(--NestedListItem-paddingLeft)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px",padding:0},e.marker&&{paddingInlineStart:"calc(3ch - var(--_List-markerDeduct, 0px))"},{marginInlineStart:"var(--NestedList-marginLeft)",marginInlineEnd:"var(--NestedList-marginRight)",marginBlockStart:"var(--List-gap)",marginBlockEnd:"initial"}),!e.nesting&&z({},a(e.size),{"--List-gap":"0px","--List-nestedInsetStart":"0px","--ListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItem-paddingRight":"var(--ListItem-paddingX)"},e.marker&&{"--_List-markerDeduct":"1ch"},{"--unstable_List-childRadius":"calc(max(var(--List-radius) - var(--List-padding), min(var(--List-padding) / 2, var(--List-radius) / 2)) - var(--variant-borderWidth, 0px))","--ListItem-radius":"var(--unstable_List-childRadius)","--ListItem-startActionTranslateX":"calc(0.5 * var(--ListItem-paddingLeft))","--ListItem-endActionTranslateX":"calc(-0.5 * var(--ListItem-paddingRight))",margin:"initial"},t.typography[`body-${e.size}`],e.orientation==="horizontal"?z({},e.wrap?{padding:"var(--List-padding)",marginInlineStart:"calc(-1 * var(--List-gap))",marginBlockStart:"calc(-1 * var(--List-gap))"}:{paddingInline:"var(--List-padding, var(--ListDivider-gap))",paddingBlock:"var(--List-padding)"}):{paddingBlock:"var(--List-padding, var(--ListDivider-gap))",paddingInline:"var(--List-padding)"},e.marker&&{paddingInlineStart:"3ch"}),z({boxSizing:"border-box",borderRadius:"var(--List-radius)",listStyle:"none",display:"flex",flexDirection:e.orientation==="horizontal"?"row":"column"},e.wrap&&{flexWrap:"wrap"},e.marker&&{"--_List-markerDisplay":"list-item","--_List-markerType":e.marker,lineHeight:"calc(var(--ListItem-minHeight) - 2 * var(--ListItem-paddingY))"},{flexGrow:1,position:"relative"},(r=t.variants[e.variant])==null?void 0:r[e.color],{"--unstable_List-borderWidth":"var(--variant-borderWidth, 0px)"},s!==void 0&&{"--List-radius":s},n!==void 0&&{"--List-padding":n},i!==void 0&&{"--List-padding":i})]}),k5=Fe(uE,{name:"JoyList",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ed=N.forwardRef(function(e,r){var n;const i=N.useContext(tp),s=N.useContext(h_),a=N.useContext(C5),u=Et({props:e,name:"JoyList"}),{component:c,className:h,children:p,size:g,orientation:T="vertical",wrap:S=!1,variant:E="plain",color:v="neutral",role:C,slots:P={},slotProps:R={}}=u,D=qe(u,E5),U=g||((n=e.size)!=null?n:"md");let A;s&&(A="group"),a&&(A="presentation"),C&&(A=C);const B=z({},u,{instanceSize:e.size,size:U,nesting:i,orientation:T,wrap:S,variant:E,color:v,role:A}),$=w5(B),W=z({},D,{component:c,slots:P,slotProps:R}),[O,M]=Je("root",{ref:r,className:ar($.root,h),elementType:k5,externalForwardedProps:W,ownerState:B,additionalProps:{as:c,role:A,"aria-labelledby":typeof i=="string"?i:void 0}});return L.jsx(O,z({},M,{children:L.jsx(oE.Provider,{value:`${typeof c=="string"?c:""}:${A||""}`,children:L.jsx(lE,{row:T==="horizontal",wrap:S,children:p})})}))});function D5(t){return It("MuiListItemButton",t)}const Nf=Ct("MuiListItemButton",["root","horizontal","vertical","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","disabled","selected","variantPlain","variantSoft","variantOutlined","variantSolid"]),f_=N.createContext("horizontal"),A5=["children","className","action","component","orientation","role","selected","color","variant","slots","slotProps"],I5=t=>{const{color:e,disabled:r,focusVisible:n,focusVisibleClassName:i,selected:s,variant:a}=t,u={root:["root",r&&"disabled",n&&"focusVisible",e&&`color${je(e)}`,s&&"selected",a&&`variant${je(a)}`]},c=_t(u,D5,{});return n&&i&&(c.root+=` ${i}`),c},cE=Fe("div")(({theme:t,ownerState:e})=>{var r,n,i,s,a,u;return z({"--Icon-margin":"initial","--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":t.vars.palette.text.icon,WebkitTapHighlightColor:"transparent",boxSizing:"border-box",position:"relative",font:"inherit",display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"stretch",gap:"var(--ListItem-gap)"},e.orientation==="vertical"&&{flexDirection:"column",justifyContent:"center"},{textAlign:"initial",textDecoration:"initial",backgroundColor:"initial",cursor:"pointer",marginInline:"var(--ListItemButton-marginInline)",marginBlock:"var(--ListItemButton-marginBlock)"},e["data-first-child"]===void 0&&{marginInlineStart:e.row?"var(--List-gap)":void 0,marginBlockStart:e.row?void 0:"var(--List-gap)"},{paddingBlock:"calc(var(--ListItem-paddingY) - var(--variant-borderWidth, 0px))",paddingInlineStart:"calc(var(--ListItem-paddingLeft) + var(--ListItem-startActionWidth, var(--unstable_startActionWidth, 0px)))",paddingInlineEnd:"calc(var(--ListItem-paddingRight) + var(--ListItem-endActionWidth, var(--unstable_endActionWidth, 0px)))",minBlockSize:"var(--ListItem-minHeight)",border:"1px solid transparent",borderRadius:"var(--ListItem-radius)",flex:"var(--unstable_ListItem-flex, none)",fontSize:"inherit",lineHeight:"inherit",minInlineSize:0,[t.focus.selector]:z({},t.focus.default,{zIndex:1})},(r=t.variants[e.variant])==null?void 0:r[e.color],{"&:active":(n=t.variants[`${e.variant}Active`])==null?void 0:n[e.color],[`.${iE.root} > &`]:{"--unstable_ListItem-flex":"1 0 0%"},[`&.${Nf.selected}`]:z({},(i=t.variants[`${e.variant}Active`])==null?void 0:i[e.color],{"--Icon-color":"currentColor"}),[`&:not(.${Nf.selected}, [aria-selected="true"])`]:{"&:hover":(s=t.variants[`${e.variant}Hover`])==null?void 0:s[e.color],"&:active":(a=t.variants[`${e.variant}Active`])==null?void 0:a[e.color]},[`&.${Nf.disabled}`]:z({},(u=t.variants[`${e.variant}Disabled`])==null?void 0:u[e.color])})}),P5=Fe(cE,{name:"JoyListItemButton",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>z({},!t.row&&{[`&.${Nf.selected}`]:{fontWeight:e.vars.fontWeight.md}})),p_=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyListItemButton"}),i=N.useContext(Gp),{children:s,className:a,action:u,component:c="div",orientation:h="horizontal",role:p,selected:g=!1,color:T="neutral",variant:S="plain",slots:E={},slotProps:v={}}=n,C=qe(n,A5),P=N.useRef(null),R=Lr(P,r),{focusVisible:D,setFocusVisible:U,getRootProps:A}=$u(z({},n,{rootRef:R}));N.useImperativeHandle(u,()=>({focusVisible:()=>{var X;U(!0),(X=P.current)==null||X.focus()}}),[U]);const B=z({},n,{component:c,color:T,focusVisible:D,orientation:h,row:i,selected:g,variant:S}),$=I5(B),W=z({},C,{component:c,slots:E,slotProps:v}),[O,M]=Je("root",{ref:r,className:ar($.root,a),elementType:P5,externalForwardedProps:W,ownerState:B,getSlotProps:A});return L.jsx(f_.Provider,{value:h,children:L.jsx(O,z({},M,{role:p??M.role,children:s}))})});function R5(t){return It("MuiSvgIcon",t)}Ct("MuiSvgIcon",["root","colorInherit","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","fontSizeInherit","fontSizeXs","fontSizeSm","fontSizeMd","fontSizeLg","fontSizeXl","fontSizeXl2","fontSizeXl3","fontSizeXl4","sizeSm","sizeMd","sizeLg"]);const O5=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox","size","slots","slotProps"],L5=t=>{const{color:e,size:r,fontSize:n}=t,i={root:["root",e&&e!=="inherit"&&`color${je(e)}`,r&&`size${je(r)}`,n&&`fontSize${je(n)}`]};return _t(i,R5,{})},dS={sm:"xl",md:"xl2",lg:"xl3"},M5=Fe("svg",{name:"JoySvgIcon",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r;return z({},e.instanceSize&&{"--Icon-fontSize":t.vars.fontSize[dS[e.instanceSize]]},e.instanceFontSize&&e.instanceFontSize!=="inherit"&&{"--Icon-fontSize":t.vars.fontSize[e.instanceFontSize]},{userSelect:"none",margin:"var(--Icon-margin)",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,fontSize:`var(--Icon-fontSize, ${t.vars.fontSize[dS[e.size]]||"unset"})`},e.fontSize&&e.fontSize!=="inherit"&&{fontSize:`var(--Icon-fontSize, ${t.fontSize[e.fontSize]})`},!e.htmlColor&&z({color:`var(--Icon-color, ${t.vars.palette.text.icon})`},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&t.vars.palette[e.color]&&{color:`rgba(${(r=t.vars.palette[e.color])==null?void 0:r.mainChannel} / 1)`}))}),hS=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoySvgIcon"}),{children:i,className:s,color:a,component:u="svg",fontSize:c,htmlColor:h,inheritViewBox:p=!1,titleAccess:g,viewBox:T="0 0 24 24",size:S="md",slots:E={},slotProps:v={}}=n,C=qe(n,O5),P=N.isValidElement(i)&&i.type==="svg",R=z({},n,{color:a,component:u,size:S,instanceSize:e.size,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:T,hasSvgAsChild:P}),D=L5(R),U=z({},C,{component:u,slots:E,slotProps:v}),[A,B]=Je("root",{ref:r,className:ar(D.root,s),elementType:M5,externalForwardedProps:U,ownerState:R,additionalProps:z({color:h,focusable:!1},g&&{role:"img"},!g&&{"aria-hidden":!0},!p&&{viewBox:T},P&&i.props)});return L.jsxs(A,z({},B,{children:[P?i.props.children:i,g?L.jsx("title",{children:g}):null]}))});function N5(t,e){function r(n,i){return L.jsx(hS,z({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=hS.muiName,N.memo(N.forwardRef(r))}const m_=t=>e=>`--${t?`${t}-`:""}${e.replace(/^--/,"")}`,Tu="data-skip-inverted-colors",dE=`& :not([${Tu}], [${Tu}] *)`,hE=t=>{var e,r,n,i,s,a,u,c,h,p,g,T,S,E,v,C,P,R,D,U,A,B;const $=m_(t.cssVarPrefix);return{"--variant-plainColor":"var(--variant-plainColor) !important","--variant-plainHoverColor":"var(--variant-plainHoverColor) !important","--variant-plainHoverBg":"var(--variant-plainHoverBg) !important","--variant-plainActiveBg":"var(--variant-plainActiveBg) !important","--variant-plainDisabledColor":"var(--variant-plainDisabledColor) !important","--variant-outlinedColor":"var(--variant-outlinedColor) !important","--variant-outlinedBorder":"var(--variant-outlinedBorder) !important","--variant-outlinedHoverColor":"var(--variant-outlinedHoverColor) !important","--variant-outlinedHoverBorder":"var(--variant-outlinedHoverBorder) !important","--variant-outlinedHoverBg":"var(--variant-outlinedHoverBg) !important","--variant-outlinedActiveBg":"var(--variant-outlinedActiveBg) !important","--variant-outlinedDisabledColor":"var(--variant-outlinedDisabledColor) !important","--variant-outlinedDisabledBorder":"var(--variant-outlinedDisabledBorder) !important","--variant-softColor":"var(--variant-softColor) !important","--variant-softHoverColor":"var(--variant-softHoverColor) !important","--variant-softBg":"var(--variant-softBg) !important","--variant-softHoverBg":"var(--variant-softHoverBg) !important","--variant-softActiveBg":"var(--variant-softActiveBg) !important","--variant-softActiveColor":"var(--variant-softActiveColor) !important","--variant-softDisabledColor":"var(--variant-softDisabledColor) !important","--variant-softDisabledBg":"var(--variant-softDisabledBg) !important","--variant-solidColor":"var(--variant-solidColor) !important","--variant-solidBg":"var(--variant-solidBg) !important","--variant-solidHoverBg":"var(--variant-solidHoverBg) !important","--variant-solidActiveBg":"var(--variant-solidActiveBg) !important","--variant-solidDisabledColor":"var(--variant-solidDisabledColor) !important","--variant-solidDisabledBg":"var(--variant-solidDisabledBg) !important","--Badge-ringColor":"var(--Badge-ringColor) !important",colorScheme:"unset",[t.getColorSchemeSelector("light")]:{[$("--palette-focusVisible")]:`${(e=t.colorSchemes.light)==null?void 0:e.palette.focusVisible} !important`,[$("--palette-background-body")]:`${(r=t.colorSchemes.light)==null?void 0:r.palette.background.body} !important`,[$("--palette-background-surface")]:`${(n=t.colorSchemes.light)==null?void 0:n.palette.background.surface} !important`,[$("--palette-background-popup")]:`${(i=t.colorSchemes.light)==null?void 0:i.palette.background.popup} !important`,[$("--palette-background-level1")]:`${(s=t.colorSchemes.light)==null?void 0:s.palette.background.level1} !important`,[$("--palette-background-level2")]:`${(a=t.colorSchemes.light)==null?void 0:a.palette.background.level2} !important`,[$("--palette-background-level3")]:`${(u=t.colorSchemes.light)==null?void 0:u.palette.background.level3} !important`,[$("--palette-text-primary")]:`${(c=t.colorSchemes.light)==null?void 0:c.palette.text.primary} !important`,[$("--palette-text-secondary")]:`${(h=t.colorSchemes.light)==null?void 0:h.palette.text.secondary} !important`,[$("--palette-text-tertiary")]:`${(p=t.colorSchemes.light)==null?void 0:p.palette.text.tertiary} !important`,[$("--palette-divider")]:`${(g=t.colorSchemes.light)==null?void 0:g.palette.divider} !important`},[t.getColorSchemeSelector("dark")]:{[$("--palette-focusVisible")]:`${(T=t.colorSchemes.dark)==null?void 0:T.palette.focusVisible} !important`,[$("--palette-background-body")]:`${(S=t.colorSchemes.dark)==null?void 0:S.palette.background.body} !important`,[$("--palette-background-surface")]:`${(E=t.colorSchemes.dark)==null?void 0:E.palette.background.surface} !important`,[$("--palette-background-popup")]:`${(v=t.colorSchemes.dark)==null?void 0:v.palette.background.popup} !important`,[$("--palette-background-level1")]:`${(C=t.colorSchemes.dark)==null?void 0:C.palette.background.level1} !important`,[$("--palette-background-level2")]:`${(P=t.colorSchemes.dark)==null?void 0:P.palette.background.level2} !important`,[$("--palette-background-level3")]:`${(R=t.colorSchemes.dark)==null?void 0:R.palette.background.level3} !important`,[$("--palette-text-primary")]:`${(D=t.colorSchemes.dark)==null?void 0:D.palette.text.primary} !important`,[$("--palette-text-secondary")]:`${(U=t.colorSchemes.dark)==null?void 0:U.palette.text.secondary} !important`,[$("--palette-text-tertiary")]:`${(A=t.colorSchemes.dark)==null?void 0:A.palette.text.tertiary} !important`,[$("--palette-divider")]:`${(B=t.colorSchemes.dark)==null?void 0:B.palette.divider} !important`}}};function B5(t){return t.theme!==void 0}const Kp=t=>e=>{const r=B5(e)?e.theme:e,n=r_(r.cssVarPrefix),i=m_(r.cssVarPrefix),s=a=>{const u=a.split("-");return n(a,r.palette[u[1]][u[2]])};return{[dE]:{"--Badge-ringColor":s(`palette-${t}-solidBg`),"--Icon-color":"currentColor",[`${r.getColorSchemeSelector("light")}, ${r.getColorSchemeSelector("dark")}`]:{colorScheme:"dark",[i("--palette-focusVisible")]:s(`palette-${t}-200`),[i("--palette-background-body")]:"rgba(0 0 0 / 0.1)",[i("--palette-background-surface")]:"rgba(0 0 0 / 0.06)",[i("--palette-background-popup")]:s(`palette-${t}-700`),[i("--palette-background-level1")]:`rgba(${s(`palette-${t}-darkChannel`)} / 0.2)`,[i("--palette-background-level2")]:`rgba(${s(`palette-${t}-darkChannel`)} / 0.36)`,[i("--palette-background-level3")]:`rgba(${s(`palette-${t}-darkChannel`)} / 0.6)`,[i("--palette-text-primary")]:s("palette-common-white"),[i("--palette-text-secondary")]:s(`palette-${t}-200`),[i("--palette-text-tertiary")]:s(`palette-${t}-300`),[i("--palette-text-icon")]:s(`palette-${t}-200`),[i("--palette-divider")]:`rgba(${s(`palette-${t}-lightChannel`)} / 0.32)`,"--variant-plainColor":s(`palette-${t}-50`),"--variant-plainHoverColor":"#fff","--variant-plainHoverBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${s(`palette-${t}-lightChannel`)} / 0.72)`,"--variant-outlinedColor":s(`palette-${t}-50`),"--variant-outlinedBorder":`rgba(${s(`palette-${t}-lightChannel`)} / 0.5)`,"--variant-outlinedHoverColor":"#fff","--variant-outlinedHoverBorder":s(`palette-${t}-300`),"--variant-outlinedHoverBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${s(`palette-${t}-lightChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":"rgba(255 255 255 / 0.2)","--variant-softColor":s("palette-common-white"),"--variant-softHoverColor":s("palette-common-white"),"--variant-softBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.24)`,"--variant-softHoverBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.36)`,"--variant-softActiveBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.16)`,"--variant-softActiveColor":"#fff","--variant-softDisabledColor":`rgba(${s(`palette-${t}-lightChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.1)`,"--variant-solidColor":s(`palette-${t}-${t==="neutral"?"600":"500"}`),"--variant-solidBg":s("palette-common-white"),"--variant-solidHoverBg":s("palette-common-white"),"--variant-solidActiveBg":s(`palette-${t}-100`),"--variant-solidDisabledColor":`rgba(${s(`palette-${t}-lightChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.1)`}},[`&, & [${Tu}]`]:hE(r)}},Xp=t=>e=>{const{theme:r=e}=e,n=r_(r.cssVarPrefix),i=m_(r.cssVarPrefix),s=a=>{const u=a.split("-");return n(a,r.palette[u[1]][u[2]])};return{[dE]:{"--Badge-ringColor":s(`palette-${t}-softBg`),"--Icon-color":"currentColor",[r.getColorSchemeSelector("dark")]:{[i("--palette-focusVisible")]:s(`palette-${t}-300`),[i("--palette-background-body")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.1)`,[i("--palette-background-surface")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.08)`,[i("--palette-background-level1")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.2)`,[i("--palette-background-level2")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.4)`,[i("--palette-background-level3")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.6)`,[i("--palette-text-primary")]:s(`palette-${t}-100`),[i("--palette-text-secondary")]:`rgba(${s(`palette-${t}-lightChannel`)} / 0.72)`,[i("--palette-text-tertiary")]:`rgba(${s(`palette-${t}-lightChannel`)} / 0.6)`,[i("--palette-text-icon")]:`rgba(${s(`palette-${t}-lightChannel`)} / 0.6)`,[i("--palette-divider")]:`rgba(${s(`palette-${t}-lightChannel`)} / 0.2)`,"--variant-plainColor":`rgba(${s(`palette-${t}-lightChannel`)} / 1)`,"--variant-plainHoverColor":s(`palette-${t}-50`),"--variant-plainHoverBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.16)`,"--variant-plainActiveBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${s(`palette-${t}-mainChannel`)} / 0.72)`,"--variant-outlinedColor":`rgba(${s(`palette-${t}-lightChannel`)} / 1)`,"--variant-outlinedHoverColor":s(`palette-${t}-50`),"--variant-outlinedBg":"initial","--variant-outlinedBorder":`rgba(${s(`palette-${t}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverBorder":s(`palette-${t}-600`),"--variant-outlinedHoverBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.16)`,"--variant-outlinedActiveBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${s(`palette-${t}-mainChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":`rgba(${s(`palette-${t}-mainChannel`)} / 0.2)`,"--variant-softColor":s(`palette-${t}-200`),"--variant-softBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.24)`,"--variant-softHoverColor":"#fff","--variant-softHoverBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.32)`,"--variant-softActiveBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.48)`,"--variant-softDisabledColor":`rgba(${s(`palette-${t}-mainChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.12)`,"--variant-solidColor":"#fff","--variant-solidBg":s(`palette-${t}-500`),"--variant-solidHoverColor":"#fff","--variant-solidHoverBg":s(`palette-${t}-600`),"--variant-solidActiveBg":s(`palette-${t}-600`),"--variant-solidDisabledColor":`rgba(${s(`palette-${t}-mainChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.12)`},[r.getColorSchemeSelector("light")]:{[i("--palette-focusVisible")]:s(`palette-${t}-500`),[i("--palette-background-body")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.1)`,[i("--palette-background-surface")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.08)`,[i("--palette-background-level1")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.2)`,[i("--palette-background-level2")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.32)`,[i("--palette-background-level3")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.48)`,[i("--palette-text-primary")]:s(`palette-${t}-700`),[i("--palette-text-secondary")]:`rgba(${s(`palette-${t}-darkChannel`)} / 0.8)`,[i("--palette-text-tertiary")]:`rgba(${s(`palette-${t}-darkChannel`)} / 0.68)`,[i("--palette-text-icon")]:s(`palette-${t}-500`),[i("--palette-divider")]:`rgba(${s(`palette-${t}-mainChannel`)} / 0.32)`,"--variant-plainColor":`rgba(${s(`palette-${t}-darkChannel`)} / 0.8)`,"--variant-plainHoverColor":`rgba(${s(`palette-${t}-darkChannel`)} / 1)`,"--variant-plainHoverBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.24)`,"--variant-plainDisabledColor":`rgba(${s(`palette-${t}-mainChannel`)} / 0.6)`,"--variant-outlinedColor":`rgba(${s(`palette-${t}-mainChannel`)} / 1)`,"--variant-outlinedBorder":`rgba(${s(`palette-${t}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverColor":s(`palette-${t}-600`),"--variant-outlinedHoverBorder":s(`palette-${t}-300`),"--variant-outlinedHoverBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.24)`,"--variant-outlinedDisabledColor":`rgba(${s(`palette-${t}-mainChannel`)} / 0.6)`,"--variant-outlinedDisabledBorder":`rgba(${s(`palette-${t}-mainChannel`)} / 0.12)`,"--variant-softColor":s(`palette-${t}-600`),"--variant-softBg":`rgba(${s(`palette-${t}-lightChannel`)} / 0.8)`,"--variant-softHoverColor":s(`palette-${t}-700`),"--variant-softHoverBg":s(`palette-${t}-200`),"--variant-softActiveBg":s(`palette-${t}-300`),"--variant-softDisabledColor":`rgba(${s(`palette-${t}-mainChannel`)} / 0.6)`,"--variant-softDisabledBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.08)`,"--variant-solidColor":s("palette-common-white"),"--variant-solidBg":s(`palette-${t}-${t==="neutral"?"700":"500"}`),"--variant-solidHoverColor":s("palette-common-white"),"--variant-solidHoverBg":s(`palette-${t}-600`),"--variant-solidActiveBg":s(`palette-${t}-600`),"--variant-solidDisabledColor":`rgba(${s(`palette-${t}-mainChannel`)} / 0.6)`,"--variant-solidDisabledBg":`rgba(${s(`palette-${t}-mainChannel`)} / 0.08)`}},[`&, & [${Tu}]`]:hE(r)}};function F5(t){return It("MuiAlert",t)}Ct("MuiAlert",["root","startDecorator","endDecorator","colorPrimary","colorDanger","colorNeutral","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);const $5=["children","className","color","invertedColors","role","variant","size","startDecorator","endDecorator","component","slots","slotProps"],j5=t=>{const{variant:e,color:r,size:n}=t,i={root:["root",n&&`size${je(n)}`,r&&`color${je(r)}`,e&&`variant${je(e)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return _t(i,F5,{})},U5=Fe("div",{name:"JoyAlert",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r;const{p:n,padding:i,borderRadius:s}=Vd({theme:t,ownerState:e},["p","padding","borderRadius"]);return[z({"--Alert-radius":t.vars.radius.sm,"--Alert-decoratorChildRadius":"max((var(--Alert-radius) - var(--variant-borderWidth, 0px)) - var(--Alert-padding), min(var(--Alert-padding) + var(--variant-borderWidth, 0px), var(--Alert-radius) / 2))","--Button-minHeight":"var(--Alert-decoratorChildHeight)","--IconButton-size":"var(--Alert-decoratorChildHeight)","--Button-radius":"var(--Alert-decoratorChildRadius)","--IconButton-radius":"var(--Alert-decoratorChildRadius)","--Icon-color":"currentColor"},e.size==="sm"&&{"--Alert-padding":"0.5rem","--Alert-decoratorChildHeight":"1.5rem","--Icon-fontSize":t.vars.fontSize.xl,gap:"0.5rem"},e.size==="md"&&{"--Alert-padding":"0.75rem","--Alert-decoratorChildHeight":"2rem","--Icon-fontSize":t.vars.fontSize.xl,gap:"0.625rem"},e.size==="lg"&&{"--Alert-padding":"1rem","--Alert-decoratorChildHeight":"2.375rem","--Icon-fontSize":t.vars.fontSize.xl2,gap:"0.875rem"},{backgroundColor:t.vars.palette.background.surface,display:"flex",position:"relative",alignItems:"center",padding:"var(--Alert-padding)",borderRadius:"var(--Alert-radius)"},t.typography[`body-${{sm:"xs",md:"sm",lg:"md"}[e.size]}`],{fontWeight:t.vars.fontWeight.md},e.variant==="solid"&&e.color&&e.invertedColors&&Kp(e.color)(t),e.variant==="soft"&&e.color&&e.invertedColors&&Xp(e.color)(t),(r=t.variants[e.variant])==null?void 0:r[e.color]),n!==void 0&&{"--Alert-padding":n},i!==void 0&&{"--Alert-padding":i},s!==void 0&&{"--Alert-radius":s}]}),z5=Fe("span",{name:"JoyAlert",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({display:"inherit",flex:"none"}),H5=Fe("span",{name:"JoyAlert",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({display:"inherit",flex:"none",marginLeft:"auto"}),V5=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyAlert"}),{children:i,className:s,color:a="neutral",invertedColors:u=!1,role:c="alert",variant:h="soft",size:p="md",startDecorator:g,endDecorator:T,component:S,slots:E={},slotProps:v={}}=n,C=qe(n,$5),P=z({},n,{color:a,invertedColors:u,variant:h,size:p}),R=j5(P),D=z({},C,{component:S,slots:E,slotProps:v}),[U,A]=Je("root",{ref:r,className:ar(R.root,s),elementType:U5,externalForwardedProps:D,ownerState:P,additionalProps:{role:c}}),[B,$]=Je("startDecorator",{className:R.startDecorator,elementType:z5,externalForwardedProps:D,ownerState:P}),[W,O]=Je("endDecorator",{className:R.endDecorator,elementType:H5,externalForwardedProps:D,ownerState:P});return L.jsxs(U,z({},A,{children:[g&&L.jsx(B,z({},$,{children:g})),i,T&&L.jsx(W,z({},O,{children:T}))]}))});function q5(t){return It("MuiAspectRatio",t)}Ct("MuiAspectRatio",["root","content","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const W5=["children","ratio","minHeight","maxHeight","objectFit","color","variant","component","flex","slots","slotProps"],G5=t=>{const{variant:e,color:r}=t,n={root:["root"],content:["content",e&&`variant${je(e)}`,r&&`color${je(r)}`]};return _t(n,q5,{})},K5=Fe("div",{name:"JoyAspectRatio",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>{const r=typeof t.minHeight=="number"?`${t.minHeight}px`:t.minHeight,n=typeof t.maxHeight=="number"?`${t.maxHeight}px`:t.maxHeight;return{"--AspectRatio-paddingBottom":`clamp(var(--AspectRatio-minHeight), calc(100% / (${t.ratio})), var(--AspectRatio-maxHeight))`,"--AspectRatio-maxHeight":n||"9999px","--AspectRatio-minHeight":r||"0px","--Icon-color":t.color!=="neutral"||t.variant==="solid"?"currentColor":e.vars.palette.text.icon,borderRadius:"var(--AspectRatio-radius)",display:t.flex?"flex":"block",flex:t.flex?1:"initial",flexDirection:"column",margin:"var(--AspectRatio-margin)"}}),X5=Fe("div",{name:"JoyAspectRatio",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t,ownerState:e})=>{var r;return z({flex:1,position:"relative",borderRadius:"inherit",height:0,paddingBottom:"calc(var(--AspectRatio-paddingBottom) - 2 * var(--variant-borderWidth, 0px))",overflow:"hidden",transition:"inherit","& [data-first-child]":{display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",position:"absolute",width:"100%",height:"100%",objectFit:e.objectFit,margin:0,padding:0,"& > img":{width:"100%",height:"100%",objectFit:e.objectFit}}},t.typography["body-md"],(r=t.variants[e.variant])==null?void 0:r[e.color])}),fE=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyAspectRatio"}),{children:i,ratio:s="16 / 9",minHeight:a,maxHeight:u,objectFit:c="cover",color:h="neutral",variant:p="soft",component:g,flex:T=!1,slots:S={},slotProps:E={}}=n,v=qe(n,W5),C=z({},n,{flex:T,minHeight:a,maxHeight:u,objectFit:c,ratio:s,color:h,variant:p}),P=G5(C),R=z({},v,{component:g,slots:S,slotProps:E}),[D,U]=Je("root",{ref:r,className:P.root,elementType:K5,externalForwardedProps:R,ownerState:C}),[A,B]=Je("content",{className:P.content,elementType:X5,externalForwardedProps:R,ownerState:C});return L.jsx(D,z({},U,{children:L.jsx(A,z({},B,{children:N.Children.map(i,($,W)=>W===0&&N.isValidElement($)?N.cloneElement($,{"data-first-child":""}):$)}))}))}),Y5=N5(L.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),pE=N.createContext(void 0);function Q5(t,e){let r=e,n=t;return t==="outlined"&&(r="neutral",n="plain"),t==="plain"&&(r="neutral"),{variant:n,color:r}}function J5(t,e,r=!1){const n=N.useContext(pE),[i,s]=typeof n=="string"?n.split(":"):[],a=Q5(i||void 0,s||void 0);return a.variant=t||a.variant,a.color=e||(r?s:a.color),a}function Z5({children:t,color:e,variant:r}){return L.jsx(pE.Provider,{value:`${r||""}:${e||""}`,children:t})}function eM(t){return It("MuiIconButton",t)}const fS=Ct("MuiIconButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","loading","loadingIndicator"]),Yp=N.createContext({}),mE=N.createContext(void 0);function tM(t){return It("MuiCircularProgress",t)}Ct("MuiCircularProgress",["root","determinate","svg","track","progress","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);let rM=t=>t,pS;const nM=["color","backgroundColor"],iM=["children","className","color","size","variant","thickness","determinate","value","component","slots","slotProps"],sM=oR({"0%":{transform:"rotate(-90deg)"},"100%":{transform:"rotate(270deg)"}}),oM=t=>{const{determinate:e,color:r,variant:n,size:i}=t,s={root:["root",e&&"determinate",r&&`color${je(r)}`,n&&`variant${je(n)}`,i&&`size${je(i)}`],svg:["svg"],track:["track"],progress:["progress"]};return _t(s,tM,{})};function ql(t,e){return`var(--CircularProgress-${t}Thickness, var(--CircularProgress-thickness, ${e}))`}const aM=Fe("span",{name:"JoyCircularProgress",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>{var r,n,i,s;const a=((r=e.variants[t.variant])==null?void 0:r[t.color])||{},{color:u,backgroundColor:c}=a,h=qe(a,nM);return z({"--Icon-fontSize":"calc(0.4 * var(--_root-size))","--CircularProgress-trackColor":c,"--CircularProgress-progressColor":u,"--CircularProgress-percent":t.value,"--CircularProgress-linecap":"round"},t.size==="sm"&&{"--_root-size":"var(--CircularProgress-size, 24px)","--_track-thickness":ql("track","3px"),"--_progress-thickness":ql("progress","3px")},t.instanceSize==="sm"&&{"--CircularProgress-size":"24px"},t.size==="md"&&{"--_track-thickness":ql("track","6px"),"--_progress-thickness":ql("progress","6px"),"--_root-size":"var(--CircularProgress-size, 40px)"},t.instanceSize==="md"&&{"--CircularProgress-size":"40px"},t.size==="lg"&&{"--_track-thickness":ql("track","8px"),"--_progress-thickness":ql("progress","8px"),"--_root-size":"var(--CircularProgress-size, 64px)"},t.instanceSize==="lg"&&{"--CircularProgress-size":"64px"},t.thickness&&{"--_track-thickness":`${t.thickness}px`,"--_progress-thickness":`${t.thickness}px`},{"--_thickness-diff":"calc(var(--_track-thickness) - var(--_progress-thickness))","--_inner-size":"calc(var(--_root-size) - 2 * var(--variant-borderWidth, 0px))","--_outlined-inset":"max(var(--_track-thickness), var(--_progress-thickness))",width:"var(--_root-size)",height:"var(--_root-size)",borderRadius:"var(--_root-size)",margin:"var(--CircularProgress-margin)",boxSizing:"border-box",display:"inline-flex",justifyContent:"center",alignItems:"center",flexShrink:0,position:"relative",color:u},t.children&&{fontFamily:e.vars.fontFamily.body,fontWeight:e.vars.fontWeight.md,fontSize:"calc(0.2 * var(--_root-size))"},h,t.variant==="outlined"&&{"&::before":z({content:'""',display:"block",position:"absolute",borderRadius:"inherit",top:"var(--_outlined-inset)",left:"var(--_outlined-inset)",right:"var(--_outlined-inset)",bottom:"var(--_outlined-inset)"},h)},t.variant==="soft"&&{"--CircularProgress-trackColor":e.variants.soft.neutral.backgroundColor,"--CircularProgress-progressColor":(n=e.variants.solid)==null?void 0:n[t.color].backgroundColor},t.variant==="solid"&&{"--CircularProgress-trackColor":(i=e.variants.softHover)==null?void 0:i[t.color].backgroundColor,"--CircularProgress-progressColor":(s=e.variants.solid)==null?void 0:s[t.color].backgroundColor})}),lM=Fe("svg",{name:"JoyCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({width:"inherit",height:"inherit",display:"inherit",boxSizing:"inherit",position:"absolute",top:"calc(-1 * var(--variant-borderWidth, 0px))",left:"calc(-1 * var(--variant-borderWidth, 0px))"}),uM=Fe("circle",{name:"JoyCircularProgress",slot:"track",overridesResolver:(t,e)=>e.track})({cx:"50%",cy:"50%",r:"calc(var(--_inner-size) / 2 - var(--_track-thickness) / 2 + min(0px, var(--_thickness-diff) / 2))",fill:"transparent",strokeWidth:"var(--_track-thickness)",stroke:"var(--CircularProgress-trackColor)"}),cM=Fe("circle",{name:"JoyCircularProgress",slot:"progress",overridesResolver:(t,e)=>e.progress})({"--_progress-radius":"calc(var(--_inner-size) / 2 - var(--_progress-thickness) / 2 - max(0px, var(--_thickness-diff) / 2))","--_progress-length":"calc(2 * 3.1415926535 * var(--_progress-radius))",cx:"50%",cy:"50%",r:"var(--_progress-radius)",fill:"transparent",strokeWidth:"var(--_progress-thickness)",stroke:"var(--CircularProgress-progressColor)",strokeLinecap:"var(--CircularProgress-linecap, round)",strokeDasharray:"var(--_progress-length)",strokeDashoffset:"calc(var(--_progress-length) - var(--CircularProgress-percent) * var(--_progress-length) / 100)",transformOrigin:"center",transform:"rotate(-90deg)"},({ownerState:t})=>!t.determinate&&bC(pS||(pS=rM`
      animation: var(--CircularProgress-circulation, 0.8s linear 0s infinite normal none running)
        ${0};
    `),sM)),Qp=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyCircularProgress"}),{children:i,className:s,color:a="primary",size:u="md",variant:c="soft",thickness:h,determinate:p=!1,value:g=p?0:25,component:T,slots:S={},slotProps:E={}}=n,v=qe(n,iM),C=z({},n,{color:a,size:u,variant:c,thickness:h,value:g,determinate:p,instanceSize:e.size}),P=oM(C),R=z({},v,{component:T,slots:S,slotProps:E}),[D,U]=Je("root",{ref:r,className:ar(P.root,s),elementType:aM,externalForwardedProps:R,ownerState:C,additionalProps:z({role:"progressbar",style:{"--CircularProgress-percent":g}},g&&p&&{"aria-valuenow":Math.round(typeof g=="number"?g:Number(g||0))})}),[A,B]=Je("svg",{className:P.svg,elementType:lM,externalForwardedProps:R,ownerState:C}),[$,W]=Je("track",{className:P.track,elementType:uM,externalForwardedProps:R,ownerState:C}),[O,M]=Je("progress",{className:P.progress,elementType:cM,externalForwardedProps:R,ownerState:C});return L.jsxs(D,z({},U,{children:[L.jsxs(A,z({},B,{children:[L.jsx($,z({},W)),L.jsx(O,z({},M))]})),i]}))}),dM=["children","action","component","color","disabled","variant","loading","loadingIndicator","size","slots","slotProps"],hM=t=>{const{color:e,disabled:r,focusVisible:n,focusVisibleClassName:i,size:s,variant:a,loading:u}=t,c={root:["root",r&&"disabled",n&&"focusVisible",a&&`variant${je(a)}`,e&&`color${je(e)}`,s&&`size${je(s)}`,u&&"loading"],loadingIndicator:["loadingIndicator"]},h=_t(c,eM,{});return n&&i&&(h.root+=` ${i}`),h},gE=Fe("button")(({theme:t,ownerState:e})=>{var r,n,i,s;return[z({"--Icon-margin":"initial","--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":t.vars.palette.text.icon},e.instanceSize&&{"--IconButton-size":{sm:"2rem",md:"2.25rem",lg:"2.75rem"}[e.instanceSize]},e.size==="sm"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2rem) / 1.6)","--CircularProgress-size":"20px","--CircularProgress-thickness":"2px",minWidth:"var(--IconButton-size, 2rem)",minHeight:"var(--IconButton-size, 2rem)",fontSize:t.vars.fontSize.sm,paddingInline:"2px"},e.size==="md"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.25rem) / 1.5)","--CircularProgress-size":"20px","--CircularProgress-thickness":"2px",minWidth:"var(--IconButton-size, 2.25rem)",minHeight:"var(--IconButton-size, 2.25rem)",fontSize:t.vars.fontSize.md,paddingInline:"0.25rem"},e.size==="lg"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.75rem) / 1.571)","--CircularProgress-size":"28px","--CircularProgress-thickness":"4px",minWidth:"var(--IconButton-size, 2.75rem)",minHeight:"var(--IconButton-size, 2.75rem)",fontSize:t.vars.fontSize.lg,paddingInline:"0.375rem"},{WebkitTapHighlightColor:"transparent",paddingBlock:0,fontFamily:t.vars.fontFamily.body,fontWeight:t.vars.fontWeight.md,margin:"var(--IconButton-margin)",borderRadius:`var(--IconButton-radius, ${t.vars.radius.sm})`,border:"none",boxSizing:"border-box",backgroundColor:"transparent",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",[t.focus.selector]:z({"--Icon-color":"currentColor"},t.focus.default)}),z({},(r=t.variants[e.variant])==null?void 0:r[e.color],{"&:hover":{"@media (hover: hover)":z({"--Icon-color":"currentColor"},(n=t.variants[`${e.variant}Hover`])==null?void 0:n[e.color])},'&:active, &[aria-pressed="true"]':z({"--Icon-color":"currentColor"},(i=t.variants[`${e.variant}Active`])==null?void 0:i[e.color]),"&:disabled":(s=t.variants[`${e.variant}Disabled`])==null?void 0:s[e.color]})]}),fM=Fe(gE,{name:"JoyIconButton",slot:"Root",overridesResolver:(t,e)=>e.root})({}),pM=Fe("span",{name:"JoyIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t,ownerState:e})=>{var r,n;return z({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(r=t.variants[e.variant])==null||(r=r[e.color])==null?void 0:r.color},e.disabled&&{color:(n=t.variants[`${e.variant}Disabled`])==null||(n=n[e.color])==null?void 0:n.color})}),Bi=N.forwardRef(function(e,r){var n;const i=Et({props:e,name:"JoyIconButton"}),{children:s,action:a,component:u="button",color:c="neutral",disabled:h,variant:p="plain",loading:g=!1,loadingIndicator:T,size:S="md",slots:E={},slotProps:v={}}=i,C=qe(i,dM),P=N.useContext(Yp),R=N.useContext(mE),D=e.variant||P.variant||p,U=e.size||P.size||S,A=e.color||P.color||c,B=(n=e.loading||e.disabled)!=null?n:P.disabled||g||h,$=N.useRef(null),W=Lr($,r),{focusVisible:O,setFocusVisible:M,getRootProps:X}=$u(z({},i,{disabled:B,rootRef:W})),re=T??L.jsx(Qp,{color:A,thickness:{sm:2,md:3,lg:4}[U]||3});N.useImperativeHandle(a,()=>({focusVisible:()=>{var ce;M(!0),(ce=$.current)==null||ce.focus()}}),[M]);const Q=z({},i,{component:u,color:A,disabled:B,variant:D,loading:g,size:U,focusVisible:O,instanceSize:e.size}),ue=hM(Q),ae=ce=>{var Te;let Ce=i.onClick;if(typeof v.root=="function"?Ce=v.root(Q).onClick:v.root&&(Ce=v.root.onClick),(Te=Ce)==null||Te(ce),R){var Se;(Se=R.onClick)==null||Se.call(R,ce,i.value)}};let Z=i["aria-pressed"];typeof v.root=="function"?Z=v.root(Q)["aria-pressed"]:v.root&&(Z=v.root["aria-pressed"]),R!=null&&R.value&&(Array.isArray(R.value)?Z=R.value.indexOf(i.value)!==-1:Z=R.value===i.value);const K=z({},C,{component:u,slots:E,slotProps:v}),[J,ie]=Je("root",{ref:r,className:ue.root,elementType:fM,getSlotProps:X,externalForwardedProps:K,ownerState:Q,additionalProps:{onClick:ae,"aria-pressed":Z}}),[se,V]=Je("loadingIndicator",{className:ue.loadingIndicator,elementType:pM,externalForwardedProps:K,ownerState:Q});return L.jsx(J,z({},ie,{children:g?L.jsx(se,z({},V,{children:re})):s}))});Bi.muiName="IconButton";function mM(t){return It("MuiInput",t)}const vE=Ct("MuiInput",["root","input","formControl","focused","disabled","error","adornedStart","adornedEnd","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid","fullWidth","startDecorator","endDecorator"]),g_=N.createContext(void 0),gM=["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","disabledInProp","error","id","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","type","value"];function vM(t,e){var r;const n=N.useContext(g_),{"aria-describedby":i,"aria-label":s,"aria-labelledby":a,autoComplete:u,autoFocus:c,className:h,defaultValue:p,disabled:g,disabledInProp:T,error:S,id:E,name:v,onClick:C,onChange:P,onKeyDown:R,onKeyUp:D,onFocus:U,onBlur:A,placeholder:B,readOnly:$,required:W,type:O,value:M}=t,X=qe(t,gM),{getRootProps:re,getInputProps:Q,focused:ue,error:ae,disabled:Z}=l4({disabled:(r=T??(n==null?void 0:n.disabled))!=null?r:g,defaultValue:p,error:S,onBlur:A,onClick:C,onChange:P,onFocus:U,required:W??(n==null?void 0:n.required),value:M}),K={[e.disabled]:Z,[e.error]:ae,[e.focused]:ue,[e.formControl]:!!n,[h]:h},J={[e.disabled]:Z};return z({formControl:n,propsToForward:{"aria-describedby":i,"aria-label":s,"aria-labelledby":a,autoComplete:u,autoFocus:c,disabled:Z,id:E,onKeyDown:R,onKeyUp:D,name:v,placeholder:B,readOnly:$,type:O},rootStateClasses:K,inputStateClasses:J,getRootProps:re,getInputProps:Q,focused:ue,error:ae,disabled:Z},X)}const yM=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","formControl","focused","error","disabled","fullWidth","size","color","variant","startDecorator","endDecorator","component","slots","slotProps"],_M=t=>{const{disabled:e,fullWidth:r,variant:n,color:i,size:s}=t,a={root:["root",e&&"disabled",r&&"fullWidth",n&&`variant${je(n)}`,i&&`color${je(i)}`,s&&`size${je(s)}`],input:["input"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return _t(a,mM,{})},xM=Fe("div")(({theme:t,ownerState:e})=>{var r,n,i,s,a,u;const c=(r=t.variants[`${e.variant}`])==null?void 0:r[e.color];return[z({"--Input-radius":t.vars.radius.sm,"--Input-gap":"0.5rem","--Input-placeholderColor":"inherit","--Input-placeholderOpacity":.64,"--Input-decoratorColor":t.vars.palette.text.icon,"--Input-focused":"0","--Input-focusedThickness":t.vars.focus.thickness,"--Input-focusedHighlight":(n=t.vars.palette[e.color==="neutral"?"primary":e.color])==null?void 0:n[500],[`&:not([${Tu}])`]:z({},e.instanceColor&&{"--_Input-focusedHighlight":(i=t.vars.palette[e.instanceColor==="neutral"?"primary":e.instanceColor])==null?void 0:i[500]},{"--Input-focusedHighlight":`var(--_Input-focusedHighlight, ${t.vars.palette.focusVisible})`})},e.size==="sm"&&{"--Input-minHeight":"2rem","--Input-paddingInline":"0.5rem","--Input-decoratorChildHeight":"min(1.5rem, var(--Input-minHeight))","--Icon-fontSize":t.vars.fontSize.xl},e.size==="md"&&{"--Input-minHeight":"2.25rem","--Input-paddingInline":"0.75rem","--Input-decoratorChildHeight":"min(1.75rem, var(--Input-minHeight))","--Icon-fontSize":t.vars.fontSize.xl2},e.size==="lg"&&{"--Input-minHeight":"2.75rem","--Input-paddingInline":"1rem","--Input-gap":"0.75rem","--Input-decoratorChildHeight":"min(2.25rem, var(--Input-minHeight))","--Icon-fontSize":t.vars.fontSize.xl2},{"--Input-decoratorChildOffset":"min(calc(var(--Input-paddingInline) - (var(--Input-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Input-decoratorChildHeight)) / 2), var(--Input-paddingInline))","--_Input-paddingBlock":"max((var(--Input-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Input-decoratorChildHeight)) / 2, 0px)","--Input-decoratorChildRadius":"max(var(--Input-radius) - var(--variant-borderWidth, 0px) - var(--_Input-paddingBlock), min(var(--_Input-paddingBlock) + var(--variant-borderWidth, 0px), var(--Input-radius) / 2))","--Button-minHeight":"var(--Input-decoratorChildHeight)","--Button-paddingBlock":"0px","--IconButton-size":"var(--Input-decoratorChildHeight)","--Button-radius":"var(--Input-decoratorChildRadius)","--IconButton-radius":"var(--Input-decoratorChildRadius)",boxSizing:"border-box"},e.variant!=="plain"&&{boxShadow:t.shadow.xs},{minWidth:0,minHeight:"var(--Input-minHeight)"},e.fullWidth&&{width:"100%"},{cursor:"text",position:"relative",display:"flex",paddingInline:"var(--Input-paddingInline)",borderRadius:"var(--Input-radius)"},t.typography[`body-${e.size}`],c,{backgroundColor:(s=c==null?void 0:c.backgroundColor)!=null?s:t.vars.palette.background.surface,"&::before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)",boxShadow:"var(--Input-focusedInset, inset) 0 0 0 calc(var(--Input-focused) * var(--Input-focusedThickness)) var(--Input-focusedHighlight)"}}),{"&:hover":z({},(a=t.variants[`${e.variant}Hover`])==null?void 0:a[e.color],{backgroundColor:null}),[`&.${vE.disabled}`]:(u=t.variants[`${e.variant}Disabled`])==null?void 0:u[e.color],"&:focus-within::before":{"--Input-focused":"1"}}]}),bM=Fe("input")(({ownerState:t})=>({border:"none",minWidth:0,outline:0,padding:0,flex:1,color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit",textOverflow:"ellipsis","&:-webkit-autofill":z({paddingInline:"var(--Input-paddingInline)"},!t.startDecorator&&{marginInlineStart:"calc(-1 * var(--Input-paddingInline))",paddingInlineStart:"var(--Input-paddingInline)",borderTopLeftRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))",borderBottomLeftRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))"},!t.endDecorator&&{marginInlineEnd:"calc(-1 * var(--Input-paddingInline))",paddingInlineEnd:"var(--Input-paddingInline)",borderTopRightRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))",borderBottomRightRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))"}),"&::-webkit-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"}})),SM=Fe("div")({"--Button-margin":"0 0 0 calc(var(--Input-decoratorChildOffset) * -1)","--IconButton-margin":"0 0 0 calc(var(--Input-decoratorChildOffset) * -1)","--Icon-margin":"0 0 0 calc(var(--Input-paddingInline) / -4)",display:"inherit",alignItems:"center",paddingBlock:"var(--unstable_InputPaddingBlock)",flexWrap:"wrap",marginInlineEnd:"var(--Input-gap)",color:"var(--Input-decoratorColor)",cursor:"initial"}),TM=Fe("div")({"--Button-margin":"0 calc(var(--Input-decoratorChildOffset) * -1) 0 0","--IconButton-margin":"0 calc(var(--Input-decoratorChildOffset) * -1) 0 0","--Icon-margin":"0 calc(var(--Input-paddingInline) / -4) 0 0",display:"inherit",alignItems:"center",marginInlineStart:"var(--Input-gap)",color:"var(--Input-decoratorColor)",cursor:"initial"}),CM=Fe(xM,{name:"JoyInput",slot:"Root",overridesResolver:(t,e)=>e.root})({}),EM=Fe(bM,{name:"JoyInput",slot:"Input",overridesResolver:(t,e)=>e.input})({}),wM=Fe(SM,{name:"JoyInput",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({}),kM=Fe(TM,{name:"JoyInput",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({}),Bf=N.forwardRef(function(e,r){var n,i,s,a,u,c;const h=Et({props:e,name:"JoyInput"}),p=vM(z({},h,{disabledInProp:e.disabled}),vE),{propsToForward:g,rootStateClasses:T,inputStateClasses:S,getRootProps:E,getInputProps:v,formControl:C,focused:P,error:R=!1,disabled:D,fullWidth:U=!1,size:A="md",color:B="neutral",variant:$="outlined",startDecorator:W,endDecorator:O,component:M,slots:X={},slotProps:re={}}=p,Q=qe(p,yM),ue=(n=(i=e.error)!=null?i:C==null?void 0:C.error)!=null?n:R,ae=(s=(a=e.size)!=null?a:C==null?void 0:C.size)!=null?s:A,Z=(u=e.color)!=null?u:ue?"danger":(c=C==null?void 0:C.color)!=null?c:B,K=z({instanceColor:ue?"danger":e.color},h,{fullWidth:U,color:Z,disabled:D,error:ue,focused:P,size:ae,variant:$}),J=_M(K),ie=z({},Q,{component:M,slots:X,slotProps:re}),[se,V]=Je("root",{ref:r,className:[J.root,T],elementType:CM,getSlotProps:E,externalForwardedProps:ie,ownerState:K}),[ce,Te]=Je("input",z({},C&&{additionalProps:{id:C.htmlFor,"aria-describedby":C["aria-describedby"]}},{className:[J.input,S],elementType:EM,getSlotProps:v,internalForwardedProps:g,externalForwardedProps:ie,ownerState:K})),[Ce,Se]=Je("startDecorator",{className:J.startDecorator,elementType:wM,externalForwardedProps:ie,ownerState:K}),[Ne,Ee]=Je("endDecorator",{className:J.endDecorator,elementType:kM,externalForwardedProps:ie,ownerState:K});return L.jsxs(se,z({},V,{children:[W&&L.jsx(Ce,z({},Se,{children:W})),L.jsx(ce,z({},Te)),O&&L.jsx(Ne,z({},Ee,{children:O}))]}))});function DM(t){return It("MuiListSubheader",t)}Ct("MuiListSubheader",["root","sticky","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]);const AM=["component","className","children","id","sticky","variant","color","slots","slotProps"],IM=t=>{const{variant:e,color:r,sticky:n}=t,i={root:["root",n&&"sticky",r&&`color${je(r)}`,e&&`variant${je(e)}`]};return _t(i,DM,{})},PM=Fe("div",{name:"JoyListSubheader",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,n;return z({boxSizing:"border-box",display:"flex",alignItems:"center",marginInline:"var(--ListItem-marginInline)",paddingBlock:"var(--ListItem-paddingY)",paddingInlineStart:"var(--ListItem-paddingLeft)",paddingInlineEnd:"var(--ListItem-paddingRight)",minBlockSize:"var(--ListItem-minHeight)"},t.typography["body-xs"],{fontSize:"max(0.75em, 0.625rem)",textTransform:"uppercase",letterSpacing:"0.1em"},e.sticky&&{position:"sticky",top:"var(--ListItem-stickyTop, 0px)",zIndex:1,background:"var(--ListItem-stickyBackground)"},{color:e.color?`var(--_Link-color, rgba(${(r=t.vars.palette[e.color])==null?void 0:r.mainChannel} / 1))`:t.vars.palette.text.tertiary},e.instanceColor&&{[`&:not([${Tu}])`]:{"--_Link-color":t.vars.palette.text.secondary}},(n=t.variants[e.variant])==null?void 0:n[e.color])}),RM=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyListSubheader"}),{component:i,className:s,children:a,id:u,sticky:c=!1,variant:h,color:p,slots:g={},slotProps:T={}}=n,S=qe(n,AM),E=Bu(u),v=N.useContext(aE);N.useEffect(()=>{v&&v(E||"")},[v,E]);const C=z({instanceColor:e.color},n,{id:E,sticky:c,variant:h,color:h?p??"neutral":p}),P=IM(C),R=z({},S,{component:i,slots:g,slotProps:T}),[D,U]=Je("root",{ref:r,className:ar(P.root,s),elementType:PM,externalForwardedProps:R,ownerState:C,additionalProps:{as:i,id:E}});return L.jsx(D,z({},U,{children:a}))}),OM=Ky("MuiBox",["root"]),Or=hO({themeId:Od,defaultTheme:Fu,defaultClassName:OM.root,generateClassName:Gy.generate});function LM(t){return It("MuiTypography",t)}Ct("MuiTypography",["root","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","noWrap","gutterBottom","startDecorator","endDecorator","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const MM=["color","textColor"],NM=["component","gutterBottom","noWrap","level","levelMapping","children","endDecorator","startDecorator","variant","slots","slotProps"],rp=N.createContext(!1),yE=N.createContext(!1),BM=t=>{const{gutterBottom:e,noWrap:r,level:n,color:i,variant:s}=t,a={root:["root",n,e&&"gutterBottom",r&&"noWrap",i&&`color${je(i)}`,s&&`variant${je(s)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return _t(a,LM,{})},FM=Fe("span",{name:"JoyTypography",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"}),$M=Fe("span",{name:"JoyTypography",slot:"endDecorator",overridesResolver:(t,e)=>e.endDecorator})({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"}),jM=Fe("span",{name:"JoyTypography",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,n,i,s,a;const u=e.level!=="inherit"?(r=t.typography[e.level])==null?void 0:r.lineHeight:"1";return z({"--Icon-fontSize":`calc(1em * ${u})`},e.color&&{"--Icon-color":"currentColor"},{margin:"var(--Typography-margin, 0px)"},e.nesting?{display:"inline"}:z({display:"block"},e.unstable_hasSkeleton&&{position:"relative"}),(e.startDecorator||e.endDecorator)&&z({display:"flex",alignItems:"center"},e.nesting&&z({display:"inline-flex"},e.startDecorator&&{verticalAlign:"bottom"})),e.level&&e.level!=="inherit"&&t.typography[e.level],{fontSize:`var(--Typography-fontSize, ${e.level&&e.level!=="inherit"&&(n=(i=t.typography[e.level])==null?void 0:i.fontSize)!=null?n:"inherit"})`},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.color&&{color:`var(--variant-plainColor, rgba(${(s=t.vars.palette[e.color])==null?void 0:s.mainChannel} / 1))`},e.variant&&z({borderRadius:t.vars.radius.xs,paddingBlock:"min(0.1em, 4px)",paddingInline:"0.25em"},!e.nesting&&{marginInline:"-0.25em"},(a=t.variants[e.variant])==null?void 0:a[e.color]))}),mS={h1:"h1",h2:"h2",h3:"h3",h4:"h4","title-lg":"p","title-md":"p","title-sm":"p","body-lg":"p","body-md":"p","body-sm":"p","body-xs":"span",inherit:"p"},nt=N.forwardRef(function(e,r){var n;const i=Et({props:e,name:"JoyTypography"}),{color:s,textColor:a}=i,u=qe(i,MM),c=N.useContext(rp),h=N.useContext(yE),p=jp(z({},u,{color:a})),{component:g,gutterBottom:T=!1,noWrap:S=!1,level:E="body-md",levelMapping:v=mS,children:C,endDecorator:P,startDecorator:R,variant:D,slots:U={},slotProps:A={}}=p,B=qe(p,NM),$=(n=e.color)!=null?n:D?s??"neutral":s,W=c||h?e.level||"inherit":E,O=Wa(C,["Skeleton"]),M=g||(c?"span":v[W]||mS[W]||"span"),X=z({},p,{level:W,component:M,color:$,gutterBottom:T,noWrap:S,nesting:c,variant:D,unstable_hasSkeleton:O}),re=BM(X),Q=z({},B,{component:M,slots:U,slotProps:A}),[ue,ae]=Je("root",{ref:r,className:re.root,elementType:jM,externalForwardedProps:Q,ownerState:X}),[Z,K]=Je("startDecorator",{className:re.startDecorator,elementType:FM,externalForwardedProps:Q,ownerState:X}),[J,ie]=Je("endDecorator",{className:re.endDecorator,elementType:$M,externalForwardedProps:Q,ownerState:X});return L.jsx(rp.Provider,{value:!0,children:L.jsxs(ue,z({},ae,{children:[R&&L.jsx(Z,z({},K,{children:R})),O?N.cloneElement(C,{variant:C.props.variant||"inline"}):C,P&&L.jsx(J,z({},ie,{children:P}))]}))})});nt.muiName="Typography";function UM(t){return It("MuiButton",t)}const np=Ct("MuiButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]),zM=["children","action","color","variant","size","fullWidth","startDecorator","endDecorator","loading","loadingPosition","loadingIndicator","disabled","component","slots","slotProps"],HM=t=>{const{color:e,disabled:r,focusVisible:n,focusVisibleClassName:i,fullWidth:s,size:a,variant:u,loading:c}=t,h={root:["root",r&&"disabled",n&&"focusVisible",s&&"fullWidth",u&&`variant${je(u)}`,e&&`color${je(e)}`,a&&`size${je(a)}`,c&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]},p=_t(h,UM,{});return n&&i&&(p.root+=` ${i}`),p},VM=Fe("span",{name:"JoyButton",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),qM=Fe("span",{name:"JoyButton",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),WM=Fe("span",{name:"JoyButton",slot:"LoadingCenter",overridesResolver:(t,e)=>e.loadingIndicatorCenter})(({theme:t,ownerState:e})=>{var r,n;return z({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(r=t.variants[e.variant])==null||(r=r[e.color])==null?void 0:r.color},e.disabled&&{color:(n=t.variants[`${e.variant}Disabled`])==null||(n=n[e.color])==null?void 0:n.color})}),_E=({theme:t,ownerState:e})=>{var r,n,i,s;return[z({"--Icon-margin":"initial","--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":t.vars.palette.text.icon},e.size==="sm"&&{"--Icon-fontSize":t.vars.fontSize.lg,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.375rem",minHeight:"var(--Button-minHeight, 2rem)",fontSize:t.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.25rem)",paddingInline:"0.75rem"},e.size==="md"&&{"--Icon-fontSize":t.vars.fontSize.xl,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.5rem",minHeight:"var(--Button-minHeight, 2.25rem)",fontSize:t.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.375rem)",paddingInline:"1rem"},e.size==="lg"&&{"--Icon-fontSize":t.vars.fontSize.xl2,"--CircularProgress-size":"28px","--CircularProgress-thickness":"4px","--Button-gap":"0.75rem",minHeight:"var(--Button-minHeight, 2.75rem)",fontSize:t.vars.fontSize.md,paddingBlock:"var(--Button-paddingBlock, 0.5rem)",paddingInline:"1.5rem"},{WebkitTapHighlightColor:"transparent",boxSizing:"border-box",borderRadius:`var(--Button-radius, ${t.vars.radius.sm})`,margin:"var(--Button-margin)",border:"none",backgroundColor:"transparent",cursor:"pointer",userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",textDecoration:"none",fontFamily:t.vars.fontFamily.body,fontWeight:t.vars.fontWeight.lg,lineHeight:t.vars.lineHeight.md},e.fullWidth&&{width:"100%"},{[t.focus.selector]:t.focus.default}),z({},(r=t.variants[e.variant])==null?void 0:r[e.color],{"&:hover":{"@media (hover: hover)":(n=t.variants[`${e.variant}Hover`])==null?void 0:n[e.color]},'&:active, &[aria-pressed="true"]':(i=t.variants[`${e.variant}Active`])==null?void 0:i[e.color],[`&.${np.disabled}`]:(s=t.variants[`${e.variant}Disabled`])==null?void 0:s[e.color]},e.loadingPosition==="center"&&{[`&.${np.loading}`]:{color:"transparent"}})]},GM=Fe("button",{name:"JoyButton",slot:"Root",overridesResolver:(t,e)=>e.root})(_E),Mi=N.forwardRef(function(e,r){var n;const i=Et({props:e,name:"JoyButton"}),{children:s,action:a,color:u="primary",variant:c="solid",size:h="md",fullWidth:p=!1,startDecorator:g,endDecorator:T,loading:S=!1,loadingPosition:E="center",loadingIndicator:v,disabled:C,component:P,slots:R={},slotProps:D={}}=i,U=qe(i,zM),A=N.useContext(Yp),B=N.useContext(mE),$=e.variant||A.variant||c,W=e.size||A.size||h,O=e.color||A.color||u,M=(n=e.loading||e.disabled)!=null?n:A.disabled||S||C,X=N.useRef(null),re=Lr(X,r),{focusVisible:Q,setFocusVisible:ue,getRootProps:ae}=$u(z({},i,{disabled:M,rootRef:re})),Z=v??L.jsx(Qp,{color:O,thickness:{sm:2,md:3,lg:4}[W]||3});N.useImperativeHandle(a,()=>({focusVisible:()=>{var Le;ue(!0),(Le=X.current)==null||Le.focus()}}),[ue]);const K=z({},i,{color:O,fullWidth:p,variant:$,size:W,focusVisible:Q,loading:S,loadingPosition:E,disabled:M}),J=HM(K),ie=Le=>{var ze;let lt=i.onClick;if(typeof D.root=="function"?lt=D.root(K).onClick:D.root&&(lt=D.root.onClick),(ze=lt)==null||ze(Le),B){var Yt;(Yt=B.onClick)==null||Yt.call(B,Le,i.value)}};let se=i["aria-pressed"];typeof D.root=="function"?se=D.root(K)["aria-pressed"]:D.root&&(se=D.root["aria-pressed"]),B!=null&&B.value&&(Array.isArray(B.value)?se=B.value.indexOf(i.value)!==-1:se=B.value===i.value);const V=z({},U,{component:P,slots:R,slotProps:D}),[ce,Te]=Je("root",{ref:r,className:J.root,elementType:GM,externalForwardedProps:V,getSlotProps:ae,ownerState:K,additionalProps:{onClick:ie,"aria-pressed":se}}),[Ce,Se]=Je("startDecorator",{className:J.startDecorator,elementType:VM,externalForwardedProps:V,ownerState:K}),[Ne,Ee]=Je("endDecorator",{className:J.endDecorator,elementType:qM,externalForwardedProps:V,ownerState:K}),[ve,Ae]=Je("loadingIndicatorCenter",{className:J.loadingIndicatorCenter,elementType:WM,externalForwardedProps:V,ownerState:K});return L.jsxs(ce,z({},Te,{children:[(g||S&&E==="start")&&L.jsx(Ce,z({},Se,{children:S&&E==="start"?Z:g})),s,S&&E==="center"&&L.jsx(ve,z({},Ae,{children:Z})),(T||S&&E==="end")&&L.jsx(Ne,z({},Ee,{children:S&&E==="end"?Z:T}))]}))});Mi.muiName="Button";function KM(t){return It("MuiButtonGroup",t)}Ct("MuiButtonGroup",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","horizontal","vertical"]);const XM=["buttonFlex","className","component","disabled","size","color","variant","children","orientation","slots","slotProps","spacing"],YM=t=>{const{size:e,variant:r,color:n,orientation:i}=t,s={root:["root",i,r&&`variant${je(r)}`,n&&`color${je(n)}`,e&&`size${je(e)}`]};return _t(s,KM,{})},QM=Fe("div")(({theme:t,ownerState:e})=>{var r,n,i;const{borderRadius:s}=Vd({theme:t,ownerState:e},["borderRadius"]),a=e.orientation==="vertical"?"var(--ButtonGroup-radius) var(--ButtonGroup-radius) var(--unstable_childRadius) var(--unstable_childRadius)":"var(--ButtonGroup-radius) var(--unstable_childRadius) var(--unstable_childRadius) var(--ButtonGroup-radius)",u=e.orientation==="vertical"?"var(--unstable_childRadius) var(--unstable_childRadius) var(--ButtonGroup-radius) var(--ButtonGroup-radius)":"var(--unstable_childRadius) var(--ButtonGroup-radius) var(--ButtonGroup-radius) var(--unstable_childRadius)",c=e.orientation==="vertical"?"calc(var(--ButtonGroup-separatorSize) * -1) 0 0 0":"0 0 0 calc(var(--ButtonGroup-separatorSize) * -1)",h={};Ga(t.breakpoints,e.spacing,(S,E)=>{if(E!==null){var v;S(h,{"--ButtonGroup-connected":E.toString().match(/^0(?!\.)/)?"1":"0",gap:typeof E=="string"?E:(v=t.spacing)==null?void 0:v.call(t,E)})}});const p=(r=t.variants.outlined)==null?void 0:r[e.color],g=(n=t.variants.outlinedDisabled)==null?void 0:n[e.color],T=(i=t.variants.outlinedHover)==null?void 0:i[e.color];return[z({"--ButtonGroup-separatorSize":e.variant==="outlined"?"1px":"calc(var(--ButtonGroup-connected) * 1px)","--ButtonGroup-separatorColor":p==null?void 0:p.borderColor,"--ButtonGroup-radius":t.vars.radius.sm,"--Divider-inset":"0.5rem","--unstable_childRadius":"calc((1 - var(--ButtonGroup-connected)) * var(--ButtonGroup-radius) - var(--variant-borderWidth, 0px))"},h,{display:"flex",borderRadius:"var(--ButtonGroup-radius)",flexDirection:e.orientation==="vertical"?"column":"row","& > [data-first-child]":z({"--Button-radius":a,"--IconButton-radius":a},e.orientation==="horizontal"&&{borderRight:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"},e.orientation==="vertical"&&{borderBottom:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"}),"& > :not([data-first-child]):not([data-last-child]):not(:only-child)":z({"--Button-radius":"var(--unstable_childRadius)","--IconButton-radius":"var(--unstable_childRadius)",borderRadius:"var(--unstable_childRadius)"},e.orientation==="horizontal"&&{borderLeft:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)",borderRight:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"},e.orientation==="vertical"&&{borderTop:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)",borderBottom:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"}),"& > [data-last-child]":z({"--Button-radius":u,"--IconButton-radius":u},e.orientation==="horizontal"&&{borderLeft:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"},e.orientation==="vertical"&&{borderTop:"var(--ButtonGroup-separatorSize) solid var(--ButtonGroup-separatorColor)"}),"& > :only-child":{"--Button-radius":"var(--ButtonGroup-radius)","--IconButton-radius":"var(--ButtonGroup-radius)"},"& > :not([data-first-child]):not(:only-child)":{"--Button-margin":c,"--IconButton-margin":c},[`& .${np.root}, & .${fS.root}`]:z({"&:not(:disabled)":{zIndex:1},"&:disabled":{"--ButtonGroup-separatorColor":g==null?void 0:g.borderColor}},e.variant==="outlined"&&{"&:hover":{"--ButtonGroup-separatorColor":T==null?void 0:T.borderColor}},{[`&:hover, ${t.focus.selector}`]:{zIndex:2}})},e.buttonFlex&&{[`& > *:not(.${fS.root})`]:{flex:e.buttonFlex},[`& > :not(button) > .${np.root}`]:{width:"100%"}}),s!==void 0&&{"--ButtonGroup-radius":s}]}),JM=Fe(QM,{name:"JoyButtonGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({}),v_=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyButtonGroup"}),{buttonFlex:i,className:s,component:a="div",disabled:u=!1,size:c="md",color:h="neutral",variant:p="outlined",children:g,orientation:T="horizontal",slots:S={},slotProps:E={},spacing:v=0}=n,C=qe(n,XM),P=z({},n,{buttonFlex:i,color:h,component:a,orientation:T,spacing:v,size:c,variant:p}),R=YM(P),D=z({},C,{component:a,slots:S,slotProps:E}),[U,A]=Je("root",{ref:r,className:ar(R.root,s),elementType:JM,externalForwardedProps:D,additionalProps:{role:"group"},ownerState:P}),B=N.useMemo(()=>({variant:p,color:h,size:c,disabled:u}),[p,h,c,u]);return L.jsx(U,z({},A,{children:L.jsx(Yp.Provider,{value:B,children:N.Children.map(g,($,W)=>{if(!N.isValidElement($))return $;const O={};if(Wa($,["Divider"])){O.inset="inset"in $.props?$.props.inset:"context";const M=T==="vertical"?"horizontal":"vertical";O.orientation="orientation"in $.props?$.props.orientation:M,O.role="presentation",O.component="span"}return N.Children.count(g)>1&&(W===0&&(O["data-first-child"]=""),W===N.Children.count(g)-1&&(O["data-last-child"]="")),N.cloneElement($,O)})})}))});function ZM(t){return It("MuiCard",t)}Ct("MuiCard",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","horizontal","vertical"]);const eN=["className","color","component","invertedColors","size","variant","children","orientation","slots","slotProps"],tN=t=>{const{size:e,variant:r,color:n,orientation:i}=t,s={root:["root",i,r&&`variant${je(r)}`,n&&`color${je(n)}`,e&&`size${je(e)}`]};return _t(s,ZM,{})},rN=Fe("div")(({theme:t,ownerState:e})=>{var r;const{p:n,padding:i,borderRadius:s}=Vd({theme:t,ownerState:e},["p","padding","borderRadius"]);return[z({"--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":t.vars.palette.text.icon,"--Card-childRadius":"max((var(--Card-radius) - var(--variant-borderWidth, 0px)) - var(--Card-padding), min(var(--Card-padding) / 2, (var(--Card-radius) - var(--variant-borderWidth, 0px)) / 2))","--AspectRatio-radius":"var(--Card-childRadius)","--unstable_actionMargin":"calc(-1 * var(--variant-borderWidth, 0px))","--unstable_actionRadius":"var(--Card-radius)","--CardCover-radius":"calc(var(--Card-radius) - var(--variant-borderWidth, 0px))","--CardOverflow-offset":"calc(-1 * var(--Card-padding))","--CardOverflow-radius":"calc(var(--Card-radius) - var(--variant-borderWidth, 0px))","--Divider-inset":"calc(-1 * var(--Card-padding))"},e.size==="sm"&&{"--Card-radius":t.vars.radius.sm,"--Card-padding":"0.625rem",gap:"0.5rem"},e.size==="md"&&{"--Card-radius":t.vars.radius.md,"--Card-padding":"1rem",gap:"0.75rem 1rem"},e.size==="lg"&&{"--Card-radius":t.vars.radius.lg,"--Card-padding":"1.5rem",gap:"1rem 1.5rem"},{padding:"var(--Card-padding)",borderRadius:"var(--Card-radius)",backgroundColor:t.vars.palette.background.surface,position:"relative",display:"flex",flexDirection:e.orientation==="horizontal"?"row":"column"},t.typography[`body-${e.size}`],e.variant==="solid"&&e.color&&e.invertedColors&&Kp(e.color)(t),e.variant==="soft"&&e.color&&e.invertedColors&&Xp(e.color)(t),(r=t.variants[e.variant])==null?void 0:r[e.color]),n!==void 0&&{"--Card-padding":n},i!==void 0&&{"--Card-padding":i},s!==void 0&&{"--Card-radius":s}]}),nN=Fe(rN,{name:"JoyCard",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Jp=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyCard"}),{className:i,color:s="neutral",component:a="div",invertedColors:u=!1,size:c="md",variant:h="outlined",children:p,orientation:g="vertical",slots:T={},slotProps:S={}}=n,E=qe(n,eN),v=z({},n,{color:s,component:a,orientation:g,size:c,variant:h,invertedColors:u}),C=tN(v),P=z({},E,{component:a,slots:T,slotProps:S}),[R,D]=Je("root",{ref:r,className:ar(C.root,i),elementType:nN,externalForwardedProps:P,ownerState:v});return L.jsx(R,z({},D,{children:N.Children.map(p,(U,A)=>{if(!N.isValidElement(U))return U;const B={};if(Wa(U,["Divider"])){B.inset="inset"in U.props?U.props.inset:"context";const $=g==="vertical"?"horizontal":"vertical";B.orientation="orientation"in U.props?U.props.orientation:$}return A===0&&(B["data-first-child"]=""),A===N.Children.count(p)-1&&(B["data-last-child"]=""),N.cloneElement(U,B)})}))}),iN=Ct("MuiCardOverflow",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);function sN(t){return It("MuiCardContent",t)}Ct("MuiCardContent",["root"]);const oN=["className","component","children","orientation","slots","slotProps"],aN=()=>_t({root:["root"]},sN,{}),lN=Fe("div")(({ownerState:t})=>({display:"flex",flexDirection:t.orientation==="horizontal"?"row":"column",flex:9999,zIndex:1,columnGap:"var(--Card-padding)",rowGap:"max(2px, calc(0.1875 * var(--Card-padding)))",padding:"var(--unstable_padding)",[`.${iN.root} > &`]:{"--unstable_padding":"calc(var(--Card-padding) * 0.75) 0px"}})),uN=Fe(lN,{name:"JoyCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Zp=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyCardContent"}),{className:i,component:s="div",children:a,orientation:u="vertical",slots:c={},slotProps:h={}}=n,p=qe(n,oN),g=z({},p,{component:s,slots:c,slotProps:h}),T=z({},n,{component:s,orientation:u}),S=aN(),[E,v]=Je("root",{ref:r,className:ar(S.root,i),elementType:uN,externalForwardedProps:g,ownerState:T});return L.jsx(E,z({},v,{children:a}))});function cN(t){return It("MuiCardCover",t)}Ct("MuiCardCover",["root"]);const dN=["className","component","children","slots","slotProps"],hN=()=>_t({root:["root"]},cN,{}),fN=Fe("div",{name:"JoyCardCover",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"absolute",zIndex:0,top:0,left:0,right:0,bottom:0,borderRadius:"var(--CardCover-radius)","& [data-first-child]":{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",objectFit:"cover",boxSizing:"border-box",borderRadius:"var(--CardCover-radius)",margin:0,padding:0,"& > img":{width:"100%",height:"100%",objectFit:"cover"}}}),ip=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyCardCover"}),{className:i,component:s="div",children:a,slots:u={},slotProps:c={}}=n,h=qe(n,dN),p=z({},n,{component:s}),g=hN(),T=z({},h,{component:s,slots:u,slotProps:c}),[S,E]=Je("root",{ref:r,className:ar(g.root,i),elementType:fN,externalForwardedProps:T,ownerState:p});return L.jsx(S,z({},E,{children:N.Children.map(a,(v,C)=>C===0&&N.isValidElement(v)?N.cloneElement(v,{"data-first-child":""}):v)}))}),sp=h3({createStyledComponent:Fe("div",{name:"JoyContainer",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Et({props:t,name:"JoyContainer"})});function pN(t){const{children:e,disableColorScheme:r=!1}=t;return L.jsxs(N.Fragment,{children:[L.jsx(F3,{styles:n=>{var i,s;const a={};r||Object.entries(n.colorSchemes).forEach(([c,h])=>{var p;a[n.getColorSchemeSelector(c).replace(/\s*&/,"")]={colorScheme:(p=h.palette)==null?void 0:p.mode}});const u=(i=(s=n.components)==null||(s=s.JoyTypography)==null||(s=s.defaultProps)==null?void 0:s.level)!=null?i:"body-md";return z({html:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.vars.fontWeight.lg},body:z({margin:0,color:n.vars.palette.text.primary,fontFamily:n.vars.fontFamily.body},n.typography[u],{backgroundColor:n.vars.palette.background.body,"@media print":{backgroundColor:n.vars.palette.common.white},"&::backdrop":{backgroundColor:n.vars.palette.background.backdrop}})},a)},defaultTheme:Fu}),e]})}const mN=N.createContext(void 0),gN=N.createContext(void 0);function vN(t){return It("MuiModal",t)}Ct("MuiModal",["root","hidden","backdrop"]);const xE=N.createContext(void 0),yN=["children","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onKeyDown","open","component","slots","slotProps"],_N=t=>{const{open:e}=t;return _t({root:["root",!e&&"hidden"],backdrop:["backdrop"]},vN,{})},xN=Fe("div")(({ownerState:t,theme:e})=>z({"--unstable_popup-zIndex":`calc(${e.vars.zIndex.modal} + 1)`,'& ~ [role="listbox"]':{"--unstable_popup-zIndex":`calc(${e.vars.zIndex.modal} + 1)`},position:"fixed",zIndex:e.vars.zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&{visibility:"hidden"})),bN=Fe(xN,{name:"JoyModal",slot:"Root",overridesResolver:(t,e)=>e.root})({}),SN=Fe("div")(({theme:t})=>({zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:t.vars.palette.background.backdrop,WebkitTapHighlightColor:"transparent",backdropFilter:"blur(8px)"})),TN=Fe(SN,{name:"JoyModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({}),CN=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyModal"}),{children:i,container:s,disableAutoFocus:a=!1,disableEnforceFocus:u=!1,disableEscapeKeyDown:c=!1,disablePortal:h=!1,disableRestoreFocus:p=!1,disableScrollLock:g=!1,hideBackdrop:T=!1,keepMounted:S=!1,onClose:E,open:v,component:C,slots:P={},slotProps:R={}}=n,D=qe(n,yN),U=z({},n,{disableAutoFocus:a,disableEnforceFocus:u,disableEscapeKeyDown:c,disablePortal:h,disableRestoreFocus:p,disableScrollLock:g,hideBackdrop:T,keepMounted:S}),{getRootProps:A,getBackdropProps:B,rootRef:$,portalRef:W,isTopModal:O}=X4(z({},U,{rootRef:r})),M=_N(U),X=z({},D,{component:C,slots:P,slotProps:R}),[re,Q]=Je("root",{ref:$,className:M.root,elementType:bN,externalForwardedProps:X,getSlotProps:A,ownerState:U}),[ue,ae]=Je("backdrop",{className:M.backdrop,elementType:TN,externalForwardedProps:X,getSlotProps:B,ownerState:U});return!S&&!v?null:L.jsx(xE.Provider,{value:E,children:L.jsx(KC,{ref:W,container:s,disablePortal:h,children:L.jsxs(re,z({},Q,{children:[T?null:L.jsx(ue,z({},ae)),L.jsx(s4,{disableEnforceFocus:u,disableAutoFocus:a,disableRestoreFocus:p,isEnabled:O,open:v,children:N.Children.only(i)&&N.cloneElement(i,z({},i.props.tabIndex===void 0&&{tabIndex:-1}))})]}))})})});function EN(t){return It("MuiFormControl",t)}const gS=Ct("MuiFormControl",["root","error","disabled","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","sizeSm","sizeMd","sizeLg","horizontal","vertical"]),wN=Ct("MuiSwitch",["root","checked","disabled","action","input","thumb","track","focusVisible","readOnly","colorPrimary","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantOutlined","variantSoft","variantSolid","startDecorator","endDecorator"]),kN=["id","className","component","disabled","required","error","color","size","orientation","slots","slotProps"],DN=t=>{const{disabled:e,error:r,size:n,color:i,orientation:s}=t,a={root:["root",s,e&&"disabled",r&&"error",i&&`color${je(i)}`,n&&`size${je(n)}`]};return _t(a,EN,{})},AN=Fe("div",{name:"JoyFormControl",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,n,i;return z({"--unstable_RadioGroup-margin":"0.5rem 0","--FormLabel-alignSelf":e.orientation==="horizontal"?"align-items":"flex-start","--FormLabel-asteriskColor":t.vars.palette.danger[500]},e.size==="sm"&&{"--FormLabel-fontSize":t.vars.fontSize.xs,"--FormLabel-lineHeight":t.vars.lineHeight.xl,"--FormLabel-margin":e.orientation==="horizontal"?"0 0.5rem 0 0":"0 0 0.25rem 0","--FormHelperText-fontSize":t.vars.fontSize.xs,"--FormHelperText-lineHeight":t.vars.lineHeight.xl},e.size==="md"&&{"--FormLabel-fontSize":t.vars.fontSize.sm,"--FormLabel-lineHeight":t.vars.lineHeight.sm,"--FormLabel-margin":e.orientation==="horizontal"?"0 0.75rem 0 0":"0 0 0.375rem 0","--FormHelperText-fontSize":t.vars.fontSize.sm,"--FormHelperText-lineHeight":t.vars.lineHeight.sm},e.size==="lg"&&{"--FormLabel-fontSize":t.vars.fontSize.md,"--FormLabel-lineHeight":t.vars.lineHeight.md,"--FormLabel-margin":e.orientation==="horizontal"?"0 1rem 0 0":"0 0 0.5rem 0","--FormHelperText-fontSize":t.vars.fontSize.sm,"--FormHelperText-lineHeight":t.vars.lineHeight.sm},e.color&&{"--FormHelperText-color":(r=t.vars.palette[e.color])==null?void 0:r[500]},{"--FormHelperText-margin":"0.375rem 0 0 0",[`&.${gS.error}`]:{"--FormHelperText-color":t.vars.palette.danger[500]},[`&.${gS.disabled}`]:{"--FormLabel-color":(n=t.variants.plainDisabled)==null||(n=n[e.color||"neutral"])==null?void 0:n.color,"--FormHelperText-color":(i=t.variants.plainDisabled)==null||(i=i[e.color||"neutral"])==null?void 0:i.color},display:"flex",position:"relative",flexDirection:e.orientation==="horizontal"?"row":"column"},e.orientation==="horizontal"&&{[`& > label ~ .${wN.root}`]:{"--unstable_Switch-margin":"0 0 0 auto"}})}),O0=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyFormControl"}),{id:i,className:s,component:a="div",disabled:u=!1,required:c=!1,error:h=!1,color:p,size:g="md",orientation:T="vertical",slots:S={},slotProps:E={}}=n,v=qe(n,kN),C=Bu(i),[P,R]=N.useState(null),D=z({},n,{id:C,component:a,color:p,disabled:u,error:h,required:c,size:g,orientation:T});let U;const A=DN(D),[B,$]=Je("root",{ref:r,className:ar(A.root,s),elementType:AN,externalForwardedProps:z({},v,{component:a,slots:S,slotProps:E}),ownerState:D}),W=N.useMemo(()=>({disabled:u,required:c,error:h,color:p,size:g,htmlFor:C,labelId:`${C}-label`,"aria-describedby":P?`${C}-helper-text`:void 0,setHelperText:R,registerEffect:U}),[p,u,h,P,C,U,c,g]);return L.jsx(g_.Provider,{value:W,children:L.jsx(B,z({},$))})});function IN(t){return It("MuiFormLabel",t)}Ct("MuiFormLabel",["root","asterisk"]);const PN=["children","component","htmlFor","id","slots","slotProps"],RN=()=>_t({root:["root"],asterisk:["asterisk"]},IN,{}),ON=Fe("label",{name:"JoyFormLabel",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({"--Icon-fontSize":"calc(var(--FormLabel-lineHeight) * 1em)",WebkitTapHighlightColor:"transparent",alignSelf:"var(--FormLabel-alignSelf)",display:"flex",gap:"2px",alignItems:"center",flexWrap:"wrap",userSelect:"none",fontFamily:t.vars.fontFamily.body,fontSize:`var(--FormLabel-fontSize, ${t.vars.fontSize.sm})`,fontWeight:t.vars.fontWeight.md,lineHeight:`var(--FormLabel-lineHeight, ${t.vars.lineHeight.sm})`,color:`var(--FormLabel-color, ${t.vars.palette.text.primary})`,margin:"var(--FormLabel-margin, 0px)"})),LN=Fe("span",{name:"JoyFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})({color:"var(--FormLabel-asteriskColor)"}),L0=N.forwardRef(function(e,r){var n,i;const s=Et({props:e,name:"JoyFormLabel"}),{children:a,component:u="label",htmlFor:c,id:h,slots:p={},slotProps:g={}}=s,T=qe(s,PN),S=N.useContext(g_),E=(n=(i=e.required)!=null?i:S==null?void 0:S.required)!=null?n:!1,v=z({},s,{required:E}),C=RN(),P=z({},T,{component:u,slots:p,slotProps:g}),[R,D]=Je("root",{additionalProps:{htmlFor:c??(S==null?void 0:S.htmlFor),id:h??(S==null?void 0:S.labelId)},ref:r,className:C.root,elementType:ON,externalForwardedProps:P,ownerState:v}),[U,A]=Je("asterisk",{additionalProps:{"aria-hidden":!0},className:C.asterisk,elementType:LN,externalForwardedProps:P,ownerState:v});return L.jsxs(R,z({},D,{children:[a,E&&L.jsxs(U,z({},A,{children:["","*"]}))]}))}),Xn=D3({createStyledComponent:Fe("div",{name:"JoyGrid",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Et({props:t,name:"JoyGrid"})});function MN(t){return It("MuiLink",t)}const vS=Ct("MuiLink",["root","disabled","focusVisible","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","variantPlain","variantOutlined","variantSoft","variantSolid","underlineNone","underlineHover","underlineAlways","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","startDecorator","endDecorator"]),NN=["color","textColor","variant"],BN=["children","disabled","onBlur","onFocus","level","overlay","underline","endDecorator","startDecorator","component","slots","slotProps"],FN=t=>{const{level:e,color:r,variant:n,underline:i,focusVisible:s,disabled:a}=t,u={root:["root",r&&`color${je(r)}`,a&&"disabled",s&&"focusVisible",e,i&&`underline${je(i)}`,n&&`variant${je(n)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return _t(u,MN,{})},$N=Fe("span",{name:"JoyLink",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})(({ownerState:t})=>{var e;return z({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Link-gap, 0.375em), 0.75rem)"},typeof t.startDecorator!="string"&&(t.alignItems==="flex-start"||((e=t.sx)==null?void 0:e.alignItems)==="flex-start")&&{marginTop:"2px"})}),jN=Fe("span",{name:"JoyLink",slot:"endDecorator",overridesResolver:(t,e)=>e.endDecorator})(({ownerState:t})=>{var e;return z({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Link-gap, 0.25em), 0.5rem)"},typeof t.startDecorator!="string"&&(t.alignItems==="flex-start"||((e=t.sx)==null?void 0:e.alignItems)==="flex-start")&&{marginTop:"2px"})}),UN=Fe("a",{name:"JoyLink",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,n,i,s,a,u,c;return[z({"--Icon-fontSize":"1.25em","--Icon-color":"currentColor","--CircularProgress-size":"1.25em","--CircularProgress-thickness":"3px"},e.level&&e.level!=="inherit"&&t.typography[e.level],e.level==="inherit"&&{font:"inherit"},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{"@media (hover: hover)":{textDecorationLine:"underline"}}},e.underline==="always"&&{textDecoration:"underline"},e.startDecorator&&{verticalAlign:"bottom"},{textDecorationThickness:"max(0.08em, 1px)",textUnderlineOffset:"0.15em",display:"inline-flex",alignItems:"center",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:t.vars.radius.xs,padding:0,cursor:"pointer",textDecorationColor:`var(--variant-outlinedBorder, rgba(${(r=t.vars.palette[e.color])==null?void 0:r.mainChannel} / var(--Link-underlineOpacity, 0.72)))`},e.variant?z({paddingBlock:"min(0.1em, 4px)",paddingInline:"0.25em"},!e.nesting&&{marginInline:"-0.25em"}):{color:`var(--variant-plainColor, rgba(${(n=t.vars.palette[e.color])==null?void 0:n.mainChannel} / 1))`,[`&.${vS.disabled}`]:{pointerEvents:"none",color:`var(--variant-plainDisabledColor, rgba(${(i=t.vars.palette[e.color])==null?void 0:i.mainChannel} / 0.6))`}},{userSelect:e.component==="button"?"none":void 0,MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},e.overlay?{position:"initial","&::after":{content:'""',display:"block",position:"absolute",top:0,left:0,bottom:0,right:0,borderRadius:"var(--unstable_actionRadius, inherit)",margin:"var(--unstable_actionMargin)"},[`${t.focus.selector}`]:{"&::after":t.focus.default}}:{position:"relative",[t.focus.selector]:t.focus.default}),e.variant&&z({},(s=t.variants[e.variant])==null?void 0:s[e.color],{"&:hover":{"@media (hover: hover)":(a=t.variants[`${e.variant}Hover`])==null?void 0:a[e.color]},"&:active":(u=t.variants[`${e.variant}Active`])==null?void 0:u[e.color],[`&.${vS.disabled}`]:(c=t.variants[`${e.variant}Disabled`])==null?void 0:c[e.color]})]}),em=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyLink"}),{color:i="primary",textColor:s,variant:a}=n,u=qe(n,NN),c=N.useContext(rp),h=N.useContext(yE),p=jp(z({},u,{color:s})),{children:g,disabled:T=!1,onBlur:S,onFocus:E,level:v="body-md",overlay:C=!1,underline:P="hover",endDecorator:R,startDecorator:D,component:U,slots:A={},slotProps:B={}}=p,$=qe(p,BN),W=c||h?e.level||"inherit":v,{isFocusVisibleRef:O,onBlur:M,onFocus:X,ref:re}=Jy(),[Q,ue]=N.useState(!1),ae=Lr(r,re),Z=Ee=>{M(Ee),O.current===!1&&ue(!1),S&&S(Ee)},K=Ee=>{X(Ee),O.current===!0&&ue(!0),E&&E(Ee)},J=z({},p,{color:i,disabled:T,focusVisible:Q,underline:P,variant:a,level:W,overlay:C,nesting:c}),ie=FN(J),se=z({},$,{component:U,slots:A,slotProps:B}),[V,ce]=Je("root",{additionalProps:{onBlur:Z,onFocus:K},ref:ae,className:ie.root,elementType:UN,externalForwardedProps:se,ownerState:J}),[Te,Ce]=Je("startDecorator",{className:ie.startDecorator,elementType:$N,externalForwardedProps:se,ownerState:J}),[Se,Ne]=Je("endDecorator",{className:ie.endDecorator,elementType:jN,externalForwardedProps:se,ownerState:J});return L.jsx(rp.Provider,{value:!0,children:L.jsxs(V,z({},ce,{children:[D&&L.jsx(Te,z({},Ce,{children:D})),Wa(g,["Skeleton"])?N.cloneElement(g,{variant:g.props.variant||"inline"}):g,R&&L.jsx(Se,z({},Ne,{children:R}))]}))})});function zN(t){return It("MuiListItemContent",t)}Ct("MuiListItemContent",["root"]);const HN=["component","className","children","slots","slotProps"],VN=()=>_t({root:["root"]},zN,{}),qN=Fe("div",{name:"JoyListItemContent",slot:"Root",overridesResolver:(t,e)=>e.root})({flex:"1 1 auto",minWidth:0}),jv=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyListItemContent"}),{component:i,className:s,children:a,slots:u={},slotProps:c={}}=n,h=qe(n,HN),p=z({},n),g=VN(),T=z({},h,{component:i,slots:u,slotProps:c}),[S,E]=Je("root",{ref:r,className:ar(g.root,s),elementType:qN,externalForwardedProps:T,ownerState:p});return L.jsx(S,z({},E,{children:a}))});function WN(t){return It("MuiListItemDecorator",t)}Ct("MuiListItemDecorator",["root"]);const GN=["component","className","children","slots","slotProps"],KN=()=>_t({root:["root"]},WN,{}),XN=Fe("span",{name:"JoyListItemDecorator",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>z({boxSizing:"border-box",display:"inline-flex",alignItems:`var(--unstable_ListItemDecorator-alignItems, ${t.parentOrientation==="horizontal"?"center":"initial"})`},t.parentOrientation==="horizontal"?{minInlineSize:"var(--ListItemDecorator-size)",marginInlineEnd:"calc(-1 * var(--ListItem-gap))"}:{minBlockSize:"var(--ListItemDecorator-size)",justifyContent:"center",marginBlockEnd:"calc(-1 * var(--ListItem-gap))"})),bE=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyListItemDecorator"}),{component:i,className:s,children:a,slots:u={},slotProps:c={}}=n,h=qe(n,GN),p=N.useContext(f_),g=z({parentOrientation:p},n),T=KN(),S=z({},h,{component:i,slots:u,slotProps:c}),[E,v]=Je("root",{ref:r,className:ar(T.root,s),elementType:XN,externalForwardedProps:S,ownerState:g});return L.jsx(E,z({},v,{children:a}))});function YN(t){return It("MuiMenu",t)}Ct("MuiMenu",["root","listbox","expanded","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const QN=["actions","children","color","component","disablePortal","keepMounted","id","invertedColors","onItemsChange","modifiers","variant","size","slots","slotProps"],JN=t=>{const{open:e,variant:r,color:n,size:i}=t,s={root:["root",e&&"expanded",r&&`variant${je(r)}`,n&&`color${je(n)}`,i&&`size${je(i)}`],listbox:["listbox"]};return _t(s,YN,{})},yS=Fe(uE,{name:"JoyMenu",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,n;const i=(r=t.variants[e.variant])==null?void 0:r[e.color];return[z({"--focus-outline-offset":`calc(${t.vars.focus.thickness} * -1)`,"--ListItem-stickyBackground":(i==null?void 0:i.backgroundColor)||(i==null?void 0:i.background)||t.vars.palette.background.popup,"--ListItem-stickyTop":"calc(var(--List-padding, var(--ListDivider-gap)) * -1)"},S5,{borderRadius:`var(--List-radius, ${t.vars.radius.sm})`,boxShadow:t.shadow.md,overflow:"auto",zIndex:`var(--unstable_popup-zIndex, ${t.vars.zIndex.popup})`},!(i!=null&&i.backgroundColor)&&{backgroundColor:t.vars.palette.background.popup},e.variant==="solid"&&e.color&&e.invertedColors&&Kp(e.color)(t),e.variant==="soft"&&e.color&&e.invertedColors&&Xp(e.color)(t),(n=t.variants[e.variant])==null?void 0:n[e.color])]}),ZN=N.forwardRef(function(e,r){var n;const i=Et({props:e,name:"JoyMenu"}),{actions:s,children:a,color:u="neutral",component:c,disablePortal:h=!1,keepMounted:p=!1,id:g,invertedColors:T=!1,onItemsChange:S,modifiers:E,variant:v="outlined",size:C="md",slots:P={},slotProps:R={}}=i,D=qe(i,QN),{contextValue:U,getListboxProps:A,dispatch:B,open:$,triggerElement:W}=O4({onItemsChange:S,id:g,listboxRef:r});N.useImperativeHandle(s,()=>({dispatch:B,resetHighlight:()=>B({type:tr.resetHighlight,event:null})}),[B]);const O=z({},i,{disablePortal:h,invertedColors:T,color:u,variant:v,size:C,open:$,nesting:!1,row:!1}),M=JN(O),X=z({},D,{component:c,slots:P,slotProps:R}),re=N.useMemo(()=>[{name:"offset",options:{offset:[0,4]}},...E||[]],[E]),Q=zC({elementType:yS,getSlotProps:A,externalForwardedProps:X,externalSlotProps:{},ownerState:O,additionalProps:{anchorEl:W,open:$&&W!==null,disablePortal:h,keepMounted:p,modifiers:re},className:M.root});return L.jsx(yS,z({},Q,!((n=i.slots)!=null&&n.root)&&{as:d5,slots:{root:c||"ul"}},{children:L.jsx(L4,{value:U,children:L.jsx(Z5,{variant:T?void 0:v,color:u,children:L.jsx(h_.Provider,{value:"menu",children:L.jsx(lE,{nested:!0,children:a})})})})}))});function eB(t){return It("MuiMenuButton",t)}Ct("MuiMenuButton",["root","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]);const tB=["children","color","component","disabled","endDecorator","loading","loadingPosition","loadingIndicator","size","slotProps","slots","startDecorator","variant"],rB=t=>{const{color:e,disabled:r,fullWidth:n,size:i,variant:s,loading:a}=t,u={root:["root",r&&"disabled",n&&"fullWidth",s&&`variant${je(s)}`,e&&`color${je(e)}`,i&&`size${je(i)}`,a&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]};return _t(u,eB,{})},nB=Fe("button",{name:"JoyMenuButton",slot:"Root",overridesResolver:(t,e)=>e.root})(_E),iB=Fe("span",{name:"JoyMenuButton",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),sB=Fe("span",{name:"JoyMenuButton",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),oB=Fe("span",{name:"JoyMenuButton",slot:"LoadingCenter",overridesResolver:(t,e)=>e.loadingIndicatorCenter})(({theme:t,ownerState:e})=>{var r,n;return z({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(r=t.variants[e.variant])==null||(r=r[e.color])==null?void 0:r.color},e.disabled&&{color:(n=t.variants[`${e.variant}Disabled`])==null||(n=n[e.color])==null?void 0:n.color})}),aB=N.forwardRef(function(e,r){var n;const i=Et({props:e,name:"JoyMenuButton"}),{children:s,color:a="neutral",component:u,disabled:c=!1,endDecorator:h,loading:p=!1,loadingPosition:g="center",loadingIndicator:T,size:S="md",slotProps:E={},slots:v={},startDecorator:C,variant:P="outlined"}=i,R=qe(i,tB),D=N.useContext(Yp),U=e.variant||D.variant||P,A=e.size||D.size||S,B=(n=e.disabled)!=null?n:D.disabled||c||p,{getRootProps:$,open:W,active:O}=N4({rootRef:r,disabled:B}),M=T??L.jsx(Qp,{color:a,thickness:{sm:2,md:3,lg:4}[A]||3}),X=z({},i,{active:O,color:a,disabled:B,open:W,size:A,variant:U}),re=rB(X),Q=z({},R,{component:u,slots:v,slotProps:E}),[ue,ae]=Je("root",{elementType:nB,getSlotProps:$,externalForwardedProps:Q,ref:r,ownerState:X,className:re.root}),[Z,K]=Je("startDecorator",{className:re.startDecorator,elementType:iB,externalForwardedProps:Q,ownerState:X}),[J,ie]=Je("endDecorator",{className:re.endDecorator,elementType:sB,externalForwardedProps:Q,ownerState:X}),[se,V]=Je("loadingIndicatorCenter",{className:re.loadingIndicatorCenter,elementType:oB,externalForwardedProps:Q,ownerState:X});return L.jsxs(ue,z({},ae,{children:[(C||p&&g==="start")&&L.jsx(Z,z({},K,{children:p&&g==="start"?M:C})),s,p&&g==="center"&&L.jsx(se,z({},V,{children:M})),(h||p&&g==="end")&&L.jsx(J,z({},ie,{children:p&&g==="end"?M:h}))]}))});function lB(t){return It("MuiMenuItem",t)}Ct("MuiMenuItem",["root","focusVisible","disabled","selected","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]);const uB=["children","disabled","component","selected","color","orientation","variant","slots","slotProps","id"],cB=t=>{const{focusVisible:e,disabled:r,selected:n,color:i,variant:s}=t,a={root:["root",e&&"focusVisible",r&&"disabled",n&&"selected",i&&`color${je(i)}`,s&&`variant${je(s)}`]};return _t(a,lB,{})},dB=Fe(cE,{name:"JoyMenuItem",slot:"Root",overridesResolver:(t,e)=>e.root})({}),hB=N.memo(N.forwardRef(function(e,r){const n=Et({props:e,name:"JoyMenuItem"}),i=N.useContext(Gp),{children:s,disabled:a=!1,component:u="li",selected:c=!1,color:h="neutral",orientation:p="horizontal",variant:g="plain",slots:T={},slotProps:S={},id:E}=n,v=qe(n,uB),{variant:C=g,color:P=h}=J5(e.variant,e.color),{getRootProps:R,disabled:D,focusVisible:U}=$4({id:E,disabled:a,rootRef:r}),A=z({},n,{component:u,color:P,disabled:D,focusVisible:U,orientation:p,selected:c,row:i,variant:C}),B=cB(A),$=z({},v,{component:u,slots:T,slotProps:S}),[W,O]=Je("root",{ref:r,elementType:dB,getSlotProps:R,externalForwardedProps:$,className:B.root,ownerState:A});return L.jsx(f_.Provider,{value:p,children:L.jsx(W,z({},O,{children:s}))})})),fB=N.forwardRef(function(e,r){const{contextValue:n,id:i}=j4(e.id);return L.jsx(qp.Provider,{value:n,children:L.jsx(hB,z({},e,{id:i,ref:r}))})});function pB(t){return It("MuiModalClose",t)}Ct("MuiModalClose",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);var _S;const mB=["component","color","variant","size","onClick","slots","slotProps"],gB=t=>{const{variant:e,color:r,disabled:n,focusVisible:i,size:s}=t,a={root:["root",n&&"disabled",i&&"focusVisible",e&&`variant${je(e)}`,r&&`color${je(r)}`,s&&`size${je(s)}`]};return _t(a,pB,{})},vB=Fe(gE,{name:"JoyModalClose",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>{var r;return z({},t.size==="sm"&&{"--IconButton-size":"1.75rem"},t.size==="md"&&{"--IconButton-size":"2rem"},t.size==="lg"&&{"--IconButton-size":"2.25rem"},{position:"absolute",zIndex:1,top:"var(--ModalClose-inset, 0.625rem)",right:"var(--ModalClose-inset, 0.625rem)",borderRadius:`var(--ModalClose-radius, ${e.vars.radius.sm})`},!((r=e.variants[t.variant])!=null&&(r=r[t.color])!=null&&r.backgroundColor)&&{color:e.vars.palette.text.secondary})}),yB={plain:"plain",outlined:"plain",soft:"soft",solid:"solid"},_B=N.forwardRef(function(e,r){var n,i,s,a,u,c;const h=Et({props:e,name:"JoyModalClose"}),{component:p="button",color:g="neutral",variant:T="plain",size:S="md",onClick:E,slots:v={},slotProps:C={}}=h,P=qe(h,mB),R=N.useContext(xE),D=N.useContext(mN),U=(n=(i=e.variant)!=null?i:yB[D==null?void 0:D.variant])!=null?n:T,A=(s=(a=e.color)!=null?a:D==null?void 0:D.color)!=null?s:g,B=N.useContext(gN),$=(u=(c=e.size)!=null?c:B)!=null?u:S,{focusVisible:W,getRootProps:O}=$u(z({},h,{rootRef:r})),M=z({},h,{color:A,component:p,variant:U,size:$,focusVisible:W}),X=gB(M),[re,Q]=Je("root",{ref:r,elementType:vB,getSlotProps:O,externalForwardedProps:z({onClick:ue=>{R==null||R(ue,"closeClick"),E==null||E(ue)}},P,{component:p,slots:v,slotProps:C}),className:X.root,ownerState:M});return L.jsx(re,z({},Q,{children:_S||(_S=L.jsx(Y5,{}))}))});function xB(t){return It("MuiSheet",t)}Ct("MuiSheet",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const bB=["className","color","component","variant","invertedColors","slots","slotProps"],SB=t=>{const{variant:e,color:r}=t,n={root:["root",e&&`variant${je(e)}`,r&&`color${je(r)}`]};return _t(n,xB,{})},TB=Fe("div",{name:"JoySheet",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,n;const i=(r=t.variants[e.variant])==null?void 0:r[e.color],{borderRadius:s,bgcolor:a,backgroundColor:u,background:c}=Vd({theme:t,ownerState:e},["borderRadius","bgcolor","backgroundColor","background"]),h=vu(t,`palette.${a}`)||a||vu(t,`palette.${u}`)||u||c||(i==null?void 0:i.backgroundColor)||(i==null?void 0:i.background)||t.vars.palette.background.surface;return[z({"--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":t.vars.palette.text.icon,"--ListItem-stickyBackground":h==="transparent"?"initial":h,"--Sheet-background":h==="transparent"?"initial":h},s!==void 0&&{"--List-radius":`calc(${s} - var(--variant-borderWidth, 0px))`,"--unstable_actionRadius":`calc(${s} - var(--variant-borderWidth, 0px))`},{backgroundColor:t.vars.palette.background.surface,position:"relative"}),z({},t.typography["body-md"],e.variant==="solid"&&e.color&&e.invertedColors&&Kp(e.color)(t),e.variant==="soft"&&e.color&&e.invertedColors&&Xp(e.color)(t),(n=t.variants[e.variant])==null?void 0:n[e.color],i)]}),tm=N.forwardRef(function(e,r){const n=Et({props:e,name:"JoySheet"}),{className:i,color:s="neutral",component:a="div",variant:u="plain",invertedColors:c=!1,slots:h={},slotProps:p={}}=n,g=qe(n,bB),T=z({},n,{color:s,component:a,invertedColors:c,variant:u}),S=SB(T),E=z({},g,{component:a,slots:h,slotProps:p}),[v,C]=Je("root",{ref:r,className:ar(S.root,i),elementType:TB,externalForwardedProps:E,ownerState:T});return L.jsx(v,z({},C))});function CB(t){return L.jsx(Or,{...t,sx:[{bgcolor:"background.appBody",display:"grid",gridTemplateColumns:{xs:"1fr"},gridTemplateRows:"64px 1fr",minHeight:"100vh"},...Array.isArray(t.sx)?t.sx:[t.sx]]})}function EB(t){return L.jsx(Or,{component:"header",className:"Header",...t,sx:[{p:2,gap:2,bgcolor:"background.surface",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",gridColumn:"1 / -1",borderBottom:"1px solid",borderColor:"divider",position:"sticky",top:0,zIndex:1100},...Array.isArray(t.sx)?t.sx:[t.sx]]})}function wB(t){return L.jsx(Or,{component:"main",className:"Main",...t,sx:[{p:2},...Array.isArray(t.sx)?t.sx:[t.sx]]})}function kB({onClose:t,...e}){return L.jsxs(Or,{...e,sx:[{position:"fixed",zIndex:1200,width:"100%",height:"100%"},...Array.isArray(e.sx)?e.sx:[e.sx]],children:[L.jsx(Or,{role:"button",onClick:t,sx:{position:"absolute",inset:0,bgcolor:r=>`rgba(${r.vars.palette.neutral.darkChannel} / 0.8)`}}),L.jsx(tm,{sx:{minWidth:256,width:"max-content",height:"100%",p:2,boxShadow:"lg",bgcolor:"background.surface"},children:e.children})]})}const xf={Root:CB,Header:EB,SideDrawer:kB,Main:wB};var Nc={},M0={exports:{}},xS;function ti(){return xS||(xS=1,(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(M0)),M0.exports}var N0={};function DB(t,e){return z({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const wd={black:"#000",white:"#fff"},AB={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Wl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Gl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Bc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Kl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Xl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Yl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},IB=["mode","contrastThreshold","tonalOffset"],bS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:wd.white,default:wd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},B0={text:{primary:wd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:wd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function SS(t,e,r,n){const i=n.light||n,s=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=wO(t.main,i):e==="dark"&&(t.dark=EO(t.main,s)))}function PB(t="light"){return t==="dark"?{main:Kl[200],light:Kl[50],dark:Kl[400]}:{main:Kl[700],light:Kl[400],dark:Kl[800]}}function RB(t="light"){return t==="dark"?{main:Wl[200],light:Wl[50],dark:Wl[400]}:{main:Wl[500],light:Wl[300],dark:Wl[700]}}function OB(t="light"){return t==="dark"?{main:Gl[500],light:Gl[300],dark:Gl[700]}:{main:Gl[700],light:Gl[400],dark:Gl[800]}}function LB(t="light"){return t==="dark"?{main:Xl[400],light:Xl[300],dark:Xl[700]}:{main:Xl[700],light:Xl[500],dark:Xl[900]}}function MB(t="light"){return t==="dark"?{main:Yl[400],light:Yl[300],dark:Yl[700]}:{main:Yl[800],light:Yl[500],dark:Yl[900]}}function NB(t="light"){return t==="dark"?{main:Bc[400],light:Bc[300],dark:Bc[700]}:{main:"#ed6c02",light:Bc[500],dark:Bc[900]}}function BB(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=qe(t,IB),s=t.primary||PB(e),a=t.secondary||RB(e),u=t.error||OB(e),c=t.info||LB(e),h=t.success||MB(e),p=t.warning||NB(e);function g(v){return CO(v,B0.text.primary)>=r?B0.text.primary:bS.text.primary}const T=({color:v,name:C,mainShade:P=500,lightShade:R=300,darkShade:D=700})=>{if(v=z({},v),!v.main&&v[P]&&(v.main=v[P]),!v.hasOwnProperty("main"))throw new Error(jo(11,C?` (${C})`:"",P));if(typeof v.main!="string")throw new Error(jo(12,C?` (${C})`:"",JSON.stringify(v.main)));return SS(v,"light",R,n),SS(v,"dark",D,n),v.contrastText||(v.contrastText=g(v.main)),v},S={dark:B0,light:bS};return tn(z({common:z({},wd),mode:e,primary:T({color:s,name:"primary"}),secondary:T({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:u,name:"error"}),warning:T({color:p,name:"warning"}),info:T({color:c,name:"info"}),success:T({color:h,name:"success"}),grey:AB,contrastThreshold:r,getContrastText:g,augmentColor:T,tonalOffset:n},S[e]),i)}const FB=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function $B(t){return Math.round(t*1e5)/1e5}const TS={textTransform:"uppercase"},CS='"Roboto", "Helvetica", "Arial", sans-serif';function jB(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=CS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:u=500,fontWeightBold:c=700,htmlFontSize:h=16,allVariants:p,pxToRem:g}=r,T=qe(r,FB),S=i/14,E=g||(P=>`${P/h*S}rem`),v=(P,R,D,U,A)=>z({fontFamily:n,fontWeight:P,fontSize:E(R),lineHeight:D},n===CS?{letterSpacing:`${$B(U/R)}em`}:{},A,p),C={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(u,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(u,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(u,14,1.75,.4,TS),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,TS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return tn(z({htmlFontSize:h,pxToRem:E,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:u,fontWeightBold:c},C),T,{clone:!1})}const UB=.2,zB=.14,HB=.12;function jt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${UB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${zB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${HB})`].join(",")}const VB=["none",jt(0,2,1,-1,0,1,1,0,0,1,3,0),jt(0,3,1,-2,0,2,2,0,0,1,5,0),jt(0,3,3,-2,0,3,4,0,0,1,8,0),jt(0,2,4,-1,0,4,5,0,0,1,10,0),jt(0,3,5,-1,0,5,8,0,0,1,14,0),jt(0,3,5,-1,0,6,10,0,0,1,18,0),jt(0,4,5,-2,0,7,10,1,0,2,16,1),jt(0,5,5,-3,0,8,10,1,0,3,14,2),jt(0,5,6,-3,0,9,12,1,0,3,16,2),jt(0,6,6,-3,0,10,14,1,0,4,18,3),jt(0,6,7,-4,0,11,15,1,0,4,20,3),jt(0,7,8,-4,0,12,17,2,0,5,22,4),jt(0,7,8,-4,0,13,19,2,0,5,24,4),jt(0,7,9,-4,0,14,21,2,0,5,26,4),jt(0,8,9,-5,0,15,22,2,0,6,28,5),jt(0,8,10,-5,0,16,24,2,0,6,30,5),jt(0,8,11,-5,0,17,26,2,0,6,32,5),jt(0,9,11,-5,0,18,28,2,0,7,34,6),jt(0,9,12,-6,0,19,29,2,0,7,36,6),jt(0,10,13,-6,0,20,31,3,0,8,38,7),jt(0,10,13,-6,0,21,33,3,0,8,40,7),jt(0,10,14,-6,0,22,35,3,0,8,42,7),jt(0,11,14,-7,0,23,36,3,0,9,44,8),jt(0,11,15,-7,0,24,38,3,0,9,46,8)],qB=["duration","easing","delay"],WB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},GB={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ES(t){return`${Math.round(t)}ms`}function KB(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function XB(t){const e=z({},WB,t.easing),r=z({},GB,t.duration);return z({getAutoHeightDuration:KB,create:(i=["all"],s={})=>{const{duration:a=r.standard,easing:u=e.easeInOut,delay:c=0}=s;return qe(s,qB),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof a=="string"?a:ES(a)} ${u} ${typeof c=="string"?c:ES(c)}`).join(",")}},t,{easing:e,duration:r})}const YB={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},QB=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function JB(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=t,a=qe(t,QB);if(t.vars)throw new Error(jo(18));const u=BB(n),c=Fd(t);let h=tn(c,{mixins:DB(c.breakpoints,r),palette:u,shadows:VB.slice(),typography:jB(u,s),transitions:XB(i),zIndex:z({},YB)});return h=tn(h,a),h=e.reduce((p,g)=>tn(p,g),h),h.unstable_sxConfig=z({},Bd,a==null?void 0:a.unstable_sxConfig),h.unstable_sx=function(g){return Nu({sx:g,theme:this})},h}const y_=JB(),__="$$material";function ZB({props:t,name:e}){return Up({props:t,name:e,defaultTheme:y_,themeId:__})}const e8=t=>Of(t)&&t!=="classes",t8=Xy({themeId:__,defaultTheme:y_,rootShouldForwardProp:e8});function r8(t){return jd("MuiSvgIcon",t)}Ky("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const n8=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],i8=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${je(e)}`,`fontSize${je(r)}`]};return _t(i,r8,n)},s8=t8("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${je(r.color)}`],e[`fontSize${je(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,s,a,u,c,h,p,g,T,S,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,24))||"1.5rem",large:((h=t.typography)==null||(p=h.pxToRem)==null?void 0:p.call(h,35))||"2.1875rem"}[e.fontSize],color:(g=(T=(t.vars||t).palette)==null||(T=T[e.color])==null?void 0:T.main)!=null?g:{action:(S=(t.vars||t).palette)==null||(S=S.action)==null?void 0:S.active,disabled:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.disabled,inherit:void 0}[e.color]}}),Uv=N.forwardRef(function(e,r){const n=ZB({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:u="svg",fontSize:c="medium",htmlColor:h,inheritViewBox:p=!1,titleAccess:g,viewBox:T="0 0 24 24"}=n,S=qe(n,n8),E=N.isValidElement(i)&&i.type==="svg",v=z({},n,{color:a,component:u,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:T,hasSvgAsChild:E}),C={};p||(C.viewBox=T);const P=i8(v);return L.jsxs(s8,z({as:u,className:ar(P.root,s),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:r},C,S,E&&i.props,{ownerState:v,children:[E?i.props.children:i,g?L.jsx("title",{children:g}):null]}))});Uv.muiName="SvgIcon";function x_(t,e){function r(n,i){return L.jsx(Uv,z({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=Uv.muiName,N.memo(N.forwardRef(r))}const o8={configure:t=>{Gy.configure(t)}},a8=Object.freeze(Object.defineProperty({__proto__:null,capitalize:je,createChainedFunction:Ov,createSvgIcon:x_,debounce:kO,deprecatedPropType:DO,isMuiElement:Wa,ownerDocument:Li,ownerWindow:zp,requirePropFactory:AO,setRef:Jf,unstable_ClassNameGenerator:o8,unstable_useEnhancedEffect:ps,unstable_useId:Bu,unsupportedProp:PO,useControlled:RO,useEventCallback:Lv,useForkRef:Lr,useIsFocusVisible:Jy},Symbol.toStringTag,{value:"Module"})),l8=E2(a8);var wS;function ri(){return wS||(wS=1,(function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=l8})(N0)),N0}var kS;function u8(){if(kS)return Nc;kS=1;var t=ti();Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M11.01 3.05C6.51 3.54 3 7.36 3 12c0 4.97 4.03 9 9 9 4.63 0 8.45-3.5 8.95-8 .09-.79-.78-1.42-1.54-.95-.84.54-1.84.85-2.91.85-2.98 0-5.4-2.42-5.4-5.4 0-1.06.31-2.06.84-2.89.45-.67-.04-1.63-.93-1.56z"}),"DarkModeRounded");return Nc.default=n,Nc}var c8=u8();const d8=mr(c8);var Fc={},DS;function h8(){if(DS)return Fc;DS=1;var t=ti();Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"}),"LightModeRounded");return Fc.default=n,Fc}var f8=h8();const p8=mr(f8),m8=()=>{const{mode:t,setMode:e}=B3(),[r,n]=N.useState(!1);return N.useEffect(()=>{n(!0)},[]),r?L.jsx(Bi,{id:"toggle-mode",size:"sm",variant:"soft",color:"neutral",onClick:()=>{e(t==="light"?"dark":"light")},children:t==="light"?L.jsx(d8,{}):L.jsx(p8,{})}):L.jsx(Bi,{size:"sm",variant:"soft",color:"neutral"})},Ir={home:"/",liveTv:"/live-tv",movies:"/movies",tvShows:"/tv-shows",watchlist:"/watchlist",movieWatch:"/movies/watch/:id",seriesWatch:"/tv-shows/watch/:id",search:"/search"};/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kd.apply(this,arguments)}var Lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lo||(Lo={}));const AS="popstate";function g8(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:u}=n.location;return zv("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:SE(i)}return y8(e,r,null,t)}function br(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function b_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v8(){return Math.random().toString(36).substr(2,8)}function IS(t,e){return{usr:t.state,key:t.key,idx:e}}function zv(t,e,r,n){return r===void 0&&(r=null),kd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ju(e):e,{state:r,key:e&&e.key||n||v8()})}function SE(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ju(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function y8(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,u=Lo.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(kd({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function g(){u=Lo.Pop;let C=p(),P=C==null?null:C-h;h=C,c&&c({action:u,location:v.location,delta:P})}function T(C,P){u=Lo.Push;let R=zv(v.location,C,P);h=p()+1;let D=IS(R,h),U=v.createHref(R);try{a.pushState(D,"",U)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(U)}s&&c&&c({action:u,location:v.location,delta:1})}function S(C,P){u=Lo.Replace;let R=zv(v.location,C,P);h=p();let D=IS(R,h),U=v.createHref(R);a.replaceState(D,"",U),s&&c&&c({action:u,location:v.location,delta:0})}function E(C){let P=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof C=="string"?C:SE(C);return br(P,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,P)}let v={get action(){return u},get location(){return t(i,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(AS,g),c=C,()=>{i.removeEventListener(AS,g),c=null}},createHref(C){return e(i,C)},createURL:E,encodeLocation(C){let P=E(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:T,replace:S,go(C){return a.go(C)}};return v}var PS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PS||(PS={}));function _8(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?ju(e):e,i=EE(n.pathname||"/",r);if(i==null)return null;let s=TE(t);x8(s);let a=null;for(let u=0;a==null&&u<s.length;++u)a=A8(s[u],R8(i));return a}function TE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(br(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=Ma([n,c.relativePath]),p=r.concat(c);s.children&&s.children.length>0&&(br(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),TE(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:k8(h,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of CE(s.path))i(s,a,c)}),e}function CE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=CE(n.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function x8(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:D8(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const b8=/^:\w+$/,S8=3,T8=2,C8=1,E8=10,w8=-2,RS=t=>t==="*";function k8(t,e){let r=t.split("/"),n=r.length;return r.some(RS)&&(n+=w8),e&&(n+=T8),r.filter(i=>!RS(i)).reduce((i,s)=>i+(b8.test(s)?S8:s===""?C8:E8),n)}function D8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function A8(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=I8({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h);if(!p)return null;Object.assign(n,p.params);let g=u.route;s.push({params:n,pathname:Ma([i,p.pathname]),pathnameBase:F8(Ma([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Ma([i,p.pathnameBase]))}return s}function I8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=P8(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,p,g)=>{if(p==="*"){let T=u[g]||"";a=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}return h[p]=O8(u[g]||"",p),h},{}),pathname:s,pathnameBase:a,pattern:t}}function P8(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),b_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,u)=>(n.push(u),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function R8(t){try{return decodeURI(t)}catch(e){return b_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function O8(t,e){try{return decodeURIComponent(t)}catch(r){return b_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function EE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function L8(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ju(t):t;return{pathname:r?r.startsWith("/")?r:M8(r,e):e,search:$8(n),hash:j8(i)}}function M8(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function F0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N8(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function B8(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ju(t):(i=kd({},t),br(!i.pathname||!i.pathname.includes("?"),F0("?","pathname","search",i)),br(!i.pathname||!i.pathname.includes("#"),F0("#","pathname","hash",i)),br(!i.search||!i.search.includes("#"),F0("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(n||a==null)u=r;else{let g=e.length-1;if(a.startsWith("..")){let T=a.split("/");for(;T[0]==="..";)T.shift(),g-=1;i.pathname=T.join("/")}u=g>=0?e[g]:"/"}let c=L8(i,u),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const Ma=t=>t.join("/").replace(/\/\/+/g,"/"),F8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wE=["post","put","patch","delete"];new Set(wE);const z8=["get",...wE];new Set(z8);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}const S_=N.createContext(null),H8=N.createContext(null),rm=N.createContext(null),nm=N.createContext(null),Ka=N.createContext({outlet:null,matches:[],isDataRoute:!1}),kE=N.createContext(null);function im(){return N.useContext(nm)!=null}function Uu(){return im()||br(!1),N.useContext(nm).location}function DE(t){N.useContext(rm).static||N.useLayoutEffect(t)}function zu(){let{isDataRoute:t}=N.useContext(Ka);return t?rF():V8()}function V8(){im()||br(!1);let t=N.useContext(S_),{basename:e,navigator:r}=N.useContext(rm),{matches:n}=N.useContext(Ka),{pathname:i}=Uu(),s=JSON.stringify(N8(n).map(c=>c.pathnameBase)),a=N.useRef(!1);return DE(()=>{a.current=!0}),N.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=B8(c,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ma([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,s,i,t])}function AE(){let{matches:t}=N.useContext(Ka),e=t[t.length-1];return e?e.params:{}}function q8(t,e){return W8(t,e)}function W8(t,e,r){im()||br(!1);let{navigator:n}=N.useContext(rm),{matches:i}=N.useContext(Ka),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Uu(),h;if(e){var p;let v=typeof e=="string"?ju(e):e;u==="/"||(p=v.pathname)!=null&&p.startsWith(u)||br(!1),h=v}else h=c;let g=h.pathname||"/",T=u==="/"?g:g.slice(u.length)||"/",S=_8(t,{pathname:T}),E=Q8(S&&S.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Ma([u,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Ma([u,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r);return e&&E?N.createElement(nm.Provider,{value:{location:op({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Lo.Pop}},E):E}function G8(){let t=tF(),e=U8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:i},r):null,null)}const K8=N.createElement(G8,null);class X8 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?N.createElement(Ka.Provider,{value:this.props.routeContext},N.createElement(kE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y8(t){let{routeContext:e,match:r,children:n}=t,i=N.useContext(S_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Ka.Provider,{value:e},n)}function Q8(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,a=(n=r)==null?void 0:n.errors;if(a!=null){let u=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));u>=0||br(!1),s=s.slice(0,Math.min(s.length,u+1))}return s.reduceRight((u,c,h)=>{let p=c.route.id?a==null?void 0:a[c.route.id]:null,g=null;r&&(g=c.route.errorElement||K8);let T=e.concat(s.slice(0,h+1)),S=()=>{let E;return p?E=g:c.route.Component?E=N.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,N.createElement(Y8,{match:c,routeContext:{outlet:u,matches:T,isDataRoute:r!=null},children:E})};return r&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?N.createElement(X8,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):S()},null)}var IE=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(IE||{}),PE=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(PE||{});function J8(t){let e=N.useContext(S_);return e||br(!1),e}function Z8(t){let e=N.useContext(H8);return e||br(!1),e}function eF(t){let e=N.useContext(Ka);return e||br(!1),e}function RE(t){let e=eF(),r=e.matches[e.matches.length-1];return r.route.id||br(!1),r.route.id}function tF(){var t;let e=N.useContext(kE),r=Z8(),n=RE();return e||((t=r.errors)==null?void 0:t[n])}function rF(){let{router:t}=J8(IE.UseNavigateStable),e=RE(PE.UseNavigateStable),r=N.useRef(!1);return DE(()=>{r.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,op({fromRouteId:e},s)))},[t,e])}function Vs(t){br(!1)}function nF(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Lo.Pop,navigator:s,static:a=!1}=t;im()&&br(!1);let u=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:u,navigator:s,static:a}),[u,s,a]);typeof n=="string"&&(n=ju(n));let{pathname:h="/",search:p="",hash:g="",state:T=null,key:S="default"}=n,E=N.useMemo(()=>{let v=EE(h,u);return v==null?null:{location:{pathname:v,search:p,hash:g,state:T,key:S},navigationType:i}},[u,h,p,g,T,S,i]);return E==null?null:N.createElement(rm.Provider,{value:c},N.createElement(nm.Provider,{children:r,value:E}))}function iF(t){let{children:e,location:r}=t;return q8(Hv(e),r)}new Promise(()=>{});function Hv(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,i)=>{if(!N.isValidElement(n))return;let s=[...e,i];if(n.type===N.Fragment){r.push.apply(r,Hv(n.props.children,s));return}n.type!==Vs&&br(!1),!n.props.index||!n.props.children||br(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Hv(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function sF(t,e){let r=Vv(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const oF="startTransition",OS=Hf[oF];function aF(t){let{basename:e,children:r,future:n,window:i}=t,s=N.useRef();s.current==null&&(s.current=g8({window:i,v5Compat:!0}));let a=s.current,[u,c]=N.useState({action:a.action,location:a.location}),{v7_startTransition:h}=n||{},p=N.useCallback(g=>{h&&OS?OS(()=>c(g)):c(g)},[c,h]);return N.useLayoutEffect(()=>a.listen(p),[a,p]),N.createElement(nF,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:a})}var LS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(LS||(LS={}));var MS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MS||(MS={}));function T_(t){let e=N.useRef(Vv(t)),r=N.useRef(!1),n=Uu(),i=N.useMemo(()=>sF(n.search,r.current?null:e.current),[n.search]),s=zu(),a=N.useCallback((u,c)=>{const h=Vv(typeof u=="function"?u(i):u);r.current=!0,s("?"+h,c)},[s,i]);return[i,a]}var $c={},NS;function lF(){if(NS)return $c;NS=1;var t=ti();Object.defineProperty($c,"__esModule",{value:!0}),$c.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7a.9959.9959 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"}),"KeyboardArrowDownRounded");return $c.default=n,$c}var uF=lF();const cF=mr(uF);var jc={},BS;function dF(){if(BS)return jc;BS=1;var t=ti();Object.defineProperty(jc,"__esModule",{value:!0}),jc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");return jc.default=n,jc}var hF=dF();const fF=mr(hF);var Uc={},FS;function pF(){if(FS)return Uc;FS=1;var t=ti();Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2zm0 14H3V8h18v12zM9 10v8l7-4z"}),"LiveTv");return Uc.default=n,Uc}var mF=pF();const gF=mr(mF);var zc={},$S;function vF(){if($S)return zc;$S=1;var t=ti();Object.defineProperty(zc,"__esModule",{value:!0}),zc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"}),"Theaters");return zc.default=n,zc}var yF=vF();const _F=mr(yF);var Hc={},jS;function xF(){if(jS)return Hc;jS=1;var t=ti();Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z"}),"Tv");return Hc.default=n,Hc}var bF=xF();const SF=mr(bF);var Vc={},US;function TF(){if(US)return Vc;US=1;var t=ti();Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"}),"BookmarkBorder");return Vc.default=n,Vc}var CF=TF();const EF=mr(CF),OE=[{url:Ir.home,icon:L.jsx(fF,{fontSize:"small"}),text:"Dashboard"},{url:Ir.liveTv,icon:L.jsx(gF,{fontSize:"small"}),text:"Live TV"},{url:Ir.movies,icon:L.jsx(_F,{fontSize:"small"}),text:"Movies"},{url:Ir.tvShows,icon:L.jsx(SF,{fontSize:"small"}),text:"TV Shows"},{url:Ir.watchlist,icon:L.jsx(EF,{fontSize:"small"}),text:"Watchlist"}],wF=()=>{const t=Uu(),e=zu();return L.jsx(Ed,{size:"sm",sx:{"--ListItem-radius":"8px","--List-gap":"4px"},children:L.jsxs(Su,{nested:!0,children:[L.jsxs(RM,{children:["Browse",L.jsx(Bi,{size:"sm",variant:"plain",color:"primary",sx:{"--IconButton-size":"24px",ml:"auto"},children:L.jsx(cF,{fontSize:"small",color:"primary"})})]}),L.jsx(Ed,{"aria-labelledby":"nav-list-browse",sx:{"& .JoyListItemButton-root":{p:"8px"}},children:OE.map(r=>L.jsx(Su,{children:L.jsxs(p_,{selected:t.pathname===r.url,onClick:()=>e(r.url),children:[L.jsx(bE,{children:r.icon}),L.jsx(jv,{children:r.text})]})},r.url))})]})})},kF=()=>{const t=Uu(),e=zu();return L.jsx(L.Fragment,{children:L.jsx(Ed,{role:"menubar",orientation:"horizontal",size:"sm",sx:{"--List-radius":"8px","--List-padding":"4px","--List-gap":"8px","--ListItem-gap":"0px",display:{xs:"none",sm:"none",md:"inline-flex"}},children:OE.map(r=>L.jsx(Su,{role:"none",children:L.jsxs(p_,{role:"menuitem",selected:t.pathname===r.url,onClick:()=>e(r.url),children:[L.jsx(bE,{children:r.icon}),r.text]})},r.url))})})},qd=qA,Vt=RA,bs=t=>t.app,DF=xs(bs,t=>t.status),sm=xs(bs,t=>t.accountInfo),LE=xs(bs,t=>t.liveStreams),om=xs(bs,t=>t.vodStreams),am=xs(bs,t=>t.seriesStreams),AF=xs(bs,t=>t.liveCategories),IF=xs(bs,t=>t.vodCategories),PF=xs(bs,t=>t.seriesCategories),C_=xs(bs,t=>t.watchlist),E_=xs(sm,t=>{var e,r,n,i,s;return`${window.location.protocol==="https:"?"https":(e=t.server_info)==null?void 0:e.server_protocol}://${(r=t.server_info)==null?void 0:r.url}:${window.location.protocol==="https:"||((n=t.server_info)==null?void 0:n.server_protocol)==="https"?(i=t.server_info)==null?void 0:i.https_port:(s=t.server_info)==null?void 0:s.port}`}),RF=()=>{var T,S,E,v,C,P,R,D;const[t,e]=N.useState("ready"),{accountInfo:r,liveStreams:n,vodStreams:i,seriesStreams:s,watchlist:a,lastFetchedAccountInfo:u}=Vt(bs),c=qd();console.log(r);const h=()=>{c(Ip({}))},p=async()=>{e("loading");try{await Promise.all([c(Ry()).unwrap(),c(Oy()).unwrap(),c(Ly()).unwrap(),c(By()).unwrap(),c(Ny()).unwrap(),c(My()).unwrap()])}catch(U){console.log(U)}e("ready")},g=()=>{c(gP())};return L.jsx(Or,{sx:{width:"100%",height:"100%",overflow:"auto",paddingBottom:5},children:L.jsx(Jp,{orientation:"horizontal",sx:{width:"100%","& > *":{"--stack-point":"500px",minWidth:"clamp(0px, (calc(var(--stack-point) - 2 * var(--Card-padding) - 2 * var(--variant-borderWidth, 0px)) + 1px - 100%) * 999, 100%)"}},children:L.jsxs(Zp,{sx:{display:"flex",justifyContent:"center"},children:[L.jsx(nt,{level:"title-lg",justifyContent:"center",display:"flex",paddingBottom:5,children:"Your Account"}),L.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",flexGrow:1,columnGap:40,rowGap:5},children:[L.jsx(Jr,{children:L.jsx("b",{children:"Provider"})}),L.jsx(Jr,{children:(T=r.server_info)==null?void 0:T.url}),L.jsx(Jr,{children:L.jsx("b",{children:"Username"})}),L.jsx(Jr,{children:(S=r.user_info)==null?void 0:S.username}),L.jsx(Jr,{children:L.jsx("b",{children:"Account Status"})}),L.jsx(Jr,{children:(E=r.user_info)==null?void 0:E.status}),L.jsx(Jr,{children:L.jsx("b",{children:"Creation Date"})}),L.jsx(Jr,{children:E1(((v=r.user_info)==null?void 0:v.created_at)??0).toDateString()}),L.jsx(Jr,{children:L.jsx("b",{children:"Expire Date"})}),L.jsx(Jr,{children:E1(((C=r.user_info)==null?void 0:C.exp_date)??0).toDateString()}),L.jsx(Jr,{children:L.jsx("b",{children:"Is Trial"})}),L.jsx(Jr,{children:((P=r.user_info)==null?void 0:P.is_trial)===1?"Yes":"No"}),L.jsx(Jr,{children:L.jsx("b",{children:"Max Connections"})}),L.jsx(Jr,{children:(R=r.user_info)==null?void 0:R.max_connections}),L.jsx(Jr,{children:L.jsx("b",{children:"Active Connections"})}),L.jsx(Jr,{children:(D=r.user_info)==null?void 0:D.active_cons})]}),L.jsxs(tm,{sx:{bgcolor:"background.level1",borderRadius:"sm",p:1.5,my:1.5,display:"flex",gap:2,"& > div":{flex:1},justifyContent:"center",alignContent:"center"},children:[L.jsxs("div",{children:[L.jsx(nt,{level:"body-xs",fontWeight:"lg",justifyContent:"center",display:"flex",children:"Live Channels"}),L.jsx(nt,{fontWeight:"lg",justifyContent:"center",display:"flex",children:n.length})]}),L.jsxs("div",{children:[L.jsx(nt,{level:"body-xs",fontWeight:"lg",justifyContent:"center",display:"flex",children:"Movies"}),L.jsx(nt,{fontWeight:"lg",justifyContent:"center",display:"flex",children:i.length})]}),L.jsxs("div",{children:[L.jsx(nt,{level:"body-xs",fontWeight:"lg",justifyContent:"center",display:"flex",children:"TV Shows"}),L.jsx(nt,{fontWeight:"lg",justifyContent:"center",display:"flex",children:s.length})]}),L.jsxs("div",{children:[L.jsx(nt,{level:"body-xs",fontWeight:"lg",justifyContent:"center",display:"flex",children:"Watchlist"}),L.jsx(nt,{fontWeight:"lg",justifyContent:"center",display:"flex",children:a.length})]})]}),L.jsxs(v_,{spacing:5,sx:{justifyContent:"space-between",margin:5},children:[L.jsx(Mi,{variant:"solid",color:"danger",onClick:g,children:"Sign out"}),L.jsx(Mi,{variant:"solid",color:"primary",loading:t==="loading",loadingPosition:"start",onClick:p,children:"Update playlist"})]}),L.jsxs("div",{style:{display:"flex",justifyContent:"center",marginTop:5},children:[L.jsxs(nt,{children:["Last refreshed:"," "+new Date(u).toLocaleTimeString()]}),L.jsx(em,{sx:{marginLeft:2},onClick:h,children:"Refresh Account Information"})]})]})})})},Jr=Fe(tm)(({theme:t})=>({backgroundColor:t.palette.background.level1,...t.typography["body-sm"],padding:t.spacing(1),textAlign:"center",borderRadius:4,color:t.vars.palette.text.secondary})),OF=x_(L.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),LF=x_(L.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");var $0,zS;function lm(){if(zS)return $0;zS=1;var t;return typeof window<"u"?t=window:typeof zf<"u"?t=zf:typeof self<"u"?t=self:t={},$0=t,$0}var MF=lm();const ee=mr(MF),NF={},BF=Object.freeze(Object.defineProperty({__proto__:null,default:NF},Symbol.toStringTag,{value:"Module"})),FF=E2(BF);var j0,HS;function ME(){if(HS)return j0;HS=1;var t=typeof zf<"u"?zf:typeof window<"u"?window:{},e=FF,r;return typeof document<"u"?r=document:(r=t["__GLOBAL_DOCUMENT_CACHE@4"],r||(r=t["__GLOBAL_DOCUMENT_CACHE@4"]=e)),j0=r,j0}var $F=ME();const Ie=mr($F);var bf={exports:{}},U0={exports:{}},VS;function jF(){return VS||(VS=1,(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(U0)),U0.exports}var z0,qS;function UF(){if(qS)return z0;qS=1,z0=e;var t=Object.prototype.toString;function e(r){if(!r)return!1;var n=t.call(r);return n==="[object Function]"||typeof r=="function"&&n!=="[object RegExp]"||typeof window<"u"&&(r===window.setTimeout||r===window.alert||r===window.confirm||r===window.prompt)}return z0}var H0,WS;function zF(){if(WS)return H0;WS=1;function t(i,s){var a=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a)return(a=a.call(i)).next.bind(a);if(Array.isArray(i)||(a=e(i))||s){a&&(i=a);var u=0;return function(){return u>=i.length?{done:!0}:{done:!1,value:i[u++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(i,s){if(i){if(typeof i=="string")return r(i,s);var a=Object.prototype.toString.call(i).slice(8,-1);if(a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set")return Array.from(i);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(i,s)}}function r(i,s){(s==null||s>i.length)&&(s=i.length);for(var a=0,u=new Array(s);a<s;a++)u[a]=i[a];return u}var n=(function(){function i(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var s=i.prototype;return s.getIsEnabled=function(){return this.enabled_},s.enable=function(){this.enabled_=!0},s.disable=function(){this.enabled_=!1},s.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},s.addInterceptor=function(u,c){this.typeToInterceptorsMap_.has(u)||this.typeToInterceptorsMap_.set(u,new Set);var h=this.typeToInterceptorsMap_.get(u);return h.has(c)?!1:(h.add(c),!0)},s.removeInterceptor=function(u,c){var h=this.typeToInterceptorsMap_.get(u);return h&&h.has(c)?(h.delete(c),!0):!1},s.clearInterceptorsByType=function(u){var c=this.typeToInterceptorsMap_.get(u);return c?(this.typeToInterceptorsMap_.delete(u),this.typeToInterceptorsMap_.set(u,new Set),!0):!1},s.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},s.getForType=function(u){return this.typeToInterceptorsMap_.get(u)||new Set},s.execute=function(u,c){for(var h=this.getForType(u),p=t(h),g;!(g=p()).done;){var T=g.value;try{c=T(c)}catch{}}return c},i})();return H0=n,H0}var V0,GS;function HF(){if(GS)return V0;GS=1;var t=(function(){function r(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var n=r.prototype;return n.getIsEnabled=function(){return this.enabled_},n.enable=function(){this.enabled_=!0},n.disable=function(){this.enabled_=!1},n.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},n.getMaxAttempts=function(){return this.maxAttempts_},n.setMaxAttempts=function(s){this.maxAttempts_=s},n.getDelayFactor=function(){return this.delayFactor_},n.setDelayFactor=function(s){this.delayFactor_=s},n.getFuzzFactor=function(){return this.fuzzFactor_},n.setFuzzFactor=function(s){this.fuzzFactor_=s},n.getInitialDelay=function(){return this.initialDelay_},n.setInitialDelay=function(s){this.initialDelay_=s},n.createRetry=function(s){var a=s===void 0?{}:s,u=a.maxAttempts,c=a.delayFactor,h=a.fuzzFactor,p=a.initialDelay;return new e({maxAttempts:u||this.maxAttempts_,delayFactor:c||this.delayFactor_,fuzzFactor:h||this.fuzzFactor_,initialDelay:p||this.initialDelay_})},r})(),e=(function(){function r(i){this.maxAttempts_=i.maxAttempts,this.delayFactor_=i.delayFactor,this.fuzzFactor_=i.fuzzFactor,this.currentDelay_=i.initialDelay,this.currentAttempt_=1}var n=r.prototype;return n.moveToNextAttempt=function(){this.currentAttempt_++;var s=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+s},n.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},n.getCurrentDelay=function(){return this.currentDelay_},n.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},n.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},n.getCurrentFuzzedDelay=function(){var s=this.getCurrentMinPossibleDelay(),a=this.getCurrentMaxPossibleDelay();return s+Math.random()*(a-s)},r})();return V0=t,V0}var q0,KS;function VF(){if(KS)return q0;KS=1;var t=lm(),e=function(i,s){return s===void 0&&(s=!1),function(a,u,c){if(a){i(a);return}if(u.statusCode>=400&&u.statusCode<=599){var h=c;if(s)if(t.TextDecoder){var p=r(u.headers&&u.headers["content-type"]);try{h=new TextDecoder(p).decode(c)}catch{}}else h=String.fromCharCode.apply(null,new Uint8Array(c));i({cause:h});return}i(null,c)}};function r(n){return n===void 0&&(n=""),n.toLowerCase().split(";").reduce(function(i,s){var a=s.split("="),u=a[0],c=a[1];return u.trim()==="charset"?c.trim():i},"utf-8")}return q0=e,q0}var XS;function qF(){if(XS)return bf.exports;XS=1;var t=lm(),e=jF(),r=UF(),n=zF(),i=HF();h.httpHandler=VF(),h.requestInterceptorsStorage=new n,h.responseInterceptorsStorage=new n,h.retryManager=new i;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var s=function(E){var v={};return E&&E.trim().split(`
`).forEach(function(C){var P=C.indexOf(":"),R=C.slice(0,P).trim().toLowerCase(),D=C.slice(P+1).trim();typeof v[R]>"u"?v[R]=D:Array.isArray(v[R])?v[R].push(D):v[R]=[v[R],D]}),v};bf.exports=h,bf.exports.default=h,h.XMLHttpRequest=t.XMLHttpRequest||T,h.XDomainRequest="withCredentials"in new h.XMLHttpRequest?h.XMLHttpRequest:t.XDomainRequest,a(["get","put","post","patch","head","delete"],function(S){h[S==="delete"?"del":S]=function(E,v,C){return v=c(E,v,C),v.method=S.toUpperCase(),p(v)}});function a(S,E){for(var v=0;v<S.length;v++)E(S[v])}function u(S){for(var E in S)if(S.hasOwnProperty(E))return!1;return!0}function c(S,E,v){var C=S;return r(E)?(v=E,typeof S=="string"&&(C={uri:S})):C=e({},E,{uri:S}),C.callback=v,C}function h(S,E,v){return E=c(S,E,v),p(E)}function p(S){if(typeof S.callback>"u")throw new Error("callback argument missing");if(S.requestType&&h.requestInterceptorsStorage.getIsEnabled()){var E={uri:S.uri||S.url,headers:S.headers||{},body:S.body,metadata:S.metadata||{},retry:S.retry,timeout:S.timeout},v=h.requestInterceptorsStorage.execute(S.requestType,E);S.uri=v.uri,S.headers=v.headers,S.body=v.body,S.metadata=v.metadata,S.retry=v.retry,S.timeout=v.timeout}var C=!1,P=function(J,ie,se){C||(C=!0,S.callback(J,ie,se))};function R(){B.readyState===4&&!h.responseInterceptorsStorage.getIsEnabled()&&setTimeout(A,0)}function D(){var K=void 0;if(B.response?K=B.response:K=B.responseText||g(B),ue)try{K=JSON.parse(K)}catch{}return K}function U(K){if(clearTimeout(ae),clearTimeout(S.retryTimeout),K instanceof Error||(K=new Error(""+(K||"Unknown XMLHttpRequest Error"))),K.statusCode=0,!W&&h.retryManager.getIsEnabled()&&S.retry&&S.retry.shouldRetry()){S.retryTimeout=setTimeout(function(){S.retry.moveToNextAttempt(),S.xhr=B,p(S)},S.retry.getCurrentFuzzedDelay());return}if(S.requestType&&h.responseInterceptorsStorage.getIsEnabled()){var J={headers:Z.headers||{},body:Z.body,responseUrl:B.responseURL,responseType:B.responseType},ie=h.responseInterceptorsStorage.execute(S.requestType,J);Z.body=ie.body,Z.headers=ie.headers}return P(K,Z)}function A(){if(!W){var K;clearTimeout(ae),clearTimeout(S.retryTimeout),S.useXDR&&B.status===void 0?K=200:K=B.status===1223?204:B.status;var J=Z,ie=null;if(K!==0?(J={body:D(),statusCode:K,method:M,headers:{},url:O,rawRequest:B},B.getAllResponseHeaders&&(J.headers=s(B.getAllResponseHeaders()))):ie=new Error("Internal XMLHttpRequest Error"),S.requestType&&h.responseInterceptorsStorage.getIsEnabled()){var se={headers:J.headers||{},body:J.body,responseUrl:B.responseURL,responseType:B.responseType},V=h.responseInterceptorsStorage.execute(S.requestType,se);J.body=V.body,J.headers=V.headers}return P(ie,J,J.body)}}var B=S.xhr||null;B||(S.cors||S.useXDR?B=new h.XDomainRequest:B=new h.XMLHttpRequest);var $,W,O=B.url=S.uri||S.url,M=B.method=S.method||"GET",X=S.body||S.data,re=B.headers=S.headers||{},Q=!!S.sync,ue=!1,ae,Z={body:void 0,headers:{},statusCode:0,method:M,url:O,rawRequest:B};if("json"in S&&S.json!==!1&&(ue=!0,re.accept||re.Accept||(re.Accept="application/json"),M!=="GET"&&M!=="HEAD"&&(re["content-type"]||re["Content-Type"]||(re["Content-Type"]="application/json"),X=JSON.stringify(S.json===!0?X:S.json))),B.onreadystatechange=R,B.onload=A,B.onerror=U,B.onprogress=function(){},B.onabort=function(){W=!0,clearTimeout(S.retryTimeout)},B.ontimeout=U,B.open(M,O,!Q,S.username,S.password),Q||(B.withCredentials=!!S.withCredentials),!Q&&S.timeout>0&&(ae=setTimeout(function(){if(!W){W=!0,B.abort("timeout");var K=new Error("XMLHttpRequest timeout");K.code="ETIMEDOUT",U(K)}},S.timeout)),B.setRequestHeader)for($ in re)re.hasOwnProperty($)&&B.setRequestHeader($,re[$]);else if(S.headers&&!u(S.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in S&&(B.responseType=S.responseType),"beforeSend"in S&&typeof S.beforeSend=="function"&&S.beforeSend(B),B.send(X||null),B}function g(S){try{if(S.responseType==="document")return S.responseXML;var E=S.responseXML&&S.responseXML.documentElement.nodeName==="parsererror";if(S.responseType===""&&!E)return S.responseXML}catch{}return null}function T(){}return bf.exports}var WF=qF();const NE=mr(WF);var W0={exports:{}},G0,YS;function GF(){if(YS)return G0;YS=1;var t=ME(),e=Object.create||(function(){function O(){}return function(M){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return O.prototype=M,new O}})();function r(O,M){this.name="ParsingError",this.code=O.code,this.message=M||O.message}r.prototype=e(Error.prototype),r.prototype.constructor=r,r.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function n(O){function M(re,Q,ue,ae){return(re|0)*3600+(Q|0)*60+(ue|0)+(ae|0)/1e3}var X=O.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return X?X[3]?M(X[1],X[2],X[3].replace(":",""),X[4]):X[1]>59?M(X[1],X[2],0,X[4]):M(0,X[1],X[2],X[4]):null}function i(){this.values=e(null)}i.prototype={set:function(O,M){!this.get(O)&&M!==""&&(this.values[O]=M)},get:function(O,M,X){return X?this.has(O)?this.values[O]:M[X]:this.has(O)?this.values[O]:M},has:function(O){return O in this.values},alt:function(O,M,X){for(var re=0;re<X.length;++re)if(M===X[re]){this.set(O,M);break}},integer:function(O,M){/^-?\d+$/.test(M)&&this.set(O,parseInt(M,10))},percent:function(O,M){return M.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(M=parseFloat(M),M>=0&&M<=100)?(this.set(O,M),!0):!1}};function s(O,M,X,re){var Q=re?O.split(re):[O];for(var ue in Q)if(typeof Q[ue]=="string"){var ae=Q[ue].split(X);if(ae.length===2){var Z=ae[0].trim(),K=ae[1].trim();M(Z,K)}}}function a(O,M,X){var re=O;function Q(){var Z=n(O);if(Z===null)throw new r(r.Errors.BadTimeStamp,"Malformed timestamp: "+re);return O=O.replace(/^[^\sa-zA-Z-]+/,""),Z}function ue(Z,K){var J=new i;s(Z,function(ie,se){switch(ie){case"region":for(var V=X.length-1;V>=0;V--)if(X[V].id===se){J.set(ie,X[V].region);break}break;case"vertical":J.alt(ie,se,["rl","lr"]);break;case"line":var ce=se.split(","),Te=ce[0];J.integer(ie,Te),J.percent(ie,Te)&&J.set("snapToLines",!1),J.alt(ie,Te,["auto"]),ce.length===2&&J.alt("lineAlign",ce[1],["start","center","end"]);break;case"position":ce=se.split(","),J.percent(ie,ce[0]),ce.length===2&&J.alt("positionAlign",ce[1],["start","center","end"]);break;case"size":J.percent(ie,se);break;case"align":J.alt(ie,se,["start","center","end","left","right"]);break}},/:/,/\s/),K.region=J.get("region",null),K.vertical=J.get("vertical","");try{K.line=J.get("line","auto")}catch{}K.lineAlign=J.get("lineAlign","start"),K.snapToLines=J.get("snapToLines",!0),K.size=J.get("size",100);try{K.align=J.get("align","center")}catch{K.align=J.get("align","middle")}try{K.position=J.get("position","auto")}catch{K.position=J.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},K.align)}K.positionAlign=J.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},K.align)}function ae(){O=O.replace(/^\s+/,"")}if(ae(),M.startTime=Q(),ae(),O.substr(0,3)!=="-->")throw new r(r.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+re);O=O.substr(3),ae(),M.endTime=Q(),ae(),ue(O,M)}var u=t.createElement&&t.createElement("textarea"),c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},h={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},g={rt:"ruby"};function T(O,M){function X(){if(!M)return null;function Te(Se){return M=M.substr(Se.length),Se}var Ce=M.match(/^([^<]*)(<[^>]*>?)?/);return Te(Ce[1]?Ce[1]:Ce[2])}function re(Te){return u.innerHTML=Te,Te=u.textContent,u.textContent="",Te}function Q(Te,Ce){return!g[Ce.localName]||g[Ce.localName]===Te.localName}function ue(Te,Ce){var Se=c[Te];if(!Se)return null;var Ne=O.document.createElement(Se),Ee=p[Te];return Ee&&Ce&&(Ne[Ee]=Ce.trim()),Ne}for(var ae=O.document.createElement("div"),Z=ae,K,J=[];(K=X())!==null;){if(K[0]==="<"){if(K[1]==="/"){J.length&&J[J.length-1]===K.substr(2).replace(">","")&&(J.pop(),Z=Z.parentNode);continue}var ie=n(K.substr(1,K.length-2)),se;if(ie){se=O.document.createProcessingInstruction("timestamp",ie),Z.appendChild(se);continue}var V=K.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!V||(se=ue(V[1],V[3]),!se)||!Q(Z,se))continue;if(V[2]){var ce=V[2].split(".");ce.forEach(function(Te){var Ce=/^bg_/.test(Te),Se=Ce?Te.slice(3):Te;if(h.hasOwnProperty(Se)){var Ne=Ce?"background-color":"color",Ee=h[Se];se.style[Ne]=Ee}}),se.className=ce.join(" ")}J.push(V[1]),Z.appendChild(se),Z=se;continue}Z.appendChild(O.document.createTextNode(re(K)))}return ae}var S=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function E(O){for(var M=0;M<S.length;M++){var X=S[M];if(O>=X[0]&&O<=X[1])return!0}return!1}function v(O){var M=[],X="",re;if(!O||!O.childNodes)return"ltr";function Q(Z,K){for(var J=K.childNodes.length-1;J>=0;J--)Z.push(K.childNodes[J])}function ue(Z){if(!Z||!Z.length)return null;var K=Z.pop(),J=K.textContent||K.innerText;if(J){var ie=J.match(/^.*(\n|\r)/);return ie?(Z.length=0,ie[0]):J}if(K.tagName==="ruby")return ue(Z);if(K.childNodes)return Q(Z,K),ue(Z)}for(Q(M,O);X=ue(M);)for(var ae=0;ae<X.length;ae++)if(re=X.charCodeAt(ae),E(re))return"rtl";return"ltr"}function C(O){if(typeof O.line=="number"&&(O.snapToLines||O.line>=0&&O.line<=100))return O.line;if(!O.track||!O.track.textTrackList||!O.track.textTrackList.mediaElement)return-1;for(var M=O.track,X=M.textTrackList,re=0,Q=0;Q<X.length&&X[Q]!==M;Q++)X[Q].mode==="showing"&&re++;return++re*-1}function P(){}P.prototype.applyStyles=function(O,M){M=M||this.div;for(var X in O)O.hasOwnProperty(X)&&(M.style[X]=O[X])},P.prototype.formatStyle=function(O,M){return O===0?0:O+M};function R(O,M,X){P.call(this),this.cue=M,this.cueDiv=T(O,M.text);var re={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:M.vertical===""?"horizontal-tb":M.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(re,this.cueDiv),this.div=O.document.createElement("div"),re={direction:v(this.cueDiv),writingMode:M.vertical===""?"horizontal-tb":M.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:M.align==="middle"?"center":M.align,font:X.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(re),this.div.appendChild(this.cueDiv);var Q=0;switch(M.positionAlign){case"start":case"line-left":Q=M.position;break;case"center":Q=M.position-M.size/2;break;case"end":case"line-right":Q=M.position-M.size;break}M.vertical===""?this.applyStyles({left:this.formatStyle(Q,"%"),width:this.formatStyle(M.size,"%")}):this.applyStyles({top:this.formatStyle(Q,"%"),height:this.formatStyle(M.size,"%")}),this.move=function(ue){this.applyStyles({top:this.formatStyle(ue.top,"px"),bottom:this.formatStyle(ue.bottom,"px"),left:this.formatStyle(ue.left,"px"),right:this.formatStyle(ue.right,"px"),height:this.formatStyle(ue.height,"px"),width:this.formatStyle(ue.width,"px")})}}R.prototype=e(P.prototype),R.prototype.constructor=R;function D(O){var M,X,re,Q;if(O.div){X=O.div.offsetHeight,re=O.div.offsetWidth,Q=O.div.offsetTop;var ue=(ue=O.div.childNodes)&&(ue=ue[0])&&ue.getClientRects&&ue.getClientRects();O=O.div.getBoundingClientRect(),M=ue?Math.max(ue[0]&&ue[0].height||0,O.height/ue.length):0}this.left=O.left,this.right=O.right,this.top=O.top||Q,this.height=O.height||X,this.bottom=O.bottom||Q+(O.height||X),this.width=O.width||re,this.lineHeight=M!==void 0?M:O.lineHeight}D.prototype.move=function(O,M){switch(M=M!==void 0?M:this.lineHeight,O){case"+x":this.left+=M,this.right+=M;break;case"-x":this.left-=M,this.right-=M;break;case"+y":this.top+=M,this.bottom+=M;break;case"-y":this.top-=M,this.bottom-=M;break}},D.prototype.overlaps=function(O){return this.left<O.right&&this.right>O.left&&this.top<O.bottom&&this.bottom>O.top},D.prototype.overlapsAny=function(O){for(var M=0;M<O.length;M++)if(this.overlaps(O[M]))return!0;return!1},D.prototype.within=function(O){return this.top>=O.top&&this.bottom<=O.bottom&&this.left>=O.left&&this.right<=O.right},D.prototype.overlapsOppositeAxis=function(O,M){switch(M){case"+x":return this.left<O.left;case"-x":return this.right>O.right;case"+y":return this.top<O.top;case"-y":return this.bottom>O.bottom}},D.prototype.intersectPercentage=function(O){var M=Math.max(0,Math.min(this.right,O.right)-Math.max(this.left,O.left)),X=Math.max(0,Math.min(this.bottom,O.bottom)-Math.max(this.top,O.top)),re=M*X;return re/(this.height*this.width)},D.prototype.toCSSCompatValues=function(O){return{top:this.top-O.top,bottom:O.bottom-this.bottom,left:this.left-O.left,right:O.right-this.right,height:this.height,width:this.width}},D.getSimpleBoxPosition=function(O){var M=O.div?O.div.offsetHeight:O.tagName?O.offsetHeight:0,X=O.div?O.div.offsetWidth:O.tagName?O.offsetWidth:0,re=O.div?O.div.offsetTop:O.tagName?O.offsetTop:0;O=O.div?O.div.getBoundingClientRect():O.tagName?O.getBoundingClientRect():O;var Q={left:O.left,right:O.right,top:O.top||re,height:O.height||M,bottom:O.bottom||re+(O.height||M),width:O.width||X};return Q};function U(O,M,X,re){function Q(Se,Ne){for(var Ee,ve=new D(Se),Ae=1,Le=0;Le<Ne.length;Le++){for(;Se.overlapsOppositeAxis(X,Ne[Le])||Se.within(X)&&Se.overlapsAny(re);)Se.move(Ne[Le]);if(Se.within(X))return Se;var ze=Se.intersectPercentage(X);Ae>ze&&(Ee=new D(Se),Ae=ze),Se=new D(ve)}return Ee||ve}var ue=new D(M),ae=M.cue,Z=C(ae),K=[];if(ae.snapToLines){var J;switch(ae.vertical){case"":K=["+y","-y"],J="height";break;case"rl":K=["+x","-x"],J="width";break;case"lr":K=["-x","+x"],J="width";break}var ie=ue.lineHeight,se=ie*Math.round(Z),V=X[J]+ie,ce=K[0];Math.abs(se)>V&&(se=se<0?-1:1,se*=Math.ceil(V/ie)*ie),Z<0&&(se+=ae.vertical===""?X.height:X.width,K=K.reverse()),ue.move(ce,se)}else{var Te=ue.lineHeight/X.height*100;switch(ae.lineAlign){case"center":Z-=Te/2;break;case"end":Z-=Te;break}switch(ae.vertical){case"":M.applyStyles({top:M.formatStyle(Z,"%")});break;case"rl":M.applyStyles({left:M.formatStyle(Z,"%")});break;case"lr":M.applyStyles({right:M.formatStyle(Z,"%")});break}K=["+y","-x","+x","-y"],ue=new D(M)}var Ce=Q(ue,K);M.move(Ce.toCSSCompatValues(X))}function A(){}A.StringDecoder=function(){return{decode:function(O){if(!O)return"";if(typeof O!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(O))}}},A.convertCueToDOMTree=function(O,M){return!O||!M?null:T(O,M)};var B=.05,$="sans-serif",W="1.5%";return A.processCues=function(O,M,X){if(!O||!M||!X)return null;for(;X.firstChild;)X.removeChild(X.firstChild);var re=O.document.createElement("div");re.style.position="absolute",re.style.left="0",re.style.right="0",re.style.top="0",re.style.bottom="0",re.style.margin=W,X.appendChild(re);function Q(ie){for(var se=0;se<ie.length;se++)if(ie[se].hasBeenReset||!ie[se].displayState)return!0;return!1}if(!Q(M)){for(var ue=0;ue<M.length;ue++)re.appendChild(M[ue].displayState);return}var ae=[],Z=D.getSimpleBoxPosition(re),K=Math.round(Z.height*B*100)/100,J={font:K+"px "+$};(function(){for(var ie,se,V=0;V<M.length;V++)se=M[V],ie=new R(O,se,J),re.appendChild(ie.div),U(O,ie,Z,ae),se.displayState=ie.div,ae.push(D.getSimpleBoxPosition(ie))})()},A.Parser=function(O,M,X){X||(X=M,M={}),M||(M={}),this.window=O,this.vttjs=M,this.state="INITIAL",this.buffer="",this.decoder=X||new TextDecoder("utf8"),this.regionList=[]},A.Parser.prototype={reportOrThrowError:function(O){if(O instanceof r)this.onparsingerror&&this.onparsingerror(O);else throw O},parse:function(O){var M=this;O&&(M.buffer+=M.decoder.decode(O,{stream:!0}));function X(){for(var ie=M.buffer,se=0;se<ie.length&&ie[se]!=="\r"&&ie[se]!==`
`;)++se;var V=ie.substr(0,se);return ie[se]==="\r"&&++se,ie[se]===`
`&&++se,M.buffer=ie.substr(se),V}function re(ie){var se=new i;if(s(ie,function(ce,Te){switch(ce){case"id":se.set(ce,Te);break;case"width":se.percent(ce,Te);break;case"lines":se.integer(ce,Te);break;case"regionanchor":case"viewportanchor":var Ce=Te.split(",");if(Ce.length!==2)break;var Se=new i;if(Se.percent("x",Ce[0]),Se.percent("y",Ce[1]),!Se.has("x")||!Se.has("y"))break;se.set(ce+"X",Se.get("x")),se.set(ce+"Y",Se.get("y"));break;case"scroll":se.alt(ce,Te,["up"]);break}},/=/,/\s/),se.has("id")){var V=new(M.vttjs.VTTRegion||M.window.VTTRegion);V.width=se.get("width",100),V.lines=se.get("lines",3),V.regionAnchorX=se.get("regionanchorX",0),V.regionAnchorY=se.get("regionanchorY",100),V.viewportAnchorX=se.get("viewportanchorX",0),V.viewportAnchorY=se.get("viewportanchorY",100),V.scroll=se.get("scroll",""),M.onregion&&M.onregion(V),M.regionList.push({id:se.get("id"),region:V})}}function Q(ie){var se=new i;s(ie,function(V,ce){switch(V){case"MPEGT":se.integer(V+"S",ce);break;case"LOCA":se.set(V+"L",n(ce));break}},/[^\d]:/,/,/),M.ontimestampmap&&M.ontimestampmap({MPEGTS:se.get("MPEGTS"),LOCAL:se.get("LOCAL")})}function ue(ie){ie.match(/X-TIMESTAMP-MAP/)?s(ie,function(se,V){switch(se){case"X-TIMESTAMP-MAP":Q(V);break}},/=/):s(ie,function(se,V){switch(se){case"Region":re(V);break}},/:/)}try{var ae;if(M.state==="INITIAL"){if(!/\r\n|\n/.test(M.buffer))return this;ae=X();var Z=ae.match(/^WEBVTT([ \t].*)?$/);if(!Z||!Z[0])throw new r(r.Errors.BadSignature);M.state="HEADER"}for(var K=!1;M.buffer;){if(!/\r\n|\n/.test(M.buffer))return this;switch(K?K=!1:ae=X(),M.state){case"HEADER":/:/.test(ae)?ue(ae):ae||(M.state="ID");continue;case"NOTE":ae||(M.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(ae)){M.state="NOTE";break}if(!ae)continue;M.cue=new(M.vttjs.VTTCue||M.window.VTTCue)(0,0,"");try{M.cue.align="center"}catch{M.cue.align="middle"}if(M.state="CUE",ae.indexOf("-->")===-1){M.cue.id=ae;continue}case"CUE":try{a(ae,M.cue,M.regionList)}catch(ie){M.reportOrThrowError(ie),M.cue=null,M.state="BADCUE";continue}M.state="CUETEXT";continue;case"CUETEXT":var J=ae.indexOf("-->")!==-1;if(!ae||J&&(K=!0)){M.oncue&&M.oncue(M.cue),M.cue=null,M.state="ID";continue}M.cue.text&&(M.cue.text+=`
`),M.cue.text+=ae.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":ae||(M.state="ID");continue}}}catch(ie){M.reportOrThrowError(ie),M.state==="CUETEXT"&&M.cue&&M.oncue&&M.oncue(M.cue),M.cue=null,M.state=M.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var O=this;try{if(O.buffer+=O.decoder.decode(),(O.cue||O.state==="HEADER")&&(O.buffer+=`

`,O.parse()),O.state==="INITIAL")throw new r(r.Errors.BadSignature)}catch(M){O.reportOrThrowError(M)}return O.onflush&&O.onflush(),this}},G0=A,G0}var K0,QS;function KF(){if(QS)return K0;QS=1;var t="auto",e={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function n(a){if(typeof a!="string")return!1;var u=e[a.toLowerCase()];return u?a.toLowerCase():!1}function i(a){if(typeof a!="string")return!1;var u=r[a.toLowerCase()];return u?a.toLowerCase():!1}function s(a,u,c){this.hasBeenReset=!1;var h="",p=!1,g=a,T=u,S=c,E=null,v="",C=!0,P="auto",R="start",D="auto",U="auto",A=100,B="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return h},set:function($){h=""+$}},pauseOnExit:{enumerable:!0,get:function(){return p},set:function($){p=!!$}},startTime:{enumerable:!0,get:function(){return g},set:function($){if(typeof $!="number")throw new TypeError("Start time must be set to a number.");g=$,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return T},set:function($){if(typeof $!="number")throw new TypeError("End time must be set to a number.");T=$,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return S},set:function($){S=""+$,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return E},set:function($){E=$,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return v},set:function($){var W=n($);if(W===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");v=W,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return C},set:function($){C=!!$,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return P},set:function($){if(typeof $!="number"&&$!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");P=$,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return R},set:function($){var W=i($);W?(R=W,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return D},set:function($){if($<0||$>100)throw new Error("Position must be between 0 and 100.");D=$,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return U},set:function($){var W=i($);W?(U=W,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return A},set:function($){if($<0||$>100)throw new Error("Size must be between 0 and 100.");A=$,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return B},set:function($){var W=i($);if(!W)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");B=W,this.hasBeenReset=!0}}}),this.displayState=void 0}return s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},K0=s,K0}var X0,JS;function XF(){if(JS)return X0;JS=1;var t={"":!0,up:!0};function e(i){if(typeof i!="string")return!1;var s=t[i.toLowerCase()];return s?i.toLowerCase():!1}function r(i){return typeof i=="number"&&i>=0&&i<=100}function n(){var i=100,s=3,a=0,u=100,c=0,h=100,p="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return i},set:function(g){if(!r(g))throw new Error("Width must be between 0 and 100.");i=g}},lines:{enumerable:!0,get:function(){return s},set:function(g){if(typeof g!="number")throw new TypeError("Lines must be set to a number.");s=g}},regionAnchorY:{enumerable:!0,get:function(){return u},set:function(g){if(!r(g))throw new Error("RegionAnchorX must be between 0 and 100.");u=g}},regionAnchorX:{enumerable:!0,get:function(){return a},set:function(g){if(!r(g))throw new Error("RegionAnchorY must be between 0 and 100.");a=g}},viewportAnchorY:{enumerable:!0,get:function(){return h},set:function(g){if(!r(g))throw new Error("ViewportAnchorY must be between 0 and 100.");h=g}},viewportAnchorX:{enumerable:!0,get:function(){return c},set:function(g){if(!r(g))throw new Error("ViewportAnchorX must be between 0 and 100.");c=g}},scroll:{enumerable:!0,get:function(){return p},set:function(g){var T=e(g);T===!1?console.warn("Scroll: an invalid or illegal string was specified."):p=T}}})}return X0=n,X0}var ZS;function YF(){if(ZS)return W0.exports;ZS=1;var t=lm(),e=W0.exports={WebVTT:GF(),VTTCue:KF(),VTTRegion:XF()};t.vttjs=e,t.WebVTT=e.WebVTT;var r=e.VTTCue,n=e.VTTRegion,i=t.VTTCue,s=t.VTTRegion;return e.shim=function(){t.VTTCue=r,t.VTTRegion=n},e.restore=function(){t.VTTCue=i,t.VTTRegion=s},t.VTTCue||e.shim(),W0.exports}var QF=YF();const eT=mr(QF);var tT="https://example.com",um=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=ee.location&&ee.location.href||"");var n=/^\/\//.test(e),i=!ee.location&&!/\/\//i.test(e);e=new ee.URL(e,ee.location||tT);var s=new URL(r,e);return i?s.href.slice(tT.length):n?s.href.slice(s.protocol.length):s.href},w_=(function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var s=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(s,1),s>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var s=i.length,a=0;a<s;++a)i[a].call(this,arguments[1]);else for(var u=Array.prototype.slice.call(arguments,1),c=i.length,h=0;h<c;++h)i[h].apply(this,u)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t})(),JF=function(e){return ee.atob?ee.atob(e):Buffer.from(e,"base64").toString("binary")};function BE(t){for(var e=JF(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class ZF extends w_{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const e$="	",Y0=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},t$=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},hn=function(t){const e={};if(!t)return e;const r=t.split(t$());let n=r.length,i;for(;n--;)r[n]!==""&&(i=/([^=]*)=(.*)/.exec(r[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e},rT=t=>{const e=t.split("x"),r={};return e[0]&&(r.width=parseInt(e[0],10)),e[1]&&(r.height=parseInt(e[1],10)),r};class r$ extends w_{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const u=a(e);return u===e?s:s.concat([u])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),r=/^#EXTM3U/.exec(s),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),r){n=z(Y0(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(s),r){if(n={type:"tag",tagType:"map"},r[1]){const a=hn(r[1]);a.URI&&(n.uri=a.URI),a.BYTERANGE&&(n.byterange=Y0(a.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),r){n={type:"tag",tagType:"stream-inf"},r[1]&&(n.attributes=hn(r[1]),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=rT(n.attributes.RESOLUTION)),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(s),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=hn(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(s),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(s),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(s),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=hn(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(s),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=hn(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=hn(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(e$)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=hn(r[1]),["DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/.test(n.attributes[a]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=Y0(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=hn(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/.test(n.attributes[a]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=hn(r[1]),["PART-TARGET"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=hn(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(n.attributes.hasOwnProperty(a)){n.attributes[a]=parseInt(n.attributes[a],10);const u=a==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[u]=n.attributes[a],delete n.attributes[a]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=hn(r[1]),["LAST-MSN","LAST-PART"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseInt(n.attributes[a],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=hn(r[1]),["ID","CLASS"].forEach(function(u){n.attributes.hasOwnProperty(u)&&(n.attributes[u]=String(n.attributes[u]))}),["START-DATE","END-DATE"].forEach(function(u){n.attributes.hasOwnProperty(u)&&(n.attributes[u]=new Date(n.attributes[u]))}),["DURATION","PLANNED-DURATION"].forEach(function(u){n.attributes.hasOwnProperty(u)&&(n.attributes[u]=parseFloat(n.attributes[u]))}),["END-ON-NEXT"].forEach(function(u){n.attributes.hasOwnProperty(u)&&(n.attributes[u]=/YES/i.test(n.attributes[u]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(u){n.attributes.hasOwnProperty(u)&&(n.attributes[u]=n.attributes[u].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const u in n.attributes){if(!a.test(u))continue;const c=/[0-9A-Fa-f]{6}/g.test(n.attributes[u]),h=/^\d+(\.\d+)?$/.test(n.attributes[u]);n.attributes[u]=c?n.attributes[u].toString(16):h?parseFloat(n.attributes[u]):String(n.attributes[u])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-I-FRAMES-ONLY/.exec(s),r){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),r){n={type:"tag",tagType:"content-steering"},n.attributes=hn(r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),r){n={type:"tag",tagType:"i-frame-playlist"},n.attributes=hn(r[1]),n.attributes.URI&&(n.uri=n.attributes.URI),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=rT(n.attributes.RESOLUTION)),n.attributes["AVERAGE-BANDWIDTH"]&&(n.attributes["AVERAGE-BANDWIDTH"]=parseInt(n.attributes["AVERAGE-BANDWIDTH"],10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),this.trigger("data",n);return}if(r=/^#EXT-X-DEFINE:(.*)$/.exec(s),r){n={type:"tag",tagType:"define"},n.attributes=hn(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:r,dataParser:n,segment:i}){typeof n!="function"&&(n=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:n(s),customType:r,segment:i}),!0})}addTagMapper({expression:e,map:r}){const n=i=>e.test(i)?r(i):i;this.tagMappers.push(n)}}const n$=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),wo=function(t){const e={};return Object.keys(t).forEach(function(r){e[n$(r)]=t[r]}),e},Q0=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",u=r&&r*3,c=n&&n*2;r&&!e.hasOwnProperty(s)&&(e[s]=u,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${u}).`})),u&&e[s]<u&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${u})`}),e[s]=u),n&&!e.hasOwnProperty(a)&&(e[a]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),n&&e[a]<c&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${c}).`}),e[a]=c)};class i$ extends w_{constructor(e={}){super(),this.lineStream=new ZF,this.parseStream=new r$,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const r=this,n=[];let i={},s,a,u=!1;const c=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let g=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let T=0,S=0;const E={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&s&&(i.map=s),!i.key&&a&&(i.key=a),!i.timeline&&typeof g=="number"&&(i.timeline=g),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(v){let C,P;if(r.manifest.definitions){for(const R in r.manifest.definitions)if(v.uri&&(v.uri=v.uri.replace(`{$${R}}`,r.manifest.definitions[R])),v.attributes)for(const D in v.attributes)typeof v.attributes[D]=="string"&&(v.attributes[D]=v.attributes[D].replace(`{$${R}}`,r.manifest.definitions[R]))}({tag(){({version(){v.version&&(this.manifest.version=v.version)},"allow-cache"(){this.manifest.allowCache=v.allowed,"allowed"in v||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const R={};"length"in v&&(i.byterange=R,R.length=v.length,"offset"in v||(v.offset=T)),"offset"in v&&(i.byterange=R,R.offset=v.offset),T=R.offset+R.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),v.title&&(i.title=v.title),v.duration>0&&(i.duration=v.duration),v.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!v.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(v.attributes.METHOD==="NONE"){a=null;return}if(!v.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(v.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:v.attributes};return}if(v.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:v.attributes.URI};return}if(v.attributes.KEYFORMAT===p){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(v.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(v.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),v.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(v.attributes.KEYID&&v.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:v.attributes.KEYFORMAT,keyId:v.attributes.KEYID.substring(2)},pssh:BE(v.attributes.URI.split(",")[1])};return}v.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:v.attributes.METHOD||"AES-128",uri:v.attributes.URI},typeof v.attributes.IV<"u"&&(a.iv=v.attributes.IV)},"media-sequence"(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+v.number});return}this.manifest.mediaSequence=v.number},"discontinuity-sequence"(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+v.number});return}this.manifest.discontinuitySequence=v.number,g=v.number},"playlist-type"(){if(!/VOD|EVENT/.test(v.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+v.playlist});return}this.manifest.playlistType=v.playlistType},map(){s={},v.uri&&(s.uri=v.uri),v.byterange&&(s.byterange=v.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||h,!v.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),z(i.attributes,v.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,!(v.attributes&&v.attributes.TYPE&&v.attributes["GROUP-ID"]&&v.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const R=this.manifest.mediaGroups[v.attributes.TYPE];R[v.attributes["GROUP-ID"]]=R[v.attributes["GROUP-ID"]]||{},C=R[v.attributes["GROUP-ID"]],P={default:/yes/i.test(v.attributes.DEFAULT)},P.default?P.autoselect=!0:P.autoselect=/yes/i.test(v.attributes.AUTOSELECT),v.attributes.LANGUAGE&&(P.language=v.attributes.LANGUAGE),v.attributes.URI&&(P.uri=v.attributes.URI),v.attributes["INSTREAM-ID"]&&(P.instreamId=v.attributes["INSTREAM-ID"]),v.attributes.CHARACTERISTICS&&(P.characteristics=v.attributes.CHARACTERISTICS),v.attributes.FORCED&&(P.forced=/yes/i.test(v.attributes.FORCED)),C[v.attributes.NAME]=P},discontinuity(){g+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=v.dateTimeString,this.manifest.dateTimeObject=v.dateTimeObject),i.dateTimeString=v.dateTimeString,i.dateTimeObject=v.dateTimeObject;const{lastProgramDateTime:R}=this;this.lastProgramDateTime=new Date(v.dateTimeString).getTime(),R===null&&this.manifest.segments.reduceRight((D,U)=>(U.programDateTime=D-U.duration*1e3,U.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(v.duration)||v.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+v.duration});return}this.manifest.targetDuration=v.duration,Q0.call(this,this.manifest)},start(){if(!v.attributes||isNaN(v.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:v.attributes["TIME-OFFSET"],precise:v.attributes.PRECISE}},"cue-out"(){i.cueOut=v.data},"cue-out-cont"(){i.cueOutCont=v.data},"cue-in"(){i.cueIn=v.data},skip(){this.manifest.skip=wo(v.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",v.attributes,["SKIPPED-SEGMENTS"])},part(){u=!0;const R=this.manifest.segments.length,D=wo(v.attributes);i.parts=i.parts||[],i.parts.push(D),D.byterange&&(D.byterange.hasOwnProperty("offset")||(D.byterange.offset=S),S=D.byterange.offset+D.byterange.length);const U=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${U} for segment #${R}`,v.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((A,B)=>{A.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${B} lacks required attribute(s): LAST-PART`})})},"server-control"(){const R=this.manifest.serverControl=wo(v.attributes);R.hasOwnProperty("canBlockReload")||(R.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Q0.call(this,this.manifest),R.canSkipDateranges&&!R.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const R=this.manifest.segments.length,D=wo(v.attributes),U=D.type&&D.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(D),D.byterange&&(D.byterange.hasOwnProperty("offset")||(D.byterange.offset=U?S:0,U&&(S=D.byterange.offset+D.byterange.length)));const A=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${A} for segment #${R}`,v.attributes,["TYPE","URI"]),!!D.type)for(let B=0;B<i.preloadHints.length-1;B++){const $=i.preloadHints[B];$.type&&$.type===D.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${A} for segment #${R} has the same TYPE ${D.type} as preload hint #${B}`})}},"rendition-report"(){const R=wo(v.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(R);const D=this.manifest.renditionReports.length-1,U=["LAST-MSN","URI"];u&&U.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${D}`,v.attributes,U)},"part-inf"(){this.manifest.partInf=wo(v.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",v.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Q0.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(wo(v.attributes));const R=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${R}`,v.attributes,["ID","START-DATE"]);const D=this.manifest.dateRanges[R];D.endDate&&D.startDate&&new Date(D.endDate)<new Date(D.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),D.duration&&D.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),D.plannedDuration&&D.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const U=!!D.endOnNext;if(U&&!D.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),U&&(D.duration||D.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),D.duration&&D.endDate){const B=D.startDate.getTime()+D.duration*1e3;this.manifest.dateRanges[R].endDate=new Date(B)}if(!E[D.id])E[D.id]=D;else{for(const B in E[D.id])if(D[B]&&JSON.stringify(E[D.id][B])!==JSON.stringify(D[B])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const A=this.manifest.dateRanges.findIndex(B=>B.id===D.id);this.manifest.dateRanges[A]=z(this.manifest.dateRanges[A],D),E[D.id]=z(E[D.id],D),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=wo(v.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",v.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const R=(D,U)=>{if(D in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${D}`});return}this.manifest.definitions[D]=U};if("QUERYPARAM"in v.attributes){if("NAME"in v.attributes||"IMPORT"in v.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const D=this.params.get(v.attributes.QUERYPARAM);if(!D){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${v.attributes.QUERYPARAM}`});return}R(v.attributes.QUERYPARAM,decodeURIComponent(D));return}if("NAME"in v.attributes){if("IMPORT"in v.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in v.attributes)||typeof v.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${v.attributes.NAME}`});return}R(v.attributes.NAME,v.attributes.VALUE);return}if("IMPORT"in v.attributes){if(!this.mainDefinitions[v.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${v.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}R(v.attributes.IMPORT,this.mainDefinitions[v.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:v.attributes,uri:v.uri,timeline:g}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",v.attributes,["BANDWIDTH","URI"])}}[v.tagType]||c).call(r)},uri(){i.uri=v.uri,n.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),a&&(i.key=a),i.timeline=g,s&&(i.map=s),S=0,this.lastProgramDateTime!==null&&(i.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=i.duration*1e3),i={}},comment(){},custom(){v.segment?(i.custom=i.custom||{},i.custom[v.customType]=v.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[v.customType]=v.data)}})[v.type].call(r)})}requiredCompatibilityversion(e,r){(e<r||!e)&&this.trigger("warn",{message:`manifest must be at least version ${r}`})}warnOnMissingAttributes_(e,r,n){const i=[];n.forEach(function(s){r.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Na={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},s$=["video","audio","text"],nT=["Video","Audio","Text"],FE=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,i){var s=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+a})},ns=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(i){i=i.trim();var s;s$.forEach(function(a){var u=Na[a].exec(i.toLowerCase());if(!(!u||u.length<=1)){s=a;var c=i.substring(0,u[1].length),h=i.replace(c,"");n.push({type:c,details:h,mediaType:a})}}),s||n.push({type:i,details:"",mediaType:"unknown"})}),n},o$=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var i in n){var s=n[i];if(s.default&&s.playlists)return ns(s.playlists[0].attributes.CODECS)}return null},$E=function(e){return e===void 0&&(e=""),Na.audio.test(e.trim().toLowerCase())},a$=function(e){return e===void 0&&(e=""),Na.text.test(e.trim().toLowerCase())},Cu=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(s){return FE(s.trim())}),n="video";r.length===1&&$E(r[0])?n="audio":r.length===1&&a$(r[0])&&(n="application");var i="mp4";return r.every(function(s){return Na.mp4.test(s)})?i="mp4":r.every(function(s){return Na.webm.test(s)})?i="webm":r.every(function(s){return Na.ogg.test(s)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},cd=function(e,r){return e===void 0&&(e=""),r===void 0&&(r=!1),ee.MediaSource&&ee.MediaSource.isTypeSupported&&ee.MediaSource.isTypeSupported(Cu(e))||r&&ee.ManagedMediaSource&&ee.ManagedMediaSource.isTypeSupported&&ee.ManagedMediaSource.isTypeSupported(Cu(e))||!1},J0=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<nT.length;n++){var i=nT[n];if(Na["muxer"+i].test(r))return!0}return!1})},iT="mp4a.40.2",l$="avc1.4d400d",u$=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,c$=/^application\/dash\+xml/i,jE=function(e){return u$.test(e)?"hls":c$.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},d$=function(e){return e.toString(2).length},h$=function(e){return Math.ceil(d$(e)/8)},UE=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},f$=function(e){return UE(e)},Ge=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!f$(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},zr=ee.BigInt||Number,qv=[zr("0x1"),zr("0x100"),zr("0x10000"),zr("0x1000000"),zr("0x100000000"),zr("0x10000000000"),zr("0x1000000000000"),zr("0x100000000000000"),zr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var p$=function(e,r){var n=r===void 0?{}:r,i=n.signed,s=i===void 0?!1:i,a=n.le,u=a===void 0?!1:a;e=Ge(e);var c=u?"reduce":"reduceRight",h=e[c]?e[c]:Array.prototype[c],p=h.call(e,function(T,S,E){var v=u?E:Math.abs(E+1-e.length);return T+zr(S)*qv[v]},zr(0));if(s){var g=qv[e.length]/zr(2)-zr(1);p=zr(p),p>g&&(p-=g,p-=g,p-=zr(2))}return Number(p)},m$=function(e,r){var n={},i=n.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=zr(e);for(var a=h$(e),u=new Uint8Array(new ArrayBuffer(a)),c=0;c<a;c++){var h=s?c:Math.abs(c+1-u.length);u[h]=Number(e/qv[c]&zr(255)),e<0&&(u[h]=Math.abs(~u[h]),u[h]-=c===0?1:2)}return u},zE=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},g$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(u){return u&&(u.byteLength||u.length)&&typeof u!="string"}),r.length<=1)return Ge(r[0]);var i=r.reduce(function(u,c,h){return u+(c.byteLength||c.length)},0),s=new Uint8Array(i),a=0;return r.forEach(function(u){u=Ge(u),s.set(u,a),a+=u.byteLength}),s},Ut=function(e,r,n){var i=n===void 0?{}:n,s=i.offset,a=s===void 0?0:s,u=i.mask,c=u===void 0?[]:u;e=Ge(e),r=Ge(r);var h=r.every?r.every:Array.prototype.every;return r.length&&e.length-a>=r.length&&h.call(r,function(p,g){var T=c[g]?c[g]&e[a+g]:e[a+g];return p===T})},v$=function(e,r,n){r.forEach(function(i){for(var s in e.mediaGroups[i])for(var a in e.mediaGroups[i][s]){var u=e.mediaGroups[i][s][a];n(u,i,s,a)}})},qc={},zs={},wa={},sT;function cm(){if(sT)return wa;sT=1;function t(s,a,u){if(u===void 0&&(u=Array.prototype),s&&typeof u.find=="function")return u.find.call(s,a);for(var c=0;c<s.length;c++)if(Object.prototype.hasOwnProperty.call(s,c)){var h=s[c];if(a.call(void 0,h,c,s))return h}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function r(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s}var n=e({HTML:"text/html",isHTML:function(s){return s===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return wa.assign=r,wa.find=t,wa.freeze=e,wa.MIME_TYPE=n,wa.NAMESPACE=i,wa}var oT;function HE(){if(oT)return zs;oT=1;var t=cm(),e=t.find,r=t.NAMESPACE;function n(j){return j!==""}function i(j){return j?j.split(/[\t\n\f\r ]+/).filter(n):[]}function s(j,H){return j.hasOwnProperty(H)||(j[H]=!0),j}function a(j){if(!j)return[];var H=i(j);return Object.keys(H.reduce(s,{}))}function u(j){return function(H){return j&&j.indexOf(H)!==-1}}function c(j,H){for(var oe in j)Object.prototype.hasOwnProperty.call(j,oe)&&(H[oe]=j[oe])}function h(j,H){var oe=j.prototype;if(!(oe instanceof H)){let Pe=function(){};var _e=Pe;Pe.prototype=H.prototype,Pe=new Pe,c(oe,Pe),j.prototype=oe=Pe}oe.constructor!=j&&(typeof j!="function"&&console.error("unknown Class:"+j),oe.constructor=j)}var p={},g=p.ELEMENT_NODE=1,T=p.ATTRIBUTE_NODE=2,S=p.TEXT_NODE=3,E=p.CDATA_SECTION_NODE=4,v=p.ENTITY_REFERENCE_NODE=5,C=p.ENTITY_NODE=6,P=p.PROCESSING_INSTRUCTION_NODE=7,R=p.COMMENT_NODE=8,D=p.DOCUMENT_NODE=9,U=p.DOCUMENT_TYPE_NODE=10,A=p.DOCUMENT_FRAGMENT_NODE=11,B=p.NOTATION_NODE=12,$={},W={};$.INDEX_SIZE_ERR=(W[1]="Index size error",1),$.DOMSTRING_SIZE_ERR=(W[2]="DOMString size error",2);var O=$.HIERARCHY_REQUEST_ERR=(W[3]="Hierarchy request error",3);$.WRONG_DOCUMENT_ERR=(W[4]="Wrong document",4),$.INVALID_CHARACTER_ERR=(W[5]="Invalid character",5),$.NO_DATA_ALLOWED_ERR=(W[6]="No data allowed",6),$.NO_MODIFICATION_ALLOWED_ERR=(W[7]="No modification allowed",7);var M=$.NOT_FOUND_ERR=(W[8]="Not found",8);$.NOT_SUPPORTED_ERR=(W[9]="Not supported",9);var X=$.INUSE_ATTRIBUTE_ERR=(W[10]="Attribute in use",10);$.INVALID_STATE_ERR=(W[11]="Invalid state",11),$.SYNTAX_ERR=(W[12]="Syntax error",12),$.INVALID_MODIFICATION_ERR=(W[13]="Invalid modification",13),$.NAMESPACE_ERR=(W[14]="Invalid namespace",14),$.INVALID_ACCESS_ERR=(W[15]="Invalid access",15);function re(j,H){if(H instanceof Error)var oe=H;else oe=this,Error.call(this,W[j]),this.message=W[j],Error.captureStackTrace&&Error.captureStackTrace(this,re);return oe.code=j,H&&(this.message=this.message+": "+H),oe}re.prototype=Error.prototype,c($,re);function Q(){}Q.prototype={length:0,item:function(j){return j>=0&&j<this.length?this[j]:null},toString:function(j,H){for(var oe=[],_e=0;_e<this.length;_e++)ni(this[_e],oe,j,H);return oe.join("")},filter:function(j){return Array.prototype.filter.call(this,j)},indexOf:function(j){return Array.prototype.indexOf.call(this,j)}};function ue(j,H){this._node=j,this._refresh=H,ae(this)}function ae(j){var H=j._node._inc||j._node.ownerDocument._inc;if(j._inc!==H){var oe=j._refresh(j._node);if(no(j,"length",oe.length),!j.$$length||oe.length<j.$$length)for(var _e=oe.length;_e in j;_e++)Object.prototype.hasOwnProperty.call(j,_e)&&delete j[_e];c(oe,j),j._inc=H}}ue.prototype.item=function(j){return ae(this),this[j]||null},h(ue,Q);function Z(){}function K(j,H){for(var oe=j.length;oe--;)if(j[oe]===H)return oe}function J(j,H,oe,_e){if(_e?H[K(H,_e)]=oe:H[H.length++]=oe,j){oe.ownerElement=j;var Pe=j.ownerDocument;Pe&&(_e&&Ne(Pe,j,_e),Se(Pe,j,oe))}}function ie(j,H,oe){var _e=K(H,oe);if(_e>=0){for(var Pe=H.length-1;_e<Pe;)H[_e]=H[++_e];if(H.length=Pe,j){var Ye=j.ownerDocument;Ye&&(Ne(Ye,j,oe),oe.ownerElement=null)}}else throw new re(M,new Error(j.tagName+"@"+oe))}Z.prototype={length:0,item:Q.prototype.item,getNamedItem:function(j){for(var H=this.length;H--;){var oe=this[H];if(oe.nodeName==j)return oe}},setNamedItem:function(j){var H=j.ownerElement;if(H&&H!=this._ownerElement)throw new re(X);var oe=this.getNamedItem(j.nodeName);return J(this._ownerElement,this,j,oe),oe},setNamedItemNS:function(j){var H=j.ownerElement,oe;if(H&&H!=this._ownerElement)throw new re(X);return oe=this.getNamedItemNS(j.namespaceURI,j.localName),J(this._ownerElement,this,j,oe),oe},removeNamedItem:function(j){var H=this.getNamedItem(j);return ie(this._ownerElement,this,H),H},removeNamedItemNS:function(j,H){var oe=this.getNamedItemNS(j,H);return ie(this._ownerElement,this,oe),oe},getNamedItemNS:function(j,H){for(var oe=this.length;oe--;){var _e=this[oe];if(_e.localName==H&&_e.namespaceURI==j)return _e}return null}};function se(){}se.prototype={hasFeature:function(j,H){return!0},createDocument:function(j,H,oe){var _e=new Ce;if(_e.implementation=this,_e.childNodes=new Q,_e.doctype=oe||null,oe&&_e.appendChild(oe),H){var Pe=_e.createElementNS(j,H);_e.appendChild(Pe)}return _e},createDocumentType:function(j,H,oe){var _e=new vr;return _e.name=j,_e.nodeName=j,_e.publicId=H||"",_e.systemId=oe||"",_e}};function V(){}V.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(j,H){return ur(this,j,H)},replaceChild:function(j,H){ur(this,j,H,kt),H&&this.removeChild(H)},removeChild:function(j){return ve(this,j)},appendChild:function(j){return this.insertBefore(j,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(j){return Cs(this.ownerDocument||this,this,j)},normalize:function(){for(var j=this.firstChild;j;){var H=j.nextSibling;H&&H.nodeType==S&&j.nodeType==S?(this.removeChild(H),j.appendData(H.data)):(j.normalize(),j=H)}},isSupported:function(j,H){return this.ownerDocument.implementation.hasFeature(j,H)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(j){for(var H=this;H;){var oe=H._nsMap;if(oe){for(var _e in oe)if(Object.prototype.hasOwnProperty.call(oe,_e)&&oe[_e]===j)return _e}H=H.nodeType==T?H.ownerDocument:H.parentNode}return null},lookupNamespaceURI:function(j){for(var H=this;H;){var oe=H._nsMap;if(oe&&Object.prototype.hasOwnProperty.call(oe,j))return oe[j];H=H.nodeType==T?H.ownerDocument:H.parentNode}return null},isDefaultNamespace:function(j){var H=this.lookupPrefix(j);return H==null}};function ce(j){return j=="<"&&"&lt;"||j==">"&&"&gt;"||j=="&"&&"&amp;"||j=='"'&&"&quot;"||"&#"+j.charCodeAt()+";"}c(p,V),c(p,V.prototype);function Te(j,H){if(H(j))return!0;if(j=j.firstChild)do if(Te(j,H))return!0;while(j=j.nextSibling)}function Ce(){this.ownerDocument=this}function Se(j,H,oe){j&&j._inc++;var _e=oe.namespaceURI;_e===r.XMLNS&&(H._nsMap[oe.prefix?oe.localName:""]=oe.value)}function Ne(j,H,oe,_e){j&&j._inc++;var Pe=oe.namespaceURI;Pe===r.XMLNS&&delete H._nsMap[oe.prefix?oe.localName:""]}function Ee(j,H,oe){if(j&&j._inc){j._inc++;var _e=H.childNodes;if(oe)_e[_e.length++]=oe;else{for(var Pe=H.firstChild,Ye=0;Pe;)_e[Ye++]=Pe,Pe=Pe.nextSibling;_e.length=Ye,delete _e[_e.length]}}}function ve(j,H){var oe=H.previousSibling,_e=H.nextSibling;return oe?oe.nextSibling=_e:j.firstChild=_e,_e?_e.previousSibling=oe:j.lastChild=oe,H.parentNode=null,H.previousSibling=null,H.nextSibling=null,Ee(j.ownerDocument,j),H}function Ae(j){return j&&(j.nodeType===V.DOCUMENT_NODE||j.nodeType===V.DOCUMENT_FRAGMENT_NODE||j.nodeType===V.ELEMENT_NODE)}function Le(j){return j&&(lt(j)||Yt(j)||ze(j)||j.nodeType===V.DOCUMENT_FRAGMENT_NODE||j.nodeType===V.COMMENT_NODE||j.nodeType===V.PROCESSING_INSTRUCTION_NODE)}function ze(j){return j&&j.nodeType===V.DOCUMENT_TYPE_NODE}function lt(j){return j&&j.nodeType===V.ELEMENT_NODE}function Yt(j){return j&&j.nodeType===V.TEXT_NODE}function Pt(j,H){var oe=j.childNodes||[];if(e(oe,lt)||ze(H))return!1;var _e=e(oe,ze);return!(H&&_e&&oe.indexOf(_e)>oe.indexOf(H))}function sn(j,H){var oe=j.childNodes||[];function _e(Ye){return lt(Ye)&&Ye!==H}if(e(oe,_e))return!1;var Pe=e(oe,ze);return!(H&&Pe&&oe.indexOf(Pe)>oe.indexOf(H))}function wt(j,H,oe){if(!Ae(j))throw new re(O,"Unexpected parent node type "+j.nodeType);if(oe&&oe.parentNode!==j)throw new re(M,"child not in parent");if(!Le(H)||ze(H)&&j.nodeType!==V.DOCUMENT_NODE)throw new re(O,"Unexpected node type "+H.nodeType+" for parent node type "+j.nodeType)}function gr(j,H,oe){var _e=j.childNodes||[],Pe=H.childNodes||[];if(H.nodeType===V.DOCUMENT_FRAGMENT_NODE){var Ye=Pe.filter(lt);if(Ye.length>1||e(Pe,Yt))throw new re(O,"More than one element or text in fragment");if(Ye.length===1&&!Pt(j,oe))throw new re(O,"Element in fragment can not be inserted before doctype")}if(lt(H)&&!Pt(j,oe))throw new re(O,"Only one element can be added and only after doctype");if(ze(H)){if(e(_e,ze))throw new re(O,"Only one doctype is allowed");var gt=e(_e,lt);if(oe&&_e.indexOf(gt)<_e.indexOf(oe))throw new re(O,"Doctype can only be inserted before an element");if(!oe&&gt)throw new re(O,"Doctype can not be appended since element is present")}}function kt(j,H,oe){var _e=j.childNodes||[],Pe=H.childNodes||[];if(H.nodeType===V.DOCUMENT_FRAGMENT_NODE){var Ye=Pe.filter(lt);if(Ye.length>1||e(Pe,Yt))throw new re(O,"More than one element or text in fragment");if(Ye.length===1&&!sn(j,oe))throw new re(O,"Element in fragment can not be inserted before doctype")}if(lt(H)&&!sn(j,oe))throw new re(O,"Only one element can be added and only after doctype");if(ze(H)){let Nr=function(Br){return ze(Br)&&Br!==oe};var yr=Nr;if(e(_e,Nr))throw new re(O,"Only one doctype is allowed");var gt=e(_e,lt);if(oe&&_e.indexOf(gt)<_e.indexOf(oe))throw new re(O,"Doctype can only be inserted before an element")}}function ur(j,H,oe,_e){wt(j,H,oe),j.nodeType===V.DOCUMENT_NODE&&(_e||gr)(j,H,oe);var Pe=H.parentNode;if(Pe&&Pe.removeChild(H),H.nodeType===A){var Ye=H.firstChild;if(Ye==null)return H;var gt=H.lastChild}else Ye=gt=H;var yr=oe?oe.previousSibling:j.lastChild;Ye.previousSibling=yr,gt.nextSibling=oe,yr?yr.nextSibling=Ye:j.firstChild=Ye,oe==null?j.lastChild=gt:oe.previousSibling=gt;do Ye.parentNode=j;while(Ye!==gt&&(Ye=Ye.nextSibling));return Ee(j.ownerDocument||j,j),H.nodeType==A&&(H.firstChild=H.lastChild=null),H}function Qe(j,H){return H.parentNode&&H.parentNode.removeChild(H),H.parentNode=j,H.previousSibling=j.lastChild,H.nextSibling=null,H.previousSibling?H.previousSibling.nextSibling=H:j.firstChild=H,j.lastChild=H,Ee(j.ownerDocument,j,H),H}Ce.prototype={nodeName:"#document",nodeType:D,doctype:null,documentElement:null,_inc:1,insertBefore:function(j,H){if(j.nodeType==A){for(var oe=j.firstChild;oe;){var _e=oe.nextSibling;this.insertBefore(oe,H),oe=_e}return j}return ur(this,j,H),j.ownerDocument=this,this.documentElement===null&&j.nodeType===g&&(this.documentElement=j),j},removeChild:function(j){return this.documentElement==j&&(this.documentElement=null),ve(this,j)},replaceChild:function(j,H){ur(this,j,H,kt),j.ownerDocument=this,H&&this.removeChild(H),lt(j)&&(this.documentElement=j)},importNode:function(j,H){return ro(this,j,H)},getElementById:function(j){var H=null;return Te(this.documentElement,function(oe){if(oe.nodeType==g&&oe.getAttribute("id")==j)return H=oe,!0}),H},getElementsByClassName:function(j){var H=a(j);return new ue(this,function(oe){var _e=[];return H.length>0&&Te(oe.documentElement,function(Pe){if(Pe!==oe&&Pe.nodeType===g){var Ye=Pe.getAttribute("class");if(Ye){var gt=j===Ye;if(!gt){var yr=a(Ye);gt=H.every(u(yr))}gt&&_e.push(Pe)}}}),_e})},createElement:function(j){var H=new rt;H.ownerDocument=this,H.nodeName=j,H.tagName=j,H.localName=j,H.childNodes=new Q;var oe=H.attributes=new Z;return oe._ownerElement=H,H},createDocumentFragment:function(){var j=new Tr;return j.ownerDocument=this,j.childNodes=new Q,j},createTextNode:function(j){var H=new Sr;return H.ownerDocument=this,H.appendData(j),H},createComment:function(j){var H=new qr;return H.ownerDocument=this,H.appendData(j),H},createCDATASection:function(j){var H=new on;return H.ownerDocument=this,H.appendData(j),H},createProcessingInstruction:function(j,H){var oe=new ht;return oe.ownerDocument=this,oe.tagName=oe.nodeName=oe.target=j,oe.nodeValue=oe.data=H,oe},createAttribute:function(j){var H=new mt;return H.ownerDocument=this,H.name=j,H.nodeName=j,H.localName=j,H.specified=!0,H},createEntityReference:function(j){var H=new Qt;return H.ownerDocument=this,H.nodeName=j,H},createElementNS:function(j,H){var oe=new rt,_e=H.split(":"),Pe=oe.attributes=new Z;return oe.childNodes=new Q,oe.ownerDocument=this,oe.nodeName=H,oe.tagName=H,oe.namespaceURI=j,_e.length==2?(oe.prefix=_e[0],oe.localName=_e[1]):oe.localName=H,Pe._ownerElement=oe,oe},createAttributeNS:function(j,H){var oe=new mt,_e=H.split(":");return oe.ownerDocument=this,oe.nodeName=H,oe.name=H,oe.namespaceURI=j,oe.specified=!0,_e.length==2?(oe.prefix=_e[0],oe.localName=_e[1]):oe.localName=H,oe}},h(Ce,V);function rt(){this._nsMap={}}rt.prototype={nodeType:g,hasAttribute:function(j){return this.getAttributeNode(j)!=null},getAttribute:function(j){var H=this.getAttributeNode(j);return H&&H.value||""},getAttributeNode:function(j){return this.attributes.getNamedItem(j)},setAttribute:function(j,H){var oe=this.ownerDocument.createAttribute(j);oe.value=oe.nodeValue=""+H,this.setAttributeNode(oe)},removeAttribute:function(j){var H=this.getAttributeNode(j);H&&this.removeAttributeNode(H)},appendChild:function(j){return j.nodeType===A?this.insertBefore(j,null):Qe(this,j)},setAttributeNode:function(j){return this.attributes.setNamedItem(j)},setAttributeNodeNS:function(j){return this.attributes.setNamedItemNS(j)},removeAttributeNode:function(j){return this.attributes.removeNamedItem(j.nodeName)},removeAttributeNS:function(j,H){var oe=this.getAttributeNodeNS(j,H);oe&&this.removeAttributeNode(oe)},hasAttributeNS:function(j,H){return this.getAttributeNodeNS(j,H)!=null},getAttributeNS:function(j,H){var oe=this.getAttributeNodeNS(j,H);return oe&&oe.value||""},setAttributeNS:function(j,H,oe){var _e=this.ownerDocument.createAttributeNS(j,H);_e.value=_e.nodeValue=""+oe,this.setAttributeNode(_e)},getAttributeNodeNS:function(j,H){return this.attributes.getNamedItemNS(j,H)},getElementsByTagName:function(j){return new ue(this,function(H){var oe=[];return Te(H,function(_e){_e!==H&&_e.nodeType==g&&(j==="*"||_e.tagName==j)&&oe.push(_e)}),oe})},getElementsByTagNameNS:function(j,H){return new ue(this,function(oe){var _e=[];return Te(oe,function(Pe){Pe!==oe&&Pe.nodeType===g&&(j==="*"||Pe.namespaceURI===j)&&(H==="*"||Pe.localName==H)&&_e.push(Pe)}),_e})}},Ce.prototype.getElementsByTagName=rt.prototype.getElementsByTagName,Ce.prototype.getElementsByTagNameNS=rt.prototype.getElementsByTagNameNS,h(rt,V);function mt(){}mt.prototype.nodeType=T,h(mt,V);function Rt(){}Rt.prototype={data:"",substringData:function(j,H){return this.data.substring(j,j+H)},appendData:function(j){j=this.data+j,this.nodeValue=this.data=j,this.length=j.length},insertData:function(j,H){this.replaceData(j,0,H)},appendChild:function(j){throw new Error(W[O])},deleteData:function(j,H){this.replaceData(j,H,"")},replaceData:function(j,H,oe){var _e=this.data.substring(0,j),Pe=this.data.substring(j+H);oe=_e+oe+Pe,this.nodeValue=this.data=oe,this.length=oe.length}},h(Rt,V);function Sr(){}Sr.prototype={nodeName:"#text",nodeType:S,splitText:function(j){var H=this.data,oe=H.substring(j);H=H.substring(0,j),this.data=this.nodeValue=H,this.length=H.length;var _e=this.ownerDocument.createTextNode(oe);return this.parentNode&&this.parentNode.insertBefore(_e,this.nextSibling),_e}},h(Sr,Rt);function qr(){}qr.prototype={nodeName:"#comment",nodeType:R},h(qr,Rt);function on(){}on.prototype={nodeName:"#cdata-section",nodeType:E},h(on,Rt);function vr(){}vr.prototype.nodeType=U,h(vr,V);function Mr(){}Mr.prototype.nodeType=B,h(Mr,V);function nr(){}nr.prototype.nodeType=C,h(nr,V);function Qt(){}Qt.prototype.nodeType=v,h(Qt,V);function Tr(){}Tr.prototype.nodeName="#document-fragment",Tr.prototype.nodeType=A,h(Tr,V);function ht(){}ht.prototype.nodeType=P,h(ht,V);function Ss(){}Ss.prototype.serializeToString=function(j,H,oe){return ir.call(j,H,oe)},V.prototype.toString=ir;function ir(j,H){var oe=[],_e=this.nodeType==9&&this.documentElement||this,Pe=_e.prefix,Ye=_e.namespaceURI;if(Ye&&Pe==null){var Pe=_e.lookupPrefix(Ye);if(Pe==null)var gt=[{namespace:Ye,prefix:null}]}return ni(this,oe,j,H,gt),oe.join("")}function ji(j,H,oe){var _e=j.prefix||"",Pe=j.namespaceURI;if(!Pe||_e==="xml"&&Pe===r.XML||Pe===r.XMLNS)return!1;for(var Ye=oe.length;Ye--;){var gt=oe[Ye];if(gt.prefix===_e)return gt.namespace!==Pe}return!0}function Ts(j,H,oe){j.push(" ",H,'="',oe.replace(/[<>&"\t\n\r]/g,ce),'"')}function ni(j,H,oe,_e,Pe){if(Pe||(Pe=[]),_e)if(j=_e(j),j){if(typeof j=="string"){H.push(j);return}}else return;switch(j.nodeType){case g:var Ye=j.attributes,gt=Ye.length,Dt=j.firstChild,yr=j.tagName;oe=r.isHTML(j.namespaceURI)||oe;var Nr=yr;if(!oe&&!j.prefix&&j.namespaceURI){for(var Br,Cr=0;Cr<Ye.length;Cr++)if(Ye.item(Cr).name==="xmlns"){Br=Ye.item(Cr).value;break}if(!Br)for(var Ln=Pe.length-1;Ln>=0;Ln--){var Er=Pe[Ln];if(Er.prefix===""&&Er.namespace===j.namespaceURI){Br=Er.namespace;break}}if(Br!==j.namespaceURI)for(var Ln=Pe.length-1;Ln>=0;Ln--){var Er=Pe[Ln];if(Er.namespace===j.namespaceURI){Er.prefix&&(Nr=Er.prefix+":"+yr);break}}}H.push("<",Nr);for(var Ot=0;Ot<gt;Ot++){var Fr=Ye.item(Ot);Fr.prefix=="xmlns"?Pe.push({prefix:Fr.localName,namespace:Fr.value}):Fr.nodeName=="xmlns"&&Pe.push({prefix:"",namespace:Fr.value})}for(var Ot=0;Ot<gt;Ot++){var Fr=Ye.item(Ot);if(ji(Fr,oe,Pe)){var Mn=Fr.prefix||"",ii=Fr.namespaceURI;Ts(H,Mn?"xmlns:"+Mn:"xmlns",ii),Pe.push({prefix:Mn,namespace:ii})}ni(Fr,H,oe,_e,Pe)}if(yr===Nr&&ji(j,oe,Pe)){var Mn=j.prefix||"",ii=j.namespaceURI;Ts(H,Mn?"xmlns:"+Mn:"xmlns",ii),Pe.push({prefix:Mn,namespace:ii})}if(Dt||oe&&!/^(?:meta|link|img|br|hr|input)$/i.test(yr)){if(H.push(">"),oe&&/^script$/i.test(yr))for(;Dt;)Dt.data?H.push(Dt.data):ni(Dt,H,oe,_e,Pe.slice()),Dt=Dt.nextSibling;else for(;Dt;)ni(Dt,H,oe,_e,Pe.slice()),Dt=Dt.nextSibling;H.push("</",Nr,">")}else H.push("/>");return;case D:case A:for(var Dt=j.firstChild;Dt;)ni(Dt,H,oe,_e,Pe.slice()),Dt=Dt.nextSibling;return;case T:return Ts(H,j.name,j.value);case S:return H.push(j.data.replace(/[<&>]/g,ce));case E:return H.push("<![CDATA[",j.data,"]]>");case R:return H.push("<!--",j.data,"-->");case U:var ws=j.publicId,ot=j.systemId;if(H.push("<!DOCTYPE ",j.name),ws)H.push(" PUBLIC ",ws),ot&&ot!="."&&H.push(" ",ot),H.push(">");else if(ot&&ot!=".")H.push(" SYSTEM ",ot,">");else{var qo=j.internalSubset;qo&&H.push(" [",qo,"]"),H.push(">")}return;case P:return H.push("<?",j.target," ",j.data,"?>");case v:return H.push("&",j.nodeName,";");default:H.push("??",j.nodeName)}}function ro(j,H,oe){var _e;switch(H.nodeType){case g:_e=H.cloneNode(!1),_e.ownerDocument=j;case A:break;case T:oe=!0;break}if(_e||(_e=H.cloneNode(!1)),_e.ownerDocument=j,_e.parentNode=null,oe)for(var Pe=H.firstChild;Pe;)_e.appendChild(ro(j,Pe,oe)),Pe=Pe.nextSibling;return _e}function Cs(j,H,oe){var _e=new H.constructor;for(var Pe in H)if(Object.prototype.hasOwnProperty.call(H,Pe)){var Ye=H[Pe];typeof Ye!="object"&&Ye!=_e[Pe]&&(_e[Pe]=Ye)}switch(H.childNodes&&(_e.childNodes=new Q),_e.ownerDocument=j,_e.nodeType){case g:var gt=H.attributes,yr=_e.attributes=new Z,Nr=gt.length;yr._ownerElement=_e;for(var Br=0;Br<Nr;Br++)_e.setAttributeNode(Cs(j,gt.item(Br),!0));break;case T:oe=!0}if(oe)for(var Cr=H.firstChild;Cr;)_e.appendChild(Cs(j,Cr,oe)),Cr=Cr.nextSibling;return _e}function no(j,H,oe){j[H]=oe}try{if(Object.defineProperty){let j=function(H){switch(H.nodeType){case g:case A:var oe=[];for(H=H.firstChild;H;)H.nodeType!==7&&H.nodeType!==8&&oe.push(j(H)),H=H.nextSibling;return oe.join("");default:return H.nodeValue}};var Es=j;Object.defineProperty(ue.prototype,"length",{get:function(){return ae(this),this.$$length}}),Object.defineProperty(V.prototype,"textContent",{get:function(){return j(this)},set:function(H){switch(this.nodeType){case g:case A:for(;this.firstChild;)this.removeChild(this.firstChild);(H||String(H))&&this.appendChild(this.ownerDocument.createTextNode(H));break;default:this.data=H,this.value=H,this.nodeValue=H}}}),no=function(H,oe,_e){H["$$"+oe]=_e}}}catch{}return zs.DocumentType=vr,zs.DOMException=re,zs.DOMImplementation=se,zs.Element=rt,zs.Node=V,zs.NodeList=Q,zs.XMLSerializer=Ss,zs}var Wc={},Z0={},aT;function y$(){return aT||(aT=1,(function(t){var e=cm().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(Z0)),Z0}var Sf={},lT;function _$(){if(lT)return Sf;lT=1;var t=cm().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+r.source+"*(?::"+e.source+r.source+"*)?$"),i=0,s=1,a=2,u=3,c=4,h=5,p=6,g=7;function T(O,M){this.message=O,this.locator=M,Error.captureStackTrace&&Error.captureStackTrace(this,T)}T.prototype=new Error,T.prototype.name=T.name;function S(){}S.prototype={parse:function(O,M,X){var re=this.domBuilder;re.startDocument(),U(M,M={}),E(O,M,X,re,this.errorHandler),re.endDocument()}};function E(O,M,X,re,Q){function ue(rt){if(rt>65535){rt-=65536;var mt=55296+(rt>>10),Rt=56320+(rt&1023);return String.fromCharCode(mt,Rt)}else return String.fromCharCode(rt)}function ae(rt){var mt=rt.slice(1,-1);return Object.hasOwnProperty.call(X,mt)?X[mt]:mt.charAt(0)==="#"?ue(parseInt(mt.substr(1).replace("x","0x"))):(Q.error("entity not found:"+rt),rt)}function Z(rt){if(rt>Ce){var mt=O.substring(Ce,rt).replace(/&#?\w+;/g,ae);V&&K(Ce),re.characters(mt,0,rt-Ce),Ce=rt}}function K(rt,mt){for(;rt>=ie&&(mt=se.exec(O));)J=mt.index,ie=J+mt[0].length,V.lineNumber++;V.columnNumber=rt-J+1}for(var J=0,ie=0,se=/.*(?:\r\n?|\n)|.*$/g,V=re.locator,ce=[{currentNSMap:M}],Te={},Ce=0;;){try{var Se=O.indexOf("<",Ce);if(Se<0){if(!O.substr(Ce).match(/^\s*$/)){var Ne=re.doc,Ee=Ne.createTextNode(O.substr(Ce));Ne.appendChild(Ee),re.currentElement=Ee}return}switch(Se>Ce&&Z(Se),O.charAt(Se+1)){case"/":var wt=O.indexOf(">",Se+3),ve=O.substring(Se+2,wt).replace(/[ \t\n\r]+$/g,""),Ae=ce.pop();wt<0?(ve=O.substring(Se+2).replace(/[\s<].*/,""),Q.error("end tag name: "+ve+" is not complete:"+Ae.tagName),wt=Se+1+ve.length):ve.match(/\s</)&&(ve=ve.replace(/[\s<].*/,""),Q.error("end tag name: "+ve+" maybe not complete"),wt=Se+1+ve.length);var Le=Ae.localNSMap,ze=Ae.tagName==ve,lt=ze||Ae.tagName&&Ae.tagName.toLowerCase()==ve.toLowerCase();if(lt){if(re.endElement(Ae.uri,Ae.localName,ve),Le)for(var Yt in Le)Object.prototype.hasOwnProperty.call(Le,Yt)&&re.endPrefixMapping(Yt);ze||Q.fatalError("end tag name: "+ve+" is not match the current start tagName:"+Ae.tagName)}else ce.push(Ae);wt++;break;case"?":V&&K(Se),wt=B(O,Se,re);break;case"!":V&&K(Se),wt=A(O,Se,re,Q);break;default:V&&K(Se);var Pt=new $,sn=ce[ce.length-1].currentNSMap,wt=C(O,Se,Pt,sn,ae,Q),gr=Pt.length;if(!Pt.closed&&D(O,wt,Pt.tagName,Te)&&(Pt.closed=!0,X.nbsp||Q.warning("unclosed xml attribute")),V&&gr){for(var kt=v(V,{}),ur=0;ur<gr;ur++){var Qe=Pt[ur];K(Qe.offset),Qe.locator=v(V,{})}re.locator=kt,P(Pt,re,sn)&&ce.push(Pt),re.locator=V}else P(Pt,re,sn)&&ce.push(Pt);t.isHTML(Pt.uri)&&!Pt.closed?wt=R(O,wt,Pt.tagName,ae,re):wt++}}catch(rt){if(rt instanceof T)throw rt;Q.error("element parse error: "+rt),wt=-1}wt>Ce?Ce=wt:Z(Math.max(Se,Ce)+1)}}function v(O,M){return M.lineNumber=O.lineNumber,M.columnNumber=O.columnNumber,M}function C(O,M,X,re,Q,ue){function ae(V,ce,Te){X.attributeNames.hasOwnProperty(V)&&ue.fatalError("Attribute "+V+" redefined"),X.addValue(V,ce.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,Q),Te)}for(var Z,K,J=++M,ie=i;;){var se=O.charAt(J);switch(se){case"=":if(ie===s)Z=O.slice(M,J),ie=u;else if(ie===a)ie=u;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ie===u||ie===s)if(ie===s&&(ue.warning('attribute value must after "="'),Z=O.slice(M,J)),M=J+1,J=O.indexOf(se,M),J>0)K=O.slice(M,J),ae(Z,K,M-1),ie=h;else throw new Error("attribute value no end '"+se+"' match");else if(ie==c)K=O.slice(M,J),ae(Z,K,M),ue.warning('attribute "'+Z+'" missed start quot('+se+")!!"),M=J+1,ie=h;else throw new Error('attribute value must after "="');break;case"/":switch(ie){case i:X.setTagName(O.slice(M,J));case h:case p:case g:ie=g,X.closed=!0;case c:case s:break;case a:X.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ue.error("unexpected end of input"),ie==i&&X.setTagName(O.slice(M,J)),J;case">":switch(ie){case i:X.setTagName(O.slice(M,J));case h:case p:case g:break;case c:case s:K=O.slice(M,J),K.slice(-1)==="/"&&(X.closed=!0,K=K.slice(0,-1));case a:ie===a&&(K=Z),ie==c?(ue.warning('attribute "'+K+'" missed quot(")!'),ae(Z,K,M)):((!t.isHTML(re[""])||!K.match(/^(?:disabled|checked|selected)$/i))&&ue.warning('attribute "'+K+'" missed value!! "'+K+'" instead!!'),ae(K,K,M));break;case u:throw new Error("attribute value missed!!")}return J;case"":se=" ";default:if(se<=" ")switch(ie){case i:X.setTagName(O.slice(M,J)),ie=p;break;case s:Z=O.slice(M,J),ie=a;break;case c:var K=O.slice(M,J);ue.warning('attribute "'+K+'" missed quot(")!!'),ae(Z,K,M);case h:ie=p;break}else switch(ie){case a:X.tagName,(!t.isHTML(re[""])||!Z.match(/^(?:disabled|checked|selected)$/i))&&ue.warning('attribute "'+Z+'" missed value!! "'+Z+'" instead2!!'),ae(Z,Z,M),M=J,ie=s;break;case h:ue.warning('attribute space is required"'+Z+'"!!');case p:ie=s,M=J;break;case u:ie=c,M=J;break;case g:throw new Error("elements closed character '/' and '>' must be connected to")}}J++}}function P(O,M,X){for(var re=O.tagName,Q=null,se=O.length;se--;){var ue=O[se],ae=ue.qName,Z=ue.value,V=ae.indexOf(":");if(V>0)var K=ue.prefix=ae.slice(0,V),J=ae.slice(V+1),ie=K==="xmlns"&&J;else J=ae,K=null,ie=ae==="xmlns"&&"";ue.localName=J,ie!==!1&&(Q==null&&(Q={},U(X,X={})),X[ie]=Q[ie]=Z,ue.uri=t.XMLNS,M.startPrefixMapping(ie,Z))}for(var se=O.length;se--;){ue=O[se];var K=ue.prefix;K&&(K==="xml"&&(ue.uri=t.XML),K!=="xmlns"&&(ue.uri=X[K||""]))}var V=re.indexOf(":");V>0?(K=O.prefix=re.slice(0,V),J=O.localName=re.slice(V+1)):(K=null,J=O.localName=re);var ce=O.uri=X[K||""];if(M.startElement(ce,J,re,O),O.closed){if(M.endElement(ce,J,re),Q)for(K in Q)Object.prototype.hasOwnProperty.call(Q,K)&&M.endPrefixMapping(K)}else return O.currentNSMap=X,O.localNSMap=Q,!0}function R(O,M,X,re,Q){if(/^(?:script|textarea)$/i.test(X)){var ue=O.indexOf("</"+X+">",M),ae=O.substring(M+1,ue);if(/[&<]/.test(ae))return/^script$/i.test(X)?(Q.characters(ae,0,ae.length),ue):(ae=ae.replace(/&#?\w+;/g,re),Q.characters(ae,0,ae.length),ue)}return M+1}function D(O,M,X,re){var Q=re[X];return Q==null&&(Q=O.lastIndexOf("</"+X+">"),Q<M&&(Q=O.lastIndexOf("</"+X)),re[X]=Q),Q<M}function U(O,M){for(var X in O)Object.prototype.hasOwnProperty.call(O,X)&&(M[X]=O[X])}function A(O,M,X,re){var Q=O.charAt(M+2);switch(Q){case"-":if(O.charAt(M+3)==="-"){var ue=O.indexOf("-->",M+4);return ue>M?(X.comment(O,M+4,ue-M-4),ue+3):(re.error("Unclosed comment"),-1)}else return-1;default:if(O.substr(M+3,6)=="CDATA["){var ue=O.indexOf("]]>",M+9);return X.startCDATA(),X.characters(O,M+9,ue-M-9),X.endCDATA(),ue+3}var ae=W(O,M),Z=ae.length;if(Z>1&&/!doctype/i.test(ae[0][0])){var K=ae[1][0],J=!1,ie=!1;Z>3&&(/^public$/i.test(ae[2][0])?(J=ae[3][0],ie=Z>4&&ae[4][0]):/^system$/i.test(ae[2][0])&&(ie=ae[3][0]));var se=ae[Z-1];return X.startDTD(K,J,ie),X.endDTD(),se.index+se[0].length}}return-1}function B(O,M,X){var re=O.indexOf("?>",M);if(re){var Q=O.substring(M,re).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Q?(Q[0].length,X.processingInstruction(Q[1],Q[2]),re+2):-1}return-1}function $(){this.attributeNames={}}$.prototype={setTagName:function(O){if(!n.test(O))throw new Error("invalid tagName:"+O);this.tagName=O},addValue:function(O,M,X){if(!n.test(O))throw new Error("invalid attribute:"+O);this.attributeNames[O]=this.length,this[this.length++]={qName:O,value:M,offset:X}},length:0,getLocalName:function(O){return this[O].localName},getLocator:function(O){return this[O].locator},getQName:function(O){return this[O].qName},getURI:function(O){return this[O].uri},getValue:function(O){return this[O].value}};function W(O,M){var X,re=[],Q=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Q.lastIndex=M,Q.exec(O);X=Q.exec(O);)if(re.push(X),X[1])return re}return Sf.XMLReader=S,Sf.ParseError=T,Sf}var uT;function x$(){if(uT)return Wc;uT=1;var t=cm(),e=HE(),r=y$(),n=_$(),i=e.DOMImplementation,s=t.NAMESPACE,a=n.ParseError,u=n.XMLReader;function c(C){return C.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function h(C){this.options=C||{locator:{}}}h.prototype.parseFromString=function(C,P){var R=this.options,D=new u,U=R.domBuilder||new g,A=R.errorHandler,B=R.locator,$=R.xmlns||{},W=/\/x?html?$/.test(P),O=W?r.HTML_ENTITIES:r.XML_ENTITIES;B&&U.setDocumentLocator(B),D.errorHandler=p(A,U,B),D.domBuilder=R.domBuilder||U,W&&($[""]=s.HTML),$.xml=$.xml||s.XML;var M=R.normalizeLineEndings||c;return C&&typeof C=="string"?D.parse(M(C),$,O):D.errorHandler.error("invalid doc source"),U.doc};function p(C,P,R){if(!C){if(P instanceof g)return P;C=P}var D={},U=C instanceof Function;R=R||{};function A(B){var $=C[B];!$&&U&&($=C.length==2?function(W){C(B,W)}:C),D[B]=$&&function(W){$("[xmldom "+B+"]	"+W+S(R))}||function(){}}return A("warning"),A("error"),A("fatalError"),D}function g(){this.cdata=!1}function T(C,P){P.lineNumber=C.lineNumber,P.columnNumber=C.columnNumber}g.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(C,P,R,D){var U=this.doc,A=U.createElementNS(C,R||P),B=D.length;v(this,A),this.currentElement=A,this.locator&&T(this.locator,A);for(var $=0;$<B;$++){var C=D.getURI($),W=D.getValue($),R=D.getQName($),O=U.createAttributeNS(C,R);this.locator&&T(D.getLocator($),O),O.value=O.nodeValue=W,A.setAttributeNode(O)}},endElement:function(C,P,R){var D=this.currentElement;D.tagName,this.currentElement=D.parentNode},startPrefixMapping:function(C,P){},endPrefixMapping:function(C){},processingInstruction:function(C,P){var R=this.doc.createProcessingInstruction(C,P);this.locator&&T(this.locator,R),v(this,R)},ignorableWhitespace:function(C,P,R){},characters:function(C,P,R){if(C=E.apply(this,arguments),C){if(this.cdata)var D=this.doc.createCDATASection(C);else var D=this.doc.createTextNode(C);this.currentElement?this.currentElement.appendChild(D):/^\s*$/.test(C)&&this.doc.appendChild(D),this.locator&&T(this.locator,D)}},skippedEntity:function(C){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(C){(this.locator=C)&&(C.lineNumber=0)},comment:function(C,P,R){C=E.apply(this,arguments);var D=this.doc.createComment(C);this.locator&&T(this.locator,D),v(this,D)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(C,P,R){var D=this.doc.implementation;if(D&&D.createDocumentType){var U=D.createDocumentType(C,P,R);this.locator&&T(this.locator,U),v(this,U),this.doc.doctype=U}},warning:function(C){console.warn("[xmldom warning]	"+C,S(this.locator))},error:function(C){console.error("[xmldom error]	"+C,S(this.locator))},fatalError:function(C){throw new a(C,this.locator)}};function S(C){if(C)return`
@`+(C.systemId||"")+"#[line:"+C.lineNumber+",col:"+C.columnNumber+"]"}function E(C,P,R){return typeof C=="string"?C.substr(P,R):C.length>=P+R||P?new java.lang.String(C,P,R)+"":C}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(C){g.prototype[C]=function(){return null}});function v(C,P){C.currentElement?C.currentElement.appendChild(P):C.doc.appendChild(P)}return Wc.__DOMHandler=g,Wc.normalizeLineEndings=c,Wc.DOMParser=h,Wc}var cT;function b$(){if(cT)return qc;cT=1;var t=HE();return qc.DOMImplementation=t.DOMImplementation,qc.XMLSerializer=t.XMLSerializer,qc.DOMParser=x$().DOMParser,qc}var S$=b$();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const dT=t=>!!t&&typeof t=="object",Rr=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=e[n].concat(r[n]):dT(e[n])&&dT(r[n])?e[n]=Rr(e[n],r[n]):e[n]=r[n]}),e),{}),VE=t=>Object.keys(t).map(e=>t[e]),T$=(t,e)=>{const r=[];for(let n=t;n<e;n++)r.push(n);return r},Eu=t=>t.reduce((e,r)=>e.concat(r),[]),qE=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},C$=(t,e)=>t.reduce((r,n,i)=>(n[e]&&r.push(i),r),[]),E$=(t,e)=>VE(t.reduce((r,n)=>(n.forEach(i=>{r[e(i)]=i}),r),{}));var wu={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Dd=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:um(t||"",e)};if(r||n){const a=(r||n).split("-");let u=ee.BigInt?ee.BigInt(a[0]):parseInt(a[0],10),c=ee.BigInt?ee.BigInt(a[1]):parseInt(a[1],10);u<Number.MAX_SAFE_INTEGER&&typeof u=="bigint"&&(u=Number(u)),c<Number.MAX_SAFE_INTEGER&&typeof c=="bigint"&&(c=Number(c));let h;typeof c=="bigint"||typeof u=="bigint"?h=ee.BigInt(c)-ee.BigInt(u)+ee.BigInt(1):h=c-u+1,typeof h=="bigint"&&h<Number.MAX_SAFE_INTEGER&&(h=Number(h)),i.byterange={length:h,offset:u}}return i},w$=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ee.BigInt(t.offset)+ee.BigInt(t.length)-ee.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},hT=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),k$={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:i}=t,s=hT(t.endNumber),a=e/r;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/a}:{start:0,end:n/a}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:s,periodStart:a=0,minimumUpdatePeriod:u=0,timeShiftBufferDepth:c=1/0}=t,h=hT(t.endNumber),p=(e+r)/1e3,g=n+a,S=p+u-g,E=Math.ceil(S*i/s),v=Math.floor((p-g-c)*i/s),C=Math.floor((p-g)*i/s);return{start:Math.max(0,v),end:typeof h=="number"?h:Math.min(E,C)}}},D$=t=>e=>{const{duration:r,timescale:n=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:r/n,timeline:i,time:e*r}},k_=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:i,sourceDuration:s}=t,{start:a,end:u}=k$[e](t),c=T$(a,u).map(D$(t));if(e==="static"){const h=c.length-1,p=typeof i=="number"?i:s;c[h].duration=p-r/n*h}return c},WE=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:s,presentationTime:a,number:u=0,duration:c}=t;if(!e)throw new Error(wu.NO_BASE_URL);const h=Dd({baseUrl:e,source:r.sourceURL,range:r.range}),p=Dd({baseUrl:e,source:e,indexRange:i});if(p.map=h,c){const g=k_(t);g.length&&(p.duration=g[0].duration,p.timeline=g[0].timeline)}else n&&(p.duration=n,p.timeline=s);return p.presentationTime=a||s,p.number=u,[p]},D_=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,u=a.offset+a.length,c=e.timescale,h=e.references.filter(C=>C.referenceType!==1),p=[],g=t.endList?"static":"dynamic",T=t.sidx.timeline;let S=T,E=t.mediaSequence||0,v;typeof e.firstOffset=="bigint"?v=ee.BigInt(u)+e.firstOffset:v=u+e.firstOffset;for(let C=0;C<h.length;C++){const P=e.references[C],R=P.referencedSize,D=P.subsegmentDuration;let U;typeof v=="bigint"?U=v+ee.BigInt(R)-ee.BigInt(1):U=v+R-1;const A=`${v}-${U}`,$=WE({baseUrl:r,timescale:c,timeline:s,periodStart:T,presentationTime:S,number:E,duration:D,sourceDuration:i,indexRange:A,type:g})[0];n&&($.map=n),p.push($),typeof v=="bigint"?v+=ee.BigInt(R):v+=R,S+=D/c,E++}return t.segments=p,t},A$=["AUDIO","SUBTITLES"],I$=1/60,GE=t=>E$(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),P$=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},fT=t=>{let e=[];return v$(t,A$,(r,n,i,s)=>{e=e.concat(r.playlists||[])}),e},pT=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,n)=>{r.number=t.mediaSequence+n})},R$=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:c}){return c===n.timeline});const i=P$(t,n.attributes.NAME);if(!i||n.sidx)return;const s=n.segments[0],a=i.segments.findIndex(function(c){return Math.abs(c.presentationTime-s.presentationTime)<I$});if(a===-1){pT({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),pT({playlist:n,mediaSequence:i.segments[a].number})})},O$=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(fT(t)),n=e.playlists.concat(fT(e));return e.timelineStarts=GE([t.timelineStarts,e.timelineStarts]),R$({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},dm=t=>t&&t.uri+"-"+w$(t.byterange),ev=t=>{const e=t.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let r=[];return Object.values(e).forEach(n=>{const i=VE(n.reduce((s,a)=>{const u=a.attributes.id+(a.attributes.lang||"");return s[u]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[u].segments.push(...a.segments)),a.attributes.contentProtection&&(s[u].attributes.contentProtection=a.attributes.contentProtection)):(s[u]=a,s[u].attributes.timelineStarts=[]),s[u].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));r=r.concat(i)}),r.map(n=>(n.discontinuityStarts=C$(n.segments||[],"discontinuity"),n))},A_=(t,e)=>{const r=dm(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&D_(t,n,t.sidx.resolvedUri),t},L$=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=A_(t[r],e);return t},M$=({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:s},a)=>{const u={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(u.contentProtection=t.contentProtection),t.serviceLocation&&(u.attributes.serviceLocation=t.serviceLocation),r&&(u.sidx=r),a&&(u.attributes.AUDIO="audio",u.attributes.SUBTITLES="subs"),u},N$=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},B$=(t,e={},r=!1)=>{let n;const i=t.reduce((s,a)=>{const u=a.attributes.role&&a.attributes.role.value||"",c=a.attributes.lang||"";let h=a.attributes.label||"main";if(c&&!a.attributes.label){const g=u?` (${u})`:"";h=`${a.attributes.lang}${g}`}s[h]||(s[h]={language:c,autoselect:!0,default:u==="main",playlists:[],uri:""});const p=A_(M$(a,r),e);return s[h].playlists.push(p),typeof n>"u"&&u==="main"&&(n=a,n.default=!0),s},{});if(!n){const s=Object.keys(i)[0];i[s].default=!0}return i},F$=(t,e={})=>t.reduce((r,n)=>{const i=n.attributes.label||n.attributes.lang||"text",s=n.attributes.lang||"und";return r[i]||(r[i]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),r[i].playlists.push(A_(N$(n),e)),r},{}),$$=t=>t.reduce((e,r)=>(r&&r.forEach(n=>{const{channel:i,language:s}=n;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},n.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[s]["3D"]=n["3D"])}),e),{}),j$=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),r&&(i.sidx=r),i},U$=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",z$=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",H$=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",V$=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,i)=>{n.number=i})})},mT=t=>t?Object.keys(t).reduce((e,r)=>{const n=t[r];return e.concat(n.playlists)},[]):[],q$=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:u,suggestedPresentationDelay:c,minimumUpdatePeriod:h}=t[0].attributes,p=ev(t.filter(U$)).map(j$),g=ev(t.filter(z$)),T=ev(t.filter(H$)),S=t.map(U=>U.attributes.captionServices).filter(Boolean),E={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:L$(p,n)};h>=0&&(E.minimumUpdatePeriod=h*1e3),e&&(E.locations=e),r&&(E.contentSteering=r),u==="dynamic"&&(E.suggestedPresentationDelay=c),s&&s.length>0&&(E.eventStream=s);const v=E.playlists.length===0,C=g.length?B$(g,n,v):null,P=T.length?F$(T,n):null,R=p.concat(mT(C),mT(P)),D=R.map(({timelineStarts:U})=>U);return E.timelineStarts=GE(D),V$(R,E.timelineStarts),C&&(E.mediaGroups.AUDIO.audio=C),P&&(E.mediaGroups.SUBTITLES.subs=P),S.length&&(E.mediaGroups["CLOSED-CAPTIONS"].cc=$$(S)),i?O$({oldManifest:i,newManifest:E}):E},W$=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:s,timescale:a=1,periodStart:u=0,minimumUpdatePeriod:c=0}=t,h=(n+i)/1e3,p=s+u,T=h+c-p;return Math.ceil((T*a-e)/r)},KE=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:s,timescale:a=1,startNumber:u=1,periodStart:c}=t,h=[];let p=-1;for(let g=0;g<e.length;g++){const T=e[g],S=T.d,E=T.r||0,v=T.t||0;p<0&&(p=v),v&&v>p&&(p=v);let C;if(E<0){const D=g+1;D===e.length?r==="dynamic"&&n>0&&i.indexOf("$Number$")>0?C=W$(t,p,S):C=(s*a-p)/S:C=(e[D].t-p)/S}else C=E+1;const P=u+h.length+C;let R=u+h.length;for(;R<P;)h.push({number:R,duration:S/a,time:p,timeline:c}),p+=S,R++}return h},G$=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,K$=t=>(e,r,n,i)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const s=""+t[r];return r==="RepresentationID"||(n?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},gT=(t,e)=>t.replace(G$,K$(e)),X$=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?k_(t):KE(t,e),Y$=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=Dd({baseUrl:t.baseUrl,source:gT(n.sourceURL,r),range:n.range});return X$(t,e).map(a=>{r.Number=a.number,r.Time=a.time;const u=gT(t.media||"",r),c=t.timescale||1,h=t.presentationTimeOffset||0,p=t.periodStart+(a.time-h)/c;return{uri:u,timeline:a.timeline,duration:a.duration,resolvedUri:um(t.baseUrl||"",u),map:i,number:a.number,presentationTime:p}})},Q$=(t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=Dd({baseUrl:r,source:n.sourceURL,range:n.range}),s=Dd({baseUrl:r,source:e.media,range:e.mediaRange});return s.map=i,s},J$=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:i}=t;if(!r&&!e||r&&e)throw new Error(wu.SEGMENT_TIME_UNSPECIFIED);const s=n.map(c=>Q$(t,c));let a;return r&&(a=k_(t)),e&&(a=KE(t,e)),a.map((c,h)=>{if(s[h]){const p=s[h],g=t.timescale||1,T=t.presentationTimeOffset||0;return p.timeline=c.timeline,p.duration=c.duration,p.number=c.number,p.presentationTime=i+(c.time-T)/g,p}}).filter(c=>c)},Z$=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=Y$,r=Rr(t,e.template)):e.base?(n=WE,r=Rr(t,e.base)):e.list&&(n=J$,r=Rr(t,e.list));const i={attributes:t};if(!n)return i;const s=n(r,e.segmentTimeline);if(r.duration){const{duration:a,timescale:u=1}=r;r.duration=a/u}else s.length?r.duration=s.reduce((a,u)=>Math.max(a,Math.ceil(u.duration)),0):r.duration=0;return i.attributes=r,i.segments=s,e.base&&r.indexRange&&(i.sidx=s[0],i.segments=[]),i},e6=t=>t.map(Z$),Ht=(t,e)=>qE(t.childNodes).filter(({tagName:r})=>r===e),Wd=t=>t.textContent.trim(),t6=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),Ql=t=>{const u=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!u)return 0;const[c,h,p,g,T,S]=u.slice(1);return parseFloat(c||0)*31536e3+parseFloat(h||0)*2592e3+parseFloat(p||0)*86400+parseFloat(g||0)*3600+parseFloat(T||0)*60+parseFloat(S||0)},r6=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),vT={mediaPresentationDuration(t){return Ql(t)},availabilityStartTime(t){return r6(t)/1e3},minimumUpdatePeriod(t){return Ql(t)},suggestedPresentationDelay(t){return Ql(t)},type(t){return t},timeShiftBufferDepth(t){return Ql(t)},start(t){return Ql(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return t6(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Ql(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},fr=t=>t&&t.attributes?qE(t.attributes).reduce((e,r)=>{const n=vT[r.name]||vT.DEFAULT;return e[r.name]=n(r.value),e},{}):{},n6={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},hm=(t,e)=>e.length?Eu(t.map(function(r){return e.map(function(n){const i=Wd(n),s=um(r.baseUrl,i),a=Rr(fr(n),{baseUrl:s});return s!==i&&!a.serviceLocation&&r.serviceLocation&&(a.serviceLocation=r.serviceLocation),a})})):t,I_=t=>{const e=Ht(t,"SegmentTemplate")[0],r=Ht(t,"SegmentList")[0],n=r&&Ht(r,"SegmentURL").map(g=>Rr({tag:"SegmentURL"},fr(g))),i=Ht(t,"SegmentBase")[0],s=r||e,a=s&&Ht(s,"SegmentTimeline")[0],u=r||i||e,c=u&&Ht(u,"Initialization")[0],h=e&&fr(e);h&&c?h.initialization=c&&fr(c):h&&h.initialization&&(h.initialization={sourceURL:h.initialization});const p={template:h,segmentTimeline:a&&Ht(a,"S").map(g=>fr(g)),list:r&&Rr(fr(r),{segmentUrls:n,initialization:fr(c)}),base:i&&Rr(fr(i),{initialization:fr(c)})};return Object.keys(p).forEach(g=>{p[g]||delete p[g]}),p},i6=(t,e,r)=>n=>{const i=Ht(n,"BaseURL"),s=hm(e,i),a=Rr(t,fr(n)),u=I_(n);return s.map(c=>({segmentInfo:Rr(r,u),attributes:Rr(a,c)}))},s6=t=>t.reduce((e,r)=>{const n=fr(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=n6[n.schemeIdUri];if(i){e[i]={attributes:n};const s=Ht(r,"cenc:pssh")[0];if(s){const a=Wd(s);e[i].pssh=a&&BE(a)}}return e},{}),o6=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let n,i;return i=r,/^CC\d=/.test(r)?[n,i]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[i,s=""]=r.split("=");n.channel=i,n.language=r,s.split(",").forEach(a=>{const[u,c]=a.split(":");u==="lang"?n.language=c:u==="er"?n.easyReader=Number(c):u==="war"?n.aspectRatio=Number(c):u==="3D"&&(n["3D"]=Number(c))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},a6=t=>Eu(Ht(t.node,"EventStream").map(e=>{const r=fr(e),n=r.schemeIdUri;return Ht(e,"Event").map(i=>{const s=fr(i),a=s.presentationTime||0,u=r.timescale||1,c=s.duration||0,h=a/u+t.attributes.start;return{schemeIdUri:n,value:r.value,id:s.id,start:h,end:h+c/u,messageData:Wd(i)||s.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),l6=(t,e,r)=>n=>{const i=fr(n),s=hm(e,Ht(n,"BaseURL")),a=Ht(n,"Role")[0],u={role:fr(a)};let c=Rr(t,i,u);const h=Ht(n,"Accessibility")[0],p=o6(fr(h));p&&(c=Rr(c,{captionServices:p}));const g=Ht(n,"Label")[0];if(g&&g.childNodes.length){const C=g.childNodes[0].nodeValue.trim();c=Rr(c,{label:C})}const T=s6(Ht(n,"ContentProtection"));Object.keys(T).length&&(c=Rr(c,{contentProtection:T}));const S=I_(n),E=Ht(n,"Representation"),v=Rr(r,S);return Eu(E.map(i6(c,s,v)))},u6=(t,e)=>(r,n)=>{const i=hm(e,Ht(r.node,"BaseURL")),s=Rr(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(s.periodDuration=r.attributes.duration);const a=Ht(r.node,"AdaptationSet"),u=I_(r.node);return Eu(a.map(l6(s,i,u)))},c6=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=Rr({serverURL:Wd(t[0])},fr(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},d6=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,h6=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,a=Ht(t,"Period");if(!a.length)throw new Error(wu.INVALID_NUMBER_OF_PERIOD);const u=Ht(t,"Location"),c=fr(t),h=hm([{baseUrl:r}],Ht(t,"BaseURL")),p=Ht(t,"ContentSteering");c.type=c.type||"static",c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=n,c.clientOffset=i,u.length&&(c.locations=u.map(Wd));const g=[];return a.forEach((T,S)=>{const E=fr(T),v=g[S-1];E.start=d6({attributes:E,priorPeriodAttributes:v?v.attributes:null,mpdType:c.type}),g.push({node:T,attributes:E})}),{locations:c.locations,contentSteeringInfo:c6(p,s),representationInfo:Eu(g.map(u6(c,h))),eventStream:Eu(g.map(a6))}},XE=t=>{if(t==="")throw new Error(wu.DASH_EMPTY_MANIFEST);const e=new S$.DOMParser;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(wu.DASH_INVALID_XML);return n},f6=t=>{const e=Ht(t,"UTCTiming")[0];if(!e)return null;const r=fr(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(wu.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},p6=(t,e={})=>{const r=h6(XE(t),e),n=e6(r.representationInfo);return q$({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},m6=t=>f6(XE(t));var tv,yT;function g6(){if(yT)return tv;yT=1;var t=Math.pow(2,32),e=function(r){var n=new DataView(r.buffer,r.byteOffset,r.byteLength),i;return n.getBigUint64?(i=n.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):n.getUint32(0)*t+n.getUint32(4)};return tv={getUint64:e,MAX_UINT32:t},tv}var rv,_T;function v6(){if(_T)return rv;_T=1;var t=g6().getUint64,e=function(r){var n=new DataView(r.buffer,r.byteOffset,r.byteLength),i={version:r[0],flags:new Uint8Array(r.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8)},s=12;i.version===0?(i.earliestPresentationTime=n.getUint32(s),i.firstOffset=n.getUint32(s+4),s+=8):(i.earliestPresentationTime=t(r.subarray(s)),i.firstOffset=t(r.subarray(s+8)),s+=16),s+=2;var a=n.getUint16(s);for(s+=2;a>0;s+=12,a--)i.references.push({referenceType:(r[s]&128)>>>7,referencedSize:n.getUint32(s)&2147483647,subsegmentDuration:n.getUint32(s+4),startsWithSap:!!(r[s+8]&128),sapType:(r[s+8]&112)>>>4,sapDeltaTime:n.getUint32(s+8)&268435455});return i};return rv=e,rv}var y6=v6();const _6=mr(y6);var x6=Ge([73,68,51]),b6=function(e,r){r===void 0&&(r=0),e=Ge(e);var n=e[r+5],i=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],s=(n&16)>>4;return s?i+20:i+10},rd=function t(e,r){return r===void 0&&(r=0),e=Ge(e),e.length-r<10||!Ut(e,x6,{offset:r})?r:(r+=b6(e,r),t(e,r))},xT=function(e){return typeof e=="string"?zE(e):e},S6=function(e){return Array.isArray(e)?e.map(function(r){return xT(r)}):[xT(e)]},T6=function t(e,r,n){n===void 0&&(n=!1),r=S6(r),e=Ge(e);var i=[];if(!r.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,u=e.subarray(s+4,s+8);if(a===0)break;var c=s+a;if(c>e.length){if(n)break;c=e.length}var h=e.subarray(s+8,c);Ut(u,r[0])&&(r.length===1?i.push(h):i.push.apply(i,t(h,r.slice(1),n))),s=c}return i},Tf={EBML:Ge([26,69,223,163]),DocType:Ge([66,130]),Segment:Ge([24,83,128,103]),SegmentInfo:Ge([21,73,169,102]),Tracks:Ge([22,84,174,107]),Track:Ge([174]),TrackNumber:Ge([215]),DefaultDuration:Ge([35,227,131]),TrackEntry:Ge([174]),TrackType:Ge([131]),FlagDefault:Ge([136]),CodecID:Ge([134]),CodecPrivate:Ge([99,162]),VideoTrack:Ge([224]),AudioTrack:Ge([225]),Cluster:Ge([31,67,182,117]),Timestamp:Ge([231]),TimestampScale:Ge([42,215,177]),BlockGroup:Ge([160]),BlockDuration:Ge([155]),Block:Ge([161]),SimpleBlock:Ge([163])},Wv=[128,64,32,16,8,4,2,1],C6=function(e){for(var r=1,n=0;n<Wv.length&&!(e&Wv[n]);n++)r++;return r},ap=function(e,r,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var s=C6(e[r]),a=e.subarray(r,r+s);return n&&(a=Array.prototype.slice.call(e,r,r+s),a[0]^=Wv[s-1]),{length:s,value:p$(a,{signed:i}),bytes:a}},bT=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?m$(e):e},E6=function(e){return Array.isArray(e)?e.map(function(r){return bT(r)}):[bT(e)]},w6=function t(e,r,n){if(n>=r.length)return r.length;var i=ap(r,n,!1);if(Ut(e.bytes,i.bytes))return n;var s=ap(r,n+i.length);return t(e,r,n+s.length+s.value+i.length)},ST=function t(e,r){r=E6(r),e=Ge(e);var n=[];if(!r.length)return n;for(var i=0;i<e.length;){var s=ap(e,i,!1),a=ap(e,i+s.length),u=i+s.length+a.length;a.value===127&&(a.value=w6(s,e,u),a.value!==e.length&&(a.value-=u));var c=u+a.value>e.length?e.length:u+a.value,h=e.subarray(u,c);Ut(r[0],s.bytes)&&(r.length===1?n.push(h):n=n.concat(t(h,r.slice(1))));var p=s.length+a.length+h.length;i+=p}return n},k6=Ge([0,0,0,1]),D6=Ge([0,0,1]),A6=Ge([0,0,3]),I6=function(e){for(var r=[],n=1;n<e.length-2;)Ut(e.subarray(n,n+3),A6)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var i=e.length-r.length,s=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),s[n]=e[a];return s},YE=function(e,r,n,i){e=Ge(e),n=[].concat(n);for(var s=0,a,u=0;s<e.length&&(u<i||a);){var c=void 0;if(Ut(e.subarray(s),k6)?c=4:Ut(e.subarray(s),D6)&&(c=3),!c){s++;continue}if(u++,a)return I6(e.subarray(a,s));var h=void 0;r==="h264"?h=e[s+c]&31:r==="h265"&&(h=e[s+c]>>1&63),n.indexOf(h)!==-1&&(a=s+c),s+=c+(r==="h264"?1:2)}return e.subarray(0,0)},P6=function(e,r,n){return YE(e,"h264",r,n)},R6=function(e,r,n){return YE(e,"h265",r,n)},fn={webm:Ge([119,101,98,109]),matroska:Ge([109,97,116,114,111,115,107,97]),flac:Ge([102,76,97,67]),ogg:Ge([79,103,103,83]),ac3:Ge([11,119]),riff:Ge([82,73,70,70]),avi:Ge([65,86,73]),wav:Ge([87,65,86,69]),"3gp":Ge([102,116,121,112,51,103]),mp4:Ge([102,116,121,112]),fmp4:Ge([115,116,121,112]),mov:Ge([102,116,121,112,113,116]),moov:Ge([109,111,111,118]),moof:Ge([109,111,111,102])},ku={aac:function(e){var r=rd(e);return Ut(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=rd(e);return Ut(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=ST(e,[Tf.EBML,Tf.DocType])[0];return Ut(r,fn.webm)},mkv:function(e){var r=ST(e,[Tf.EBML,Tf.DocType])[0];return Ut(r,fn.matroska)},mp4:function(e){if(ku["3gp"](e)||ku.mov(e))return!1;if(Ut(e,fn.mp4,{offset:4})||Ut(e,fn.fmp4,{offset:4})||Ut(e,fn.moof,{offset:4})||Ut(e,fn.moov,{offset:4}))return!0},mov:function(e){return Ut(e,fn.mov,{offset:4})},"3gp":function(e){return Ut(e,fn["3gp"],{offset:4})},ac3:function(e){var r=rd(e);return Ut(e,fn.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=rd(e);return Ut(e,fn.flac,{offset:r})},ogg:function(e){return Ut(e,fn.ogg)},avi:function(e){return Ut(e,fn.riff)&&Ut(e,fn.avi,{offset:8})},wav:function(e){return Ut(e,fn.riff)&&Ut(e,fn.wav,{offset:8})},h264:function(e){return P6(e,7,3).length},h265:function(e){return R6(e,[32,33],3).length}},Gv=Object.keys(ku).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Gv.forEach(function(t){var e=ku[t];ku[t]=function(r){return e(Ge(r))}});var O6=ku,P_=function(e){e=Ge(e);for(var r=0;r<Gv.length;r++){var n=Gv[r];if(O6[n](e))return n}return""},L6=function(e){return T6(e,["moof"]).length>0},nv,TT;function M6(){if(TT)return nv;TT=1;var t=9e4,e,r,n,i,s,a,u;return e=function(c){return c*t},r=function(c,h){return c*h},n=function(c){return c/t},i=function(c,h){return c/h},s=function(c,h){return e(i(c,h))},a=function(c,h){return r(n(c),h)},u=function(c,h,p){return n(p?c:c-h)},nv={ONE_SECOND_IN_TS:t,secondsToVideoTs:e,secondsToAudioTs:r,videoTsToSeconds:n,audioTsToSeconds:i,audioTsToVideoTs:s,videoTsToAudioTs:a,metadataTsToSeconds:u},nv}var Ra=M6();/**
 * @license
 * Video.js 8.18.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Kv="8.18.1";const Ws={},Uo=function(t,e){return Ws[t]=Ws[t]||[],e&&(Ws[t]=Ws[t].concat(e)),Ws[t]},N6=function(t,e){Uo(t,e)},QE=function(t,e){const r=Uo(t).indexOf(e);return r<=-1?!1:(Ws[t]=Ws[t].slice(),Ws[t].splice(r,1),!0)},B6=function(t,e){Uo(t,[].concat(e).map(r=>{const n=(...i)=>(QE(t,n),r(...i));return n}))},lp={prefixed:!0},Ff=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],CT=Ff[0];let nd;for(let t=0;t<Ff.length;t++)if(Ff[t][1]in Ie){nd=Ff[t];break}if(nd){for(let t=0;t<nd.length;t++)lp[CT[t]]=nd[t];lp.prefixed=nd[0]!==CT[0]}let En=[];const F6=(t,e,r)=>(n,i,s)=>{const a=e.levels[i],u=new RegExp(`^(${a})$`);let c=t;if(n!=="log"&&s.unshift(n.toUpperCase()+":"),r&&(c=`%c${t}`,s.unshift(r)),s.unshift(c+":"),En){En.push([].concat(s));const p=En.length-1e3;En.splice(0,p>0?p:0)}if(!ee.console)return;let h=ee.console[n];!h&&n==="debug"&&(h=ee.console.info||ee.console.log),!(!h||!a||!u.test(n))&&h[Array.isArray(s)?"apply":"call"](ee.console,s)};function Xv(t,e=":",r=""){let n="info",i;function s(...a){i("log",n,a)}return i=F6(t,s,r),s.createLogger=(a,u,c)=>{const h=u!==void 0?u:e,p=c!==void 0?c:r,g=`${t} ${h} ${a}`;return Xv(g,h,p)},s.createNewLogger=(a,u,c)=>Xv(a,u,c),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);n=a}return n},s.history=()=>En?[].concat(En):[],s.history.filter=a=>(En||[]).filter(u=>new RegExp(`.*${a}.*`).test(u[0])),s.history.clear=()=>{En&&(En.length=0)},s.history.disable=()=>{En!==null&&(En.length=0,En=null)},s.history.enable=()=>{En===null&&(En=[])},s.error=(...a)=>i("error",n,a),s.warn=(...a)=>i("warn",n,a),s.debug=(...a)=>i("debug",n,a),s}const ut=Xv("VIDEOJS"),JE=ut.createLogger,$6=Object.prototype.toString,ZE=function(t){return gs(t)?Object.keys(t):[]};function lu(t,e){ZE(t).forEach(r=>e(t[r],r))}function ew(t,e,r=0){return ZE(t).reduce((n,i)=>e(n,t[i],i),r)}function gs(t){return!!t&&typeof t=="object"}function Du(t){return gs(t)&&$6.call(t)==="[object Object]"&&t.constructor===Object}function Mt(...t){const e={};return t.forEach(r=>{r&&lu(r,(n,i)=>{if(!Du(n)){e[i]=n;return}Du(e[i])||(e[i]={}),e[i]=Mt(e[i],n)})}),e}function tw(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const n=t[r];e.push(n)}return e}function fm(t,e,r,n=!0){const i=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=r();return i(a),a}};return n&&(s.set=i),Object.defineProperty(t,e,s)}var j6=Object.freeze({__proto__:null,each:lu,reduce:ew,isObject:gs,isPlain:Du,merge:Mt,values:tw,defineLazyProperty:fm});let R_=!1,rw=null,vs=!1,nw,iw=!1,uu=!1,cu=!1,ys=!1,O_=null,pm=null;const U6=!!(ee.cast&&ee.cast.framework&&ee.cast.framework.CastReceiverContext);let sw=null,up=!1,mm=!1,cp=!1,gm=!1,dp=!1,hp=!1,fp=!1;const Ad=!!(Hu()&&("ontouchstart"in ee||ee.navigator.maxTouchPoints||ee.DocumentTouch&&ee.document instanceof ee.DocumentTouch)),ko=ee.navigator&&ee.navigator.userAgentData;ko&&ko.platform&&ko.brands&&(vs=ko.platform==="Android",uu=!!ko.brands.find(t=>t.brand==="Microsoft Edge"),cu=!!ko.brands.find(t=>t.brand==="Chromium"),ys=!uu&&cu,O_=pm=(ko.brands.find(t=>t.brand==="Chromium")||{}).version||null,mm=ko.platform==="Windows");if(!cu){const t=ee.navigator&&ee.navigator.userAgent||"";R_=/iPod/i.test(t),rw=(function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null})(),vs=/Android/i.test(t),nw=(function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return r&&n?parseFloat(e[1]+"."+e[2]):r||null})(),iw=/Firefox/i.test(t),uu=/Edg/i.test(t),cu=/Chrome/i.test(t)||/CriOS/i.test(t),ys=!uu&&cu,O_=pm=(function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null})(),sw=(function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r})(),dp=/Tizen/i.test(t),hp=/Web0S/i.test(t),fp=dp||hp,up=/Safari/i.test(t)&&!ys&&!vs&&!uu&&!fp,mm=/Windows/i.test(t),cp=/iPad/i.test(t)||up&&Ad&&!/iPhone/i.test(t),gm=/iPhone/i.test(t)&&!cp}const gn=gm||cp||R_,vm=(up||gn)&&!ys;var ow=Object.freeze({__proto__:null,get IS_IPOD(){return R_},get IOS_VERSION(){return rw},get IS_ANDROID(){return vs},get ANDROID_VERSION(){return nw},get IS_FIREFOX(){return iw},get IS_EDGE(){return uu},get IS_CHROMIUM(){return cu},get IS_CHROME(){return ys},get CHROMIUM_VERSION(){return O_},get CHROME_VERSION(){return pm},IS_CHROMECAST_RECEIVER:U6,get IE_VERSION(){return sw},get IS_SAFARI(){return up},get IS_WINDOWS(){return mm},get IS_IPAD(){return cp},get IS_IPHONE(){return gm},get IS_TIZEN(){return dp},get IS_WEBOS(){return hp},get IS_SMART_TV(){return fp},TOUCH_ENABLED:Ad,IS_IOS:gn,IS_ANY_SAFARI:vm});function ET(t){return typeof t=="string"&&!!t.trim()}function z6(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Hu(){return Ie===ee.document}function Vu(t){return gs(t)&&t.nodeType===1}function aw(){try{return ee.parent!==ee.self}catch{return!0}}function lw(t){return function(e,r){if(!ET(e))return Ie[t](null);ET(r)&&(r=Ie.querySelector(r));const n=Vu(r)?r:Ie;return n[t]&&n[t](e)}}function Ze(t="div",e={},r={},n){const i=Ie.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?Vo(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(r).forEach(function(s){i.setAttribute(s,r[s])}),n&&L_(i,n),i}function Vo(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Yv(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function dd(t,e){return z6(e),t.classList.contains(e)}function Ba(t,...e){return t.classList.add(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t}function ym(t,...e){return t?(t.classList.remove(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t):(ut.warn("removeClass was called with an element that doesn't exist"),null)}function uw(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,r)),t}function cw(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const n=e[r];n===null||typeof n>"u"||n===!1?t.removeAttribute(r):t.setAttribute(r,n===!0?"":n)})}function Io(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let i=n.length-1;i>=0;i--){const s=n[i].name;let a=n[i].value;r.includes(s)&&(a=a!==null),e[s]=a}}return e}function dw(t,e){return t.getAttribute(e)}function Au(t,e,r){t.setAttribute(e,r)}function _m(t,e){t.removeAttribute(e)}function hw(){Ie.body.focus(),Ie.onselectstart=function(){return!1}}function fw(){Ie.onselectstart=function(){return!0}}function Iu(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat(Pu(t,"height"))),r.width||(r.width=parseFloat(Pu(t,"width"))),r}}function Id(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let n=0,i=0;for(;t.offsetParent&&t!==Ie[lp.fullscreenElement];)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:n,top:i,width:e,height:r}}function xm(t,e){const r={x:0,y:0};if(gn){let p=t;for(;p&&p.nodeName.toLowerCase()!=="html";){const g=Pu(p,"transform");if(/^matrix/.test(g)){const T=g.slice(7,-1).split(/,\s/).map(Number);r.x+=T[4],r.y+=T[5]}else if(/^matrix3d/.test(g)){const T=g.slice(9,-1).split(/,\s/).map(Number);r.x+=T[12],r.y+=T[13]}if(p.assignedSlot&&p.assignedSlot.parentElement&&ee.WebKitCSSMatrix){const T=ee.getComputedStyle(p.assignedSlot.parentElement).transform,S=new ee.WebKitCSSMatrix(T);r.x+=S.m41,r.y+=S.m42}p=p.parentNode||p.host}}const n={},i=Id(e.target),s=Id(t),a=s.width,u=s.height;let c=e.offsetY-(s.top-i.top),h=e.offsetX-(s.left-i.left);return e.changedTouches&&(h=e.changedTouches[0].pageX-s.left,c=e.changedTouches[0].pageY+s.top,gn&&(h-=r.x,c-=r.y)),n.y=1-Math.max(0,Math.min(1,c/u)),n.x=Math.max(0,Math.min(1,h/a)),n}function pw(t){return gs(t)&&t.nodeType===3}function bm(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function mw(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Vu(e)||pw(e))return e;if(typeof e=="string"&&/\S/.test(e))return Ie.createTextNode(e)}).filter(e=>e)}function L_(t,e){return mw(e).forEach(r=>t.appendChild(r)),t}function gw(t,e){return L_(bm(t),e)}function Pd(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const zo=lw("querySelector"),vw=lw("querySelectorAll");function Pu(t,e){if(!t||!e)return"";if(typeof ee.getComputedStyle=="function"){let r;try{r=ee.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function yw(t){[...Ie.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(i=>i.cssText).join(""),n=Ie.createElement("style");n.textContent=r,t.document.head.appendChild(n)}catch{const n=Ie.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var _w=Object.freeze({__proto__:null,isReal:Hu,isEl:Vu,isInFrame:aw,createEl:Ze,textContent:Vo,prependTo:Yv,hasClass:dd,addClass:Ba,removeClass:ym,toggleClass:uw,setAttributes:cw,getAttributes:Io,getAttribute:dw,setAttribute:Au,removeAttribute:_m,blockTextSelection:hw,unblockTextSelection:fw,getBoundingClientRect:Iu,findPosition:Id,getPointerPosition:xm,isTextNode:pw,emptyEl:bm,normalizeContent:mw,appendContent:L_,insertContent:gw,isSingleLeftClick:Pd,$:zo,$$:vw,computedStyle:Pu,copyStyleSheetsToWindow:yw});let xw=!1,Qv;const H6=function(){if(Qv.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Ie.getElementsByTagName("video")),e=Array.prototype.slice.call(Ie.getElementsByTagName("audio")),r=Array.prototype.slice.call(Ie.getElementsByTagName("video-js")),n=t.concat(e,r);if(n&&n.length>0)for(let i=0,s=n.length;i<s;i++){const a=n[i];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&Qv(a);else{Jv(1);break}}else xw||Jv(1)};function Jv(t,e){Hu()&&(e&&(Qv=e),ee.setTimeout(H6,t))}function Zv(){xw=!0,ee.removeEventListener("load",Zv)}Hu()&&(Ie.readyState==="complete"?Zv():ee.addEventListener("load",Zv));const bw=function(t){const e=Ie.createElement("style");return e.className=t,e},Sw=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var mn=new WeakMap;const V6=3;let q6=V6;function _i(){return q6++}function wT(t,e){if(!mn.has(t))return;const r=mn.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&mn.delete(t)}function M_(t,e,r,n){r.forEach(function(i){t(e,i,n)})}function Sm(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||ee.event;t={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in n)i.includes(s)||s==="returnValue"&&n.preventDefault||(t[s]=n[s]);if(t.target||(t.target=t.srcElement||Ie),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const s=Ie.documentElement,a=Ie.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Cf;const W6=function(){if(typeof Cf!="boolean"){Cf=!1;try{const t=Object.defineProperty({},"passive",{get(){Cf=!0}});ee.addEventListener("test",null,t),ee.removeEventListener("test",null,t)}catch{}}return Cf},G6=["touchstart","touchmove"];function Zn(t,e,r){if(Array.isArray(e))return M_(Zn,t,e,r);mn.has(t)||mn.set(t,{});const n=mn.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=_i()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(i,s){if(n.disabled)return;i=Sm(i);const a=n.handlers[i.type];if(a){const u=a.slice(0);for(let c=0,h=u.length;c<h&&!i.isImmediatePropagationStopped();c++)try{u[c].call(t,i,s)}catch(p){ut.error(p)}}}),n.handlers[e].length===1)if(t.addEventListener){let i=!1;W6()&&G6.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function rn(t,e,r){if(!mn.has(t))return;const n=mn.get(t);if(!n.handlers)return;if(Array.isArray(e))return M_(rn,t,e,r);const i=function(a,u){n.handlers[u]=[],wT(a,u)};if(e===void 0){for(const a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&i(t,a);return}const s=n.handlers[e];if(s){if(!r){i(t,e);return}if(r.guid)for(let a=0;a<s.length;a++)s[a].guid===r.guid&&s.splice(a--,1);wT(t,e)}}function qu(t,e,r){const n=mn.has(t)?mn.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Sm(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&e.bubbles===!0)qu.call(null,i,e,r);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){mn.has(e.target)||mn.set(e.target,{});const s=mn.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function Tm(t,e,r){if(Array.isArray(e))return M_(Tm,t,e,r);const n=function(){rn(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||_i(),Zn(t,e,n)}function N_(t,e,r){const n=function(){rn(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||_i(),Zn(t,e,n)}var K6=Object.freeze({__proto__:null,fixEvent:Sm,on:Zn,off:rn,trigger:qu,one:Tm,any:N_});const xi=30,Nt=function(t,e,r){e.guid||(e.guid=_i());const n=e.bind(t);return n.guid=r?r+"_"+e.guid:e.guid,n},_s=function(t,e){let r=ee.performance.now();return function(...i){const s=ee.performance.now();s-r>=e&&(t(...i),r=s)}},Tw=function(t,e,r,n=ee){let i;const s=()=>{n.clearTimeout(i),i=null},a=function(){const u=this,c=arguments;let h=function(){i=null,h=null,r||t.apply(u,c)};!i&&r&&t.apply(u,c),n.clearTimeout(i),i=n.setTimeout(h,e)};return a.cancel=s,a};var X6=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:xi,bind_:Nt,throttle:_s,debounce:Tw});let Gc;class ei{on(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Zn(this,e,r),this.addEventListener=n}off(e,r){rn(this,e,r)}one(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Tm(this,e,r),this.addEventListener=n}any(e,r){const n=this.addEventListener;this.addEventListener=()=>{},N_(this,e,r),this.addEventListener=n}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=Sm(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),qu(this,e)}queueTrigger(e){Gc||(Gc=new Map);const r=e.type||e;let n=Gc.get(this);n||(n=new Map,Gc.set(this,n));const i=n.get(r);n.delete(r),ee.clearTimeout(i);const s=ee.setTimeout(()=>{n.delete(r),n.size===0&&(n=null,Gc.delete(this)),this.trigger(e)},0);n.set(r,s)}}ei.prototype.allowedEvents_={};ei.prototype.addEventListener=ei.prototype.on;ei.prototype.removeEventListener=ei.prototype.off;ei.prototype.dispatchEvent=ei.prototype.trigger;const Cm=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Ks=t=>t instanceof ei||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),Y6=(t,e)=>{Ks(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},ey=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,pp=(t,e,r)=>{if(!t||!t.nodeName&&!Ks(t))throw new Error(`Invalid target for ${Cm(e)}#${r}; must be a DOM node or evented object.`)},Cw=(t,e,r)=>{if(!ey(t))throw new Error(`Invalid event type for ${Cm(e)}#${r}; must be a non-empty string or array.`)},Ew=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${Cm(e)}#${r}; must be a function.`)},iv=(t,e,r)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,a;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(i=e[0],s=e[1],a=e[2]),pp(i,t,r),Cw(s,t,r),Ew(a,t,r),a=Nt(t,a),{isTargetingSelf:n,target:i,type:s,listener:a}},ka=(t,e,r,n)=>{pp(t,t,e),t.nodeName?K6[e](t,r,n):t[e](r,n)},Q6={on(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=iv(this,t,"on");if(ka(r,"on",n,i),!e){const s=()=>this.off(r,n,i);s.guid=i.guid;const a=()=>this.off("dispose",s);a.guid=i.guid,ka(this,"on","dispose",s),ka(r,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=iv(this,t,"one");if(e)ka(r,"one",n,i);else{const s=(...a)=>{this.off(r,n,s),i.apply(null,a)};s.guid=i.guid,ka(r,"one",n,s)}},any(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=iv(this,t,"any");if(e)ka(r,"any",n,i);else{const s=(...a)=>{this.off(r,n,s),i.apply(null,a)};s.guid=i.guid,ka(r,"any",n,s)}},off(t,e,r){if(!t||ey(t))rn(this.eventBusEl_,t,e);else{const n=t,i=e;pp(n,this,"off"),Cw(i,this,"off"),Ew(r,this,"off"),r=Nt(this,r),this.off("dispose",r),n.nodeName?(rn(n,i,r),rn(n,"dispose",r)):Ks(n)&&(n.off(i,r),n.off("dispose",r))}},trigger(t,e){pp(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!ey(r))throw new Error(`Invalid event type for ${Cm(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return qu(this.eventBusEl_,t,e)}};function B_(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=Ze("span",{className:"vjs-event-bus"});return Object.assign(t,Q6),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&mn.has(n)&&mn.delete(n)}),ee.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const J6={state:{},setState(t){typeof t=="function"&&(t=t());let e;return lu(t,(r,n)=>{this.state[n]!==r&&(e=e||{},e[n]={from:this.state[n],to:r}),this.state[n]=r}),e&&Ks(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function ww(t,e){return Object.assign(t,J6),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Ks(t)&&t.on("statechanged",t.handleStateChanged),t}const hd=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},rr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},kw=function(t,e){return rr(t)===rr(e)};var Z6=Object.freeze({__proto__:null,toLowerCase:hd,toTitleCase:rr,titleCaseEquals:kw});class xe{constructor(e,r,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Mt({},this.options_),r=this.options_=Mt(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${_i()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),r.evented!==!1&&(B_(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),ww(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Mt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,n){return Ze(e,r,n)}localize(e,r,n=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[i],u=i&&i.split("-")[0],c=s&&s[u];let h=n;return a&&a[e]?h=a[e]:c&&c[e]&&(h=c[e]),r&&(h=h.replace(/\{(\d+)\}/g,function(p,g){const T=r[g-1];let S=T;return typeof T>"u"&&(S=p),S})),h}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,i)=>n.concat(i),[]);let r=this;for(let n=0;n<e.length;n++)if(r=r.getChild(e[n]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=Ze("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=Ie.createElementNS(n,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=Ie.createElementNS(n,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?r.replaceChild(i,r.querySelector(".vjs-icon-placeholder")):r.appendChild(i),this.iconIsSet_=!0,i}addChild(e,r={},n=this.children_.length){let i,s;if(typeof e=="string"){s=rr(e);const a=r.componentClass||s;r.name=s;const u=xe.getComponent(a);if(!u)throw new Error(`Component ${a} does not exist`);if(typeof u!="function")return null;i=new u(this.player_||this,r)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&rr(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[hd(s)]=i),typeof i.el=="function"&&i.el()){let a=null;this.children_[n+1]&&(this.children_[n+1].el_?a=this.children_[n+1].el_:Vu(this.children_[n+1])&&(a=this.children_[n+1])),this.contentEl().insertBefore(i.el(),a)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){r=!0,this.children_.splice(i,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[rr(e.name())]=null,this.childNameIndex_[hd(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,n=a=>{const u=a.name;let c=a.opts;if(r[u]!==void 0&&(c=r[u]),c===!1)return;c===!0&&(c={}),c.playerOptions=this.options_.playerOptions;const h=this.addChild(u,c);h&&(this[u]=h)};let i;const s=xe.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(a){return!i.some(function(u){return typeof u=="string"?a===u:a===u.name})})).map(a=>{let u,c;return typeof a=="string"?(u=a,c=e[u]||this.options_[u]||{}):(u=a.name,c=a),{name:u,opts:c}}).filter(a=>{const u=xe.getComponent(a.opts.componentClass||rr(a.name));return u&&!s.isTech(u)}).forEach(n)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return zo(e,r||this.contentEl())}$$(e,r){return vw(e,r||this.contentEl())}hasClass(e){return dd(this.el_,e)}addClass(...e){Ba(this.el_,...e)}removeClass(...e){ym(this.el_,...e)}toggleClass(e,r){uw(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return dw(this.el_,e)}setAttribute(e,r){Au(this.el_,e,r)}removeAttribute(e){_m(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,n){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+rr(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Pu(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const n=`offset${rr(e)}`;r=this.el_[n]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},n={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:r,center:n}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const n=10,i=200;let s;this.on("touchstart",function(u){u.touches.length===1&&(r={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},e=ee.performance.now(),s=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)s=!1;else if(r){const c=u.touches[0].pageX-r.pageX,h=u.touches[0].pageY-r.pageY;Math.sqrt(c*c+h*h)>n&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(u){r=null,s===!0&&ee.performance.now()-e<i&&(u.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Nt(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const n=function(i){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,r){var n;return e=Nt(this,e),this.clearTimersOnDispose_(),n=ee.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},r),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),ee.clearTimeout(e)),e}setInterval(e,r){e=Nt(this,e),this.clearTimersOnDispose_();const n=ee.setInterval(e,r);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),ee.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=Nt(this,e),r=ee.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),r=Nt(this,r);const n=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),ee.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((n,i)=>this[r](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function r(s){const a=ee.getComputedStyle(s,null),u=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(u)}function n(s){return!(!r(s.parentElement)||!r(s)||s.style.opacity==="0"||ee.getComputedStyle(s).height==="0px"||ee.getComputedStyle(s).width==="0px")}function i(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(Ie.documentElement.clientWidth||ee.innerWidth)||a.y<0||a.y>(Ie.documentElement.clientHeight||ee.innerHeight))return!1;let u=Ie.elementFromPoint(a.x,a.y);for(;u;){if(u===s)return!0;if(u.parentNode)u=u.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&n(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=xe.getComponent("Tech"),i=n&&n.isTech(r),s=xe===r||xe.prototype.isPrototypeOf(r.prototype);if(i||!s){let u;throw i?u="techs must be registered using Tech.registerTech()":u="must be a Component subclass",new Error(`Illegal component, "${e}"; ${u}.`)}e=rr(e),xe.components_||(xe.components_={});const a=xe.getComponent("Player");if(e==="Player"&&a&&a.players){const u=a.players,c=Object.keys(u);if(u&&c.length>0&&c.map(h=>u[h]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return xe.components_[e]=r,xe.components_[hd(e)]=r,r}static getComponent(e){if(!(!e||!xe.components_))return xe.components_[e]}}xe.registerComponent("Component",xe);function ej(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function kT(t,e,r,n){return ej(t,n,r.length-1),r[n][e]}function sv(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:kT.bind(null,"start",0,t),end:kT.bind(null,"end",1,t)},ee.Symbol&&ee.Symbol.iterator&&(e[ee.Symbol.iterator]=()=>(t||[]).values()),e}function Ni(t,e){return Array.isArray(t)?sv(t):t===void 0||e===void 0?sv():sv([[t,e]])}const Dw=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=n=r="-"),i=i>0||a>0?i+":":"",n=((i||s>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r};let F_=Dw;function Aw(t){F_=t}function Iw(){F_=Dw}function Va(t,e=t){return F_(t,e)}var tj=Object.freeze({__proto__:null,createTimeRanges:Ni,createTimeRange:Ni,setFormatTime:Aw,resetFormatTime:Iw,formatTime:Va});function Pw(t,e){let r=0,n,i;if(!e)return 0;(!t||!t.length)&&(t=Ni(0,0));for(let s=0;s<t.length;s++)n=t.start(s),i=t.end(s),i>e&&(i=e),r+=i-n;return r/e}function Xt(t){if(t instanceof Xt)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:gs(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Xt.defaultMessages[this.code]||"")}Xt.prototype.code=0;Xt.prototype.message="";Xt.prototype.status=null;Xt.prototype.metadata=null;Xt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Xt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Xt.MEDIA_ERR_CUSTOM=0;Xt.prototype.MEDIA_ERR_CUSTOM=0;Xt.MEDIA_ERR_ABORTED=1;Xt.prototype.MEDIA_ERR_ABORTED=1;Xt.MEDIA_ERR_NETWORK=2;Xt.prototype.MEDIA_ERR_NETWORK=2;Xt.MEDIA_ERR_DECODE=3;Xt.prototype.MEDIA_ERR_DECODE=3;Xt.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Xt.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Xt.MEDIA_ERR_ENCRYPTED=5;Xt.prototype.MEDIA_ERR_ENCRYPTED=5;function fd(t){return t!=null&&typeof t.then=="function"}function as(t){fd(t)&&t.then(null,e=>{})}const ty=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,n,i)=>(t[n]&&(r[n]=t[n]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})},rj=function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const s=ty(i.track);return i.src&&(s.src=i.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return r.indexOf(i)===-1}).map(ty))},nj=function(t,e){return t.forEach(function(r){const n=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(i=>n.addCue(i))}),e.textTracks()};var DT={textTracksToJson:rj,jsonToTextTracks:nj,trackToJson_:ty};const ov="vjs-modal-dialog";class Wu extends xe{constructor(e,r){super(e,r),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Ze("div",{className:`${ov}-content`},{role:"document"}),this.descEl_=Ze("p",{className:`${ov}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Vo(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${ov} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let n=this.getChild("closeButton");if(r&&!n){const i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!r&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),n=r.parentNode,i=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(r),this.empty(),gw(r,e),this.trigger("modalfill"),i?n.insertBefore(r,i):n.appendChild(r);const s=this.getChild("closeButton");s&&n.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),bm(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Ie.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const r=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let s=0;s<r.length;s++)if(n===r[s]){i=s;break}Ie.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof ee.HTMLAnchorElement||r instanceof ee.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof ee.HTMLInputElement||r instanceof ee.HTMLSelectElement||r instanceof ee.HTMLTextAreaElement||r instanceof ee.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof ee.HTMLIFrameElement||r instanceof ee.HTMLObjectElement||r instanceof ee.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}Wu.prototype.options_={pauseOnOpen:!0,temporary:!0};xe.registerComponent("ModalDialog",Wu);class Ru extends ei{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Ks(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this[n],r.off&&r.off(),this.tracks_.splice(n,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){r=s;break}}return r}}Ru.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Ru.prototype.allowedEvents_)Ru.prototype["on"+t]=null;const av=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class ij extends Ru{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){av(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&av(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,av(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const lv=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class sj extends Ru{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){lv(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&lv(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,lv(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class Rw extends Ru{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class oj{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,n=e.length;r<n;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){r=this.trackElements_[n];break}return r}removeTrackElement_(e){for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class mp{constructor(e){mp.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(r<i)for(n=r;n<i;n++)s.call(this,n)}getCueById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){r=s;break}}return r}}const aj={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},lj={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},uj={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},AT={disabled:"disabled",hidden:"hidden",showing:"showing"};class $_ extends ei{constructor(e={}){super();const r={id:e.id||"vjs_track_"+_i(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in r)Object.defineProperty(this,i,{get(){return r[i]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(i){i!==n&&(n=i,this.trigger("labelchange"))}})}}const j_=function(t){return new URL(t,Ie.baseURI)},Ow=function(t){return new URL(t,Ie.baseURI).href},U_=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},Em=function(t,e=ee.location){return j_(t).origin!==e.origin};var cj=Object.freeze({__proto__:null,parseUrl:j_,getAbsoluteURL:Ow,getFileExtension:U_,isCrossOrigin:Em});const IT=function(t,e){const r=new ee.WebVTT.Parser(ee,ee.vttjs,ee.WebVTT.StringDecoder()),n=[];r.oncue=function(i){e.addCue(i)},r.onparsingerror=function(i){n.push(i)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),n.length>0&&(ee.console&&ee.console.groupCollapsed&&ee.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(i=>ut.error(i)),ee.console&&ee.console.groupEnd&&ee.console.groupEnd()),r.flush()},PT=function(t,e){const r={uri:t},n=Em(t);n&&(r.cors=n);const i=e.tech_.crossOrigin()==="use-credentials";i&&(r.withCredentials=i),NE(r,Nt(this,function(s,a,u){if(s)return ut.error(s,a);e.loaded_=!0,typeof ee.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],c=>{if(c.type==="vttjserror"){ut.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return IT(u,e)}):IT(u,e)}))};class Gd extends $_{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=Mt(e,{kind:uj[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=AT[r.mode]||"disabled";const i=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(n="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new mp(this.cues_),a=new mp(this.activeCues_);let u=!1;this.timeupdateHandler=Nt(this,function(h={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){h.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1),h.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const c=()=>{this.stopTracking()};this.tech_.one("dispose",c),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(h){AT[h]&&n!==h&&(n=h,!this.preload_&&n!=="disabled"&&this.cues.length===0&&PT(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const h=this.tech_.currentTime(),p=[];for(let g=0,T=this.cues.length;g<T;g++){const S=this.cues[g];S.startTime<=h&&S.endTime>=h&&p.push(S)}if(u=!1,p.length!==this.activeCues_.length)u=!0;else for(let g=0;g<p.length;g++)this.activeCues_.indexOf(p[g])===-1&&(u=!0);return this.activeCues_=p,a.setCues_(this.activeCues_),a},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&PT(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new ee.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in r||(r[i]=e[i]);r.id=e.id,r.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const n=this.cues_[r];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}Gd.prototype.allowedEvents_={cuechange:"cuechange"};class Lw extends $_{constructor(e={}){const r=Mt(e,{kind:lj[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class Mw extends $_{constructor(e={}){const r=Mt(e,{kind:aj[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class Zs extends ei{constructor(e={}){super();let r;const n=new Gd(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return n}}}),r=Zs.NONE,n.addEventListener("loadeddata",()=>{r=Zs.LOADED,this.trigger({type:"load",target:this})})}}Zs.prototype.allowedEvents_={load:"load"};Zs.NONE=0;Zs.LOADING=1;Zs.LOADED=2;Zs.ERROR=3;const gi={audio:{ListClass:ij,TrackClass:Lw,capitalName:"Audio"},video:{ListClass:sj,TrackClass:Mw,capitalName:"Video"},text:{ListClass:Rw,TrackClass:Gd,capitalName:"Text"}};Object.keys(gi).forEach(function(t){gi[t].getterName=`${t}Tracks`,gi[t].privateName=`${t}Tracks_`});const Ou={remoteText:{ListClass:Rw,TrackClass:Gd,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:oj,TrackClass:Zs,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},pn=Object.assign({},gi,Ou);Ou.names=Object.keys(Ou);gi.names=Object.keys(gi);pn.names=[].concat(Ou.names).concat(gi.names);function dj(t,e,r,n,i={}){const s=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;const a=new pn.text.TrackClass(i);return s.addTrack(a),a}class st extends xe{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),pn.names.forEach(n=>{const i=pn[n];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new pn.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Nt(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Ni(0,0)}bufferedPercent(){return Pw(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(gi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const n=this[`${r}Tracks`]()||[];let i=n.length;for(;i--;){const s=n[i];r==="text"&&this.removeRemoteTextTrack(s),n.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const n=e[r];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Xt(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Ni(0,0):Ni()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){gi.names.forEach(e=>{const r=gi[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!ee.WebVTT)if(Ie.body.contains(this.el())){if(!this.options_["vtt.js"]&&Du(eT)&&Object.keys(eT).length>0){this.trigger("vttjsloaded");return}const e=Ie.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),ee.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),n=u=>e.addTrack(u.track),i=u=>e.removeTrack(u.track);r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let u=0;u<e.length;u++){const c=e[u];c.removeEventListener("cuechange",s),c.mode==="showing"&&c.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let u=0;u<e.length;u++)e[u].removeEventListener("cuechange",s)})}addTextTrack(e,r,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return dj(this,e,r,n)}createRemoteTextTrack(e){const r=Mt(e,{tech:this});return new Ou.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const n=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=_i();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return st.canPlayType(e.type)}static isTech(e){return e.prototype instanceof st||e instanceof st||e===st}static registerTech(e,r){if(st.techs_||(st.techs_={}),!st.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!st.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!st.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=rr(e),st.techs_[e]=r,st.techs_[hd(e)]=r,e!=="Tech"&&st.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(st.techs_&&st.techs_[e])return st.techs_[e];if(e=rr(e),ee&&ee.videojs&&ee.videojs[e])return ut.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),ee.videojs[e]}}}pn.names.forEach(function(t){const e=pn[t];st.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});st.prototype.featuresVolumeControl=!0;st.prototype.featuresMuteControl=!0;st.prototype.featuresFullscreenResize=!1;st.prototype.featuresPlaybackRate=!1;st.prototype.featuresProgressEvents=!1;st.prototype.featuresSourceset=!1;st.prototype.featuresTimeupdateEvents=!1;st.prototype.featuresNativeTextTracks=!1;st.prototype.featuresVideoFrameCallback=!1;st.withSourceHandlers=function(t){t.registerSourceHandler=function(r,n){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,r)},t.canPlayType=function(r){const n=t.sourceHandlers||[];let i;for(let s=0;s<n.length;s++)if(i=n[s].canPlayType(r),i)return i;return""},t.selectSourceHandler=function(r,n){const i=t.sourceHandlers||[];let s;for(let a=0;a<i.length;a++)if(s=i[a].canHandleSource(r,n),s)return i[a];return null},t.canPlaySource=function(r,n){const i=t.selectSourceHandler(r,n);return i?i.canHandleSource(r,n):""},["seekable","seeking","duration"].forEach(function(r){const n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let n=t.selectSourceHandler(r,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:ut.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};xe.registerComponent("Tech",st);st.registerTech("Tech",st);st.defaultTechOrder_=[];const Fa={},gp={},vp={};function hj(t,e){Fa[t]=Fa[t]||[],Fa[t].push(e)}function fj(t,e,r){t.setTimeout(()=>Ia(e,Fa[e.type],r,t),1)}function pj(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function mj(t,e,r){return t.reduceRight(z_(r),e[r]())}function gj(t,e,r,n){return e[r](t.reduce(z_(r),n))}function RT(t,e,r,n=null){const i="call"+rr(r),s=t.reduce(z_(i),n),a=s===vp,u=a?null:e[r](s);return _j(t,r,u,a),u}const vj={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},yj={setCurrentTime:1,setMuted:1,setVolume:1},OT={play:1,pause:1};function z_(t){return(e,r)=>e===vp?vp:r[t]?r[t](e):e}function _j(t,e,r,n){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](n,r)}}function xj(t){gp.hasOwnProperty(t.id())&&delete gp[t.id()]}function bj(t,e){const r=gp[t.id()];let n=null;if(r==null)return n=e(t),gp[t.id()]=[[e,n]],n;for(let i=0;i<r.length;i++){const[s,a]=r[i];s===e&&(n=a)}return n===null&&(n=e(t),r.push([e,n])),n}function Ia(t={},e=[],r,n,i=[],s=!1){const[a,...u]=e;if(typeof a=="string")Ia(t,Fa[a],r,n,i,s);else if(a){const c=bj(n,a);if(!c.setSource)return i.push(c),Ia(t,u,r,n,i,s);c.setSource(Object.assign({},t),function(h,p){if(h)return Ia(t,u,r,n,i,s);i.push(c),Ia(p,t.type===p.type?u:Fa[p.type],r,n,i,s)})}else u.length?Ia(t,u,r,n,i,s):s?r(t,i):Ia(t,Fa["*"],r,n,i,!0)}const Sj={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},yp=function(t=""){const e=U_(t);return Sj[e.toLowerCase()]||""},Tj=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(i=>i.src===e);if(r.length)return r[0].type;const n=t.$$("source");for(let i=0;i<n.length;i++){const s=n[i];if(s.type&&s.src&&s.src===e)return s.type}return yp(e)},Nw=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=Nw(r),Array.isArray(r)?e=e.concat(r):gs(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[LT({src:t})]:gs(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[LT(t)]:t=[];return t};function LT(t){if(!t.type){const e=yp(t.src);e&&(t.type=e)}return t}var Cj=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const MT=dp?10009:hp?461:8,Jl={codes:{play:415,pause:19,ff:417,rw:412,back:MT},names:{415:"play",19:"pause",417:"ff",412:"rw",[MT]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},NT=5;class Ej extends ei{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const r=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(r.key)){if(this.isPaused_)return;r.preventDefault();const n=r.key.substring(5).toLowerCase();this.move(n)}else if(Jl.isEventKey(r,"play")||Jl.isEventKey(r,"pause")||Jl.isEventKey(r,"ff")||Jl.isEventKey(r,"rw")){r.preventDefault();const n=Jl.getEventName(r);this.performMediaAction_(n)}else Jl.isEventKey(r,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(r.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+NT);break;case"rw":this.userSeek_(this.player_.currentTime()-NT);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const r=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);r&&(n=!!r.closest(".video-js"),r.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!n||!r)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,r=[];function n(i){for(const s of i)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&r.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&n(s.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){r.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?n(i.children_):i.hasOwnProperty("items")&&i.items.length>0?n(i.items):this.findSuitableDOMChild(i)&&r.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const s=i.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((u,c)=>{r.push({name:()=>"ModalButton"+(c+1),el:()=>u,getPositions:()=>{const h=u.getBoundingClientRect(),p={x:h.x,y:h.y,width:h.width,height:h.height,top:h.top,right:h.right,bottom:h.bottom,left:h.left},g={x:h.left+h.width/2,y:h.top+h.height/2,width:0,height:0,top:h.top+h.height/2,right:h.left+h.width/2,bottom:h.top+h.height/2,left:h.left+h.width/2};return{boundingClientRect:p,center:g}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:h=>!0,focus:()=>u.focus()})})}}),this.focusableComponents=r,this.focusableComponents}findSuitableDOMChild(e){function r(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let i=0;i<n.children.length;i++){const s=n.children[i],a=r(s);if(a)return a}return null}return e.el()?r(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const r=e||document.activeElement;if(this.focusableComponents.length){for(const n of this.focusableComponents)if(n.el()===r)return n}}add(e){const r=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&r.push(e),this.focusableComponents=r,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let r=0;r<this.focusableComponents.length;r++)if(this.focusableComponents[r].name()===e.name()){this.focusableComponents.splice(r,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const r=this.getCurrentComponent();if(!r)return;const n=r.getPositions(),i=this.focusableComponents.filter(a=>a!==r&&this.isInDirection_(n.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(n.center,i,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:r})}findBestCandidate_(e,r,n){let i=1/0,s=null;for(const a of r){const u=a.getPositions().center,c=this.calculateDistance_(e,u,n);c<i&&(i=c,s=a)}return s}isInDirection_(e,r,n){switch(n){case"right":return r.left>=e.right;case"left":return r.right<=e.left;case"down":return r.top>=e.bottom;case"up":return r.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,r,n){const i=Math.abs(e.x-r.x),s=Math.abs(e.y-r.y);let a;switch(n){case"right":case"left":a=i+s*100;break;case"up":a=s*2+i*.5;break;case"down":a=s*5+i;break;default:a=i+s}return a}searchForTrackSelect_(){const e=this;for(const r of e.updateFocusableComponents())if(r.constructor.name==="TextTrackSelect"){e.focus(r);break}}}class wj extends xe{constructor(e,r,n){const i=Mt({createEl:!1},r);if(super(e,i,n),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let s=0,a=r.playerOptions.techOrder;s<a.length;s++){const u=rr(a[s]);let c=st.getTech(u);if(u||(c=xe.getComponent(u)),c&&c.isSupported()){e.loadTech_(u);break}}else e.src(r.playerOptions.sources)}}xe.registerComponent("MediaLoader",wj);class wm extends xe{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",r={},n={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&ut.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=r.tabIndex;const i=Ze(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(Ze("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Ze("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,Vo(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}xe.registerComponent("ClickableComponent",wm);class ry extends wm{constructor(e,r){super(e,r),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Ze("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(Ze("picture",{className:"vjs-poster",tabIndex:-1},{},Ze("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?as(this.player_.play()):this.player_.pause())}}ry.prototype.crossorigin=ry.prototype.crossOrigin;xe.registerComponent("PosterImage",ry);const hi="#222",BT="#ccc",kj={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function uv(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function rs(t,e,r){try{t.style[e]=r}catch{return}}function FT(t){return t?`${t}px`:""}class Dj extends xe{constructor(e,r,n){super(e,r,n);const i=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",i),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(Nt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=ee.screen.orientation||ee,u=ee.screen.orientation?"change":"orientationchange";a.addEventListener(u,s),e.on("dispose",()=>a.removeEventListener(u,s));const c=this.options_.playerOptions.tracks||[];for(let h=0;h<c.length;h++)this.player_.addRemoteTextTrack(c[h],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,s,a;for(let u=0;u<r.length;u++){const c=r[u];n&&n.enabled&&n.language&&n.language===c.language&&c.kind in e?c.kind===n.kind?a=c:a||(a=c):n&&!n.enabled?(a=null,i=null,s=null):c.default&&(c.kind==="descriptions"&&!i?i=c:c.kind in e&&!s&&(s=c))}a?a.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof ee.WebVTT=="function"&&ee.WebVTT.processCues(ee,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const a=[];for(let u=0;u<e.length;++u){const c=e[u];c.mode==="showing"&&a.push(c)}this.updateForTrack(a);return}let n=null,i=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?n=a:i=a)}if(i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n)),!ee.CSS.supports("inset","10px")){const a=this.el_,u=a.querySelectorAll(".vjs-text-track-cue"),c=this.player_.controlBar.el_.getBoundingClientRect().height,h=this.player_.el_.getBoundingClientRect().height;a.style="",rs(a,"position","relative"),rs(a,"height",h-c+"px"),rs(a,"top","unset"),fp?rs(a,"bottom",h+"px"):rs(a,"bottom","0px"),u.length>0&&u.forEach(p=>{if(p.style.inset){const g=p.style.inset.split(" ");g.length===3&&Object.assign(p.style,{top:g[0],right:g[1],bottom:g[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!ee.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),n=e/r,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(n-i)>.1&&(n>i?s=Math.round((e-r*i)/2):a=Math.round((r-e/i)/2)),rs(this.el_,"insetInline",FT(s)),rs(this.el_,"insetBlock",FT(a))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const s=n[i];if(!s)continue;const a=s.displayState;if(r.color&&(a.firstChild.style.color=r.color),r.textOpacity&&rs(a.firstChild,"color",uv(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(a.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&rs(a.firstChild,"backgroundColor",uv(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?rs(a,"backgroundColor",uv(r.windowColor,r.windowOpacity)):a.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${hi}, 2px 2px 4px ${hi}, 2px 2px 5px ${hi}`:r.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${hi}, 2px 2px ${hi}, 3px 3px ${hi}`:r.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${BT}, 0 1px ${BT}, -1px -1px ${hi}, 0 -1px ${hi}`:r.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${hi}, 0 0 4px ${hi}, 0 0 4px ${hi}, 0 0 4px ${hi}`)),r.fontPercent&&r.fontPercent!==1){const u=ee.parseFloat(a.style.fontSize);a.style.fontSize=u*r.fontPercent+"px",a.style.height="auto",a.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=kj[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof ee.WebVTT!="function"||e.every(n=>!n.activeCues))return;const r=[];for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s)r.push(i.activeCues[s])}ee.WebVTT.processCues(ee,r,this.el_);for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s){const a=i.activeCues[s].displayState;Ba(a,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:n)),i.language&&Au(a,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}xe.registerComponent("TextTrackDisplay",Dj);class Aj extends xe{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),n=Ze("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}xe.registerComponent("LoadingSpinner",Aj);class nn extends wm{createEl(e,r={},n={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),n=Object.assign({type:"button"},n);const i=Ze(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(Ze("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,r={}){const n=this.constructor.name;return ut.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),xe.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}xe.registerComponent("Button",nn);class Bw extends nn{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){as(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();fd(r)?r.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}Bw.prototype.controlText_="Play Video";xe.registerComponent("BigPlayButton",Bw);class Ij extends nn{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}xe.registerComponent("CloseButton",Ij);class Fw extends nn{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),r.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?as(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}Fw.prototype.controlText_="Play";xe.registerComponent("PlayToggle",Fw);class Gu extends xe{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=Ze("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return r.appendChild(n),this.contentEl_=Ze("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Va(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,ut.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Ie.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Gu.prototype.labelText_="Time";Gu.prototype.controlText_="Time";xe.registerComponent("TimeDisplay",Gu);class H_ extends Gu{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}H_.prototype.labelText_="Current Time";H_.prototype.controlText_="Current Time";xe.registerComponent("CurrentTimeDisplay",H_);class V_ extends Gu{constructor(e,r){super(e,r);const n=i=>this.updateContent(i);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}V_.prototype.labelText_="Duration";V_.prototype.controlText_="Duration";xe.registerComponent("DurationDisplay",V_);class Pj extends xe{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return r.appendChild(n),e.appendChild(r),e}}xe.registerComponent("TimeDivider",Pj);class q_ extends Gu{constructor(e,r){super(e,r),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(Ze("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}q_.prototype.labelText_="Remaining Time";q_.prototype.controlText_="Remaining Time";xe.registerComponent("RemainingTimeDisplay",q_);class Rj extends xe{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ze("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Ze("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Ie.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}xe.registerComponent("LiveDisplay",Rj);class $w extends nn{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Ze("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}$w.prototype.controlText_="Seek to live, currently playing live";xe.registerComponent("SeekToLive",$w);function Kd(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var Oj=Object.freeze({__proto__:null,clamp:Kd});class W_ extends xe{constructor(e,r){super(e,r),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},n={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,r,n)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!ys&&e.preventDefault(),hw(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;fw(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(Kd(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=xm(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){const r=this.options_.playerOptions.spatialNavigation,n=r&&r.enabled,i=r&&r.horizontalSeek;n?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}xe.registerComponent("Slider",W_);const cv=(t,e)=>Kd(t/e*100,0,100).toFixed(2)+"%";class Lj extends xe{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=Ze("span",{className:"vjs-control-text"}),n=Ze("span",{textContent:this.localize("Loaded")}),i=Ie.createTextNode(": ");return this.percentageEl_=Ze("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,n=this.player_.buffered(),i=r&&r.isLive()?r.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,u=cv(s,i);this.percent_!==u&&(this.el_.style.width=u,Vo(this.percentageEl_,u),this.percent_=u);for(let c=0;c<n.length;c++){const h=n.start(c),p=n.end(c);let g=a[c];g||(g=this.el_.appendChild(Ze()),a[c]=g),!(g.dataset.start===h&&g.dataset.end===p)&&(g.dataset.start=h,g.dataset.end=p,g.style.left=cv(h,s),g.style.width=cv(p-h,s))}for(let c=a.length;c>n.length;c--)this.el_.removeChild(a[c-1]);a.length=n.length})}}xe.registerComponent("LoadProgressBar",Lj);class Mj extends xe{constructor(e,r){super(e,r),this.update=_s(Nt(this,this.update),xi)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,n){const i=Id(this.el_),s=Iu(this.player_.el()),a=e.width*r;if(!s||!i)return;let u=e.left-s.left+a,c=e.width-a+(s.right-e.right);c||(c=e.width-a,u=a);let h=i.width/2;u<h?h+=h-u:c<h&&(h=c),h<0?h=0:h>i.width&&(h=i.width),h=Math.round(h),this.el_.style.right=`-${h}px`,this.write(n)}write(e){Vo(this.el_,e)}updateTime(e,r,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const u=this.player_.liveTracker.liveWindow(),c=u-r*u;s=(c<1?"":"-")+Va(c,u)}else s=Va(n,a);this.update(e,r,s),i&&i()})}}xe.registerComponent("TimeTooltip",Mj);class G_ extends xe{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=_s(Nt(this,this.update),xi)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,r,i)}}G_.prototype.options_={children:[]};!gn&&!vs&&G_.prototype.options_.children.push("timeTooltip");xe.registerComponent("PlayProgressBar",G_);class jw extends xe{constructor(e,r){super(e,r),this.update=_s(Nt(this,this.update),xi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const n=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,n,()=>{this.el_.style.left=`${e.width*r}px`})}}jw.prototype.options_={children:["timeTooltip"]};xe.registerComponent("MouseTimeDisplay",jw);const Ef=5,$T=12;class K_ extends W_{constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=Nt(this,this.update),this.update=_s(this.update_,xi),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ie&&"visibilityState"in Ie&&this.on(Ie,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Ie.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,xi))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Ie.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==n||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Va(n,s),Va(s,s)],"{1} of {2}")),this.currentTime_=n,this.duration_=s),this.bar&&this.bar.update(Iu(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const n=this.player_.liveTracker;return n&&n.isLive()?(r=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){Pd(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!Pd(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())n=i*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(i>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),u=s.liveCurrentTime();if(n=a+i*s.liveWindow(),n>=u&&(n=u),n<=a&&(n=a+.1),n===1/0)return}this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?as(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Ef)}stepBack(){this.userSeek_(this.player_.currentTime()-Ef)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=parseInt(e.key,10)*.1;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Ef*$T)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Ef*$T)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ie&&"visibilityState"in Ie&&this.off(Ie,"visibilitychange",this.toggleVisibility_),super.dispose()}}K_.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!gn&&!vs&&K_.prototype.options_.children.splice(1,0,"mouseTimeDisplay");xe.registerComponent("SeekBar",K_);class Uw extends xe{constructor(e,r){super(e,r),this.handleMouseMove=_s(Nt(this,this.handleMouseMove),xi),this.throttledHandleMouseSeek=_s(Nt(this,this.handleMouseSeek),xi),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const n=r.getChild("playProgressBar"),i=r.getChild("mouseTimeDisplay");if(!n&&!i)return;const s=r.el(),a=Id(s);let u=xm(s,e).x;u=Kd(u,0,1),i&&i.update(a,u),n&&n.update(a,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&as(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Uw.prototype.options_={children:["seekBar"]};xe.registerComponent("ProgressControl",Uw);class zw extends nn{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Ie.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in ee?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Ie.exitPictureInPicture=="function"&&super.show()}}zw.prototype.controlText_="Picture-in-Picture";xe.registerComponent("PictureInPictureToggle",zw);class Hw extends nn{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),Ie[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Hw.prototype.controlText_="Fullscreen";xe.registerComponent("FullscreenToggle",Hw);const Nj=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Bj extends xe{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}xe.registerComponent("VolumeLevel",Bj);class Fj extends xe{constructor(e,r){super(e,r),this.update=_s(Nt(this,this.update),xi)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,n,i){if(!n){const s=Iu(this.el_),a=Iu(this.player_.el()),u=e.width*r;if(!a||!s)return;const c=e.left-a.left+u,h=e.width-u+(a.right-e.right);let p=s.width/2;c<p?p+=p-c:h<p&&(p=h),p<0?p=0:p>s.width&&(p=s.width),this.el_.style.right=`-${p}px`}this.write(`${i}%`)}write(e){Vo(this.el_,e)}updateVolume(e,r,n,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,n,i.toFixed(0)),s&&s()})}}xe.registerComponent("VolumeLevelTooltip",Fj);class Vw extends xe{constructor(e,r){super(e,r),this.update=_s(Nt(this,this.update),xi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,n){const i=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,n,i,()=>{n?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}Vw.prototype.options_={children:["volumeLevelTooltip"]};xe.registerComponent("MouseVolumeLevelDisplay",Vw);class km extends W_{constructor(e,r){super(e,r),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Pd(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const n=this.el(),i=Iu(n),s=this.vertical();let a=xm(n,e);a=s?a.y:a.x,a=Kd(a,0,1),r.update(i,a,s)}Pd(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}km.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!gn&&!vs&&km.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");km.prototype.playerEvent="volumechange";xe.registerComponent("VolumeBar",km);class qw extends xe{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||Du(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),Nj(this,e),this.throttledHandleMouseMove=_s(Nt(this,this.handleMouseMove),xi),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}qw.prototype.options_={children:["volumeBar"]};xe.registerComponent("VolumeControl",qw);const $j=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Ww extends nn{constructor(e,r){super(e,r),$j(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),n=this.player_.lastVolume_();if(r===0){const i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),gn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),ym(this.el_,[0,1,2,3].reduce((n,i)=>n+`${i?" ":""}vjs-vol-${i}`,"")),Ba(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}Ww.prototype.controlText_="Mute";xe.registerComponent("MuteToggle",Ww);class Gw extends xe{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||Du(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Zn(Ie,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),rn(Ie,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}Gw.prototype.options_={children:["muteToggle","volumeControl"]};xe.registerComponent("VolumePanel",Gw);class Kw extends nn{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let s;r+this.skipTime<=i?s=r+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}Kw.prototype.controlText_="Skip Forward";xe.registerComponent("SkipForward",Kw);class Xw extends nn{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let s;i&&r-this.skipTime<=i?s=i:r>=this.skipTime?s=r-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}Xw.prototype.controlText_="Skip Backward";xe.registerComponent("SkipBackward",Xw);let Yw=class extends xe{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof xe&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof xe&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Ze(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),Zn(r,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||Ie.activeElement;if(!this.children().some(n=>n.el()===r)){const n=this.menuButton_;n&&n.buttonPressed_&&r!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const n=r.filter(i=>i.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}};xe.registerComponent("Menu",Yw);class X_ extends xe{constructor(e,r={}){super(e,r),this.menuButton_=new nn(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=nn.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Zn(Ie,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new Yw(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=Ze("li",{className:"vjs-menu-title",textContent:rr(this.options_.title),tabIndex:-1}),n=new xe(this.player_,{el:r});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=nn.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),rn(Ie,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),gn&&aw())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}xe.registerComponent("MenuButton",X_);class Y_ extends X_{constructor(e,r){const n=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!n)return;const i=Nt(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}}xe.registerComponent("TrackButton",Y_);class Xd extends wm{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),n),s=Ze("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}xe.registerComponent("MenuItem",Xd);class Yd extends Xd{constructor(e,r){const n=r.track,i=e.textTracks();r.label=n.label||n.language||"Unknown",r.selected=n.mode==="showing",super(e,r),this.track=n,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const s=(...u)=>{this.handleTracksChange.apply(this,u)},a=(...u)=>{this.handleSelectedLanguageChange.apply(this,u)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",a)}),i.onchange===void 0){let u;this.on(["tap","click"],function(){if(typeof ee.Event!="object")try{u=new ee.Event("change")}catch{}u||(u=Ie.createEvent("Event"),u.initEvent("change",!0,!0)),i.dispatchEvent(u)})}this.handleTracksChange()}handleClick(e){const r=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let i=0;i<n.length;i++){const s=n[i];this.kinds.indexOf(s.kind)!==-1&&(s===r?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}xe.registerComponent("TextTrackMenuItem",Yd);class Qw extends Yd{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,s=r.length;i<s;i++){const a=r[i];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,s=r.length;i<s;i++){const a=r[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}xe.registerComponent("OffTextTrackMenuItem",Qw);class Ku extends Y_{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=Yd){let n;this.label_&&(n=`${this.label_} off`),e.push(new Qw(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const a=i[s];if(this.kinds_.indexOf(a.kind)>-1){const u=new r(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});u.addClass(`vjs-${a.kind}-menu-item`),e.push(u)}}return e}}xe.registerComponent("TextTrackButton",Ku);class Jw extends Xd{constructor(e,r){const n=r.track,i=r.cue,s=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=s&&s<i.endTime,super(e,r),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}xe.registerComponent("ChaptersTrackMenuItem",Jw);class Q_ extends Ku{constructor(e,r,n){super(e,r,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(rr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let n=0,i=r.length;n<i;n++){const s=r[n],a=new Jw(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}Q_.prototype.kind_="chapters";Q_.prototype.controlText_="Chapters";xe.registerComponent("ChaptersButton",Q_);class J_ extends Ku{constructor(e,r,n){super(e,r,n),this.setIcon("audio-description");const i=e.textTracks(),s=Nt(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const r=this.player().textTracks();let n=!1;for(let i=0,s=r.length;i<s;i++){const a=r[i];if(a.kind!==this.kind_&&a.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}J_.prototype.kind_="descriptions";J_.prototype.controlText_="Descriptions";xe.registerComponent("DescriptionsButton",J_);class Z_ extends Ku{constructor(e,r,n){super(e,r,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}Z_.prototype.kind_="subtitles";Z_.prototype.controlText_="Subtitles";xe.registerComponent("SubtitlesButton",Z_);class ex extends Yd{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}xe.registerComponent("CaptionSettingsMenuItem",ex);class tx extends Ku{constructor(e,r,n){super(e,r,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new ex(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}tx.prototype.kind_="captions";tx.prototype.controlText_="Captions";xe.registerComponent("CaptionsButton",tx);class Zw extends Yd{createEl(e,r,n){const i=super.createEl(e,r,n),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(Ze("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Ze("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}xe.registerComponent("SubsCapsMenuItem",Zw);class rx extends Ku{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(rr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new ex(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Zw),e}}rx.prototype.kinds_=["captions","subtitles"];rx.prototype.controlText_="Subtitles";xe.registerComponent("SubsCapsButton",rx);class ek extends Xd{constructor(e,r){const n=r.track,i=e.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled,super(e,r),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,r,n){const i=super.createEl(e,r,n),s=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(Ze("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Ze("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}xe.registerComponent("AudioTrackMenuItem",ek);class tk extends Y_{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];e.push(new ek(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}tk.prototype.controlText_="Audio Track";xe.registerComponent("AudioTrackButton",tk);class nx extends Xd{constructor(e,r){const n=r.rate,i=parseFloat(n,10);r.label=n,r.selected=i===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=n,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}nx.prototype.contentElType="button";xe.registerComponent("PlaybackRateMenuItem",nx);class rk extends X_{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Ze("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let n=e.length-1;n>=0;n--)r.push(new nx(this.player(),{rate:e[n]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}rk.prototype.controlText_="Playback Rate";xe.registerComponent("PlaybackRateMenuButton",rk);class nk extends xe{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},n={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,n)}}xe.registerComponent("Spacer",nk);class jj extends nk{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}xe.registerComponent("CustomControlSpacer",jj);class ik extends xe{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}ik.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};xe.registerComponent("ControlBar",ik);class sk extends Wu{constructor(e,r){super(e,r),this.on(e,"error",n=>{this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}sk.prototype.options_=Object.assign({},Wu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});xe.registerComponent("ErrorDisplay",sk);class ok extends xe{constructor(e,r={}){super(e,r),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),Ze("select",{id:this.options_.id},{},this.options_.SelectOptions.map(r=>{const n=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${_i()}`)+"-"+r[1].replace(/\W+/g,""),i=Ze("option",{id:n,value:this.localize(r[0]),textContent:r[1]});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${n}`),i}))}}xe.registerComponent("TextTrackSelect",ok);class $a extends xe{constructor(e,r={}){super(e,r);const n=Ze("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const s of i){const a=this.options_.selectConfigs[s],u=a.className,c=a.id.replace("%s",this.options_.id_);let h=null;const p=`vjs_select_${_i()}`;if(this.options_.type==="colors"){h=Ze("span",{className:u});const T=Ze("label",{id:c,className:"vjs-label",textContent:a.label});T.setAttribute("for",p),h.appendChild(T)}const g=new ok(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:p,labelId:c});this.addChild(g),this.options_.type==="colors"&&(h.appendChild(g.el()),this.el().appendChild(h))}}createEl(){return Ze("fieldset",{className:this.options_.className})}}xe.registerComponent("TextTrackFieldset",$a);class ak extends xe{constructor(e,r={}){super(e,r);const n=this.options_.textTrackComponentid,i=new $a(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const s=new $a(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new $a(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return Ze("div",{className:"vjs-track-settings-colors"})}}xe.registerComponent("TextTrackSettingsColors",ak);class lk extends xe{constructor(e,r={}){super(e,r);const n=this.options_.textTrackComponentid,i=new $a(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const s=new $a(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new $a(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return Ze("div",{className:"vjs-track-settings-font"})}}xe.registerComponent("TextTrackSettingsFont",lk);class uk extends xe{constructor(e,r={}){super(e,r);const n=this.localize("restore all settings to the default values"),i=new nn(e,{controlText:n,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const s=new nn(e,{controlText:n,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return Ze("div",{className:"vjs-track-settings-controls"})}}xe.registerComponent("TrackSettingsControls",uk);const dv="vjs-text-track-settings",jT=["#000","Black"],UT=["#00F","Blue"],zT=["#0FF","Cyan"],HT=["#0F0","Green"],VT=["#F0F","Magenta"],qT=["#F00","Red"],WT=["#FFF","White"],GT=["#FF0","Yellow"],hv=["1","Opaque"],fv=["0.5","Semi-Transparent"],KT=["0","Transparent"],Po={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[jT,WT,qT,HT,UT,GT,VT,zT],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[hv,fv,KT],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[WT,jT,qT,HT,UT,GT,VT,zT],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[hv,fv],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[KT,fv,hv],className:"vjs-window-opacity vjs-opacity"}};Po.windowColor.options=Po.backgroundColor.options;function ck(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function Uj(t,e){const r=t.options[t.options.selectedIndex].value;return ck(r,e)}function zj(t,e,r){if(e){for(let n=0;n<t.options.length;n++)if(ck(t.options[n].value,r)===e){t.selectedIndex=n;break}}}class Hj extends Wu{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=Ze("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const r=new ak(e,{textTrackComponentid:this.id_,selectConfigs:Po,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(r);const n=new lk(e,{textTrackComponentid:this.id_,selectConfigs:Po,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new uk(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),lu(Po,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return ew(Po,(e,r,n)=>{const i=Uj(this.$(r.selector),r.parser);return i!==void 0&&(e[n]=i),e},{})}setValues(e){lu(Po,(r,n)=>{zj(this.$(r.selector),e[n],r.parser)})}setDefaults(){lu(Po,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(ee.localStorage.getItem(dv))}catch(r){ut.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?ee.localStorage.setItem(dv,JSON.stringify(e)):ee.localStorage.removeItem(dv)}catch(r){ut.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}xe.registerComponent("TextTrackSettings",Hj);class Vj extends xe{constructor(e,r){let n=r.ResizeObserver||ee.ResizeObserver;r.ResizeObserver===null&&(n=!1);const i=Mt({createEl:!n,reportTouchActivity:!1},r);super(e,i),this.ResizeObserver=r.ResizeObserver||ee.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Tw(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){rn(this,"resize",s),rn(this,"unload",a),a=null};Zn(this.el_.contentWindow,"unload",a),Zn(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}xe.registerComponent("ResizeManager",Vj);const qj={trackingThreshold:20,liveTolerance:15};class Wj extends xe{constructor(e,r){const n=Mt(qj,r,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(ee.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,xi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.end(n));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.start(n));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}xe.registerComponent("LiveTracker",Wj);class Gj extends xe{constructor(e,r){super(e,r),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Ze("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${_i()}`}),description:Ze("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${_i()}`})},Ze("div",{className:"vjs-title-bar"},{},tw(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],a=this.els[i],u=n[i];bm(a),s&&Vo(a,s),r&&(r.removeAttribute(u),s&&r.setAttribute(u,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}xe.registerComponent("TitleBar",Gj);const Kj={initialDisplay:4e3,position:[],takeFocus:!1};class Xj extends nn{constructor(e,r){r=Mt(Kj,r),super(e,r),this.controlText(r.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],n=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=Ze("button",{},{type:"button",class:this.buildCSSClass()},Ze("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}xe.registerComponent("TransientButton",Xj);const ny=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),n=[];let i="";if(!r.length)return!1;for(let s=0;s<r.length;s++){const a=r[s].src;a&&n.indexOf(a)===-1&&n.push(a)}return n.length?(n.length===1&&(i=n[0]),t.triggerSourceset(i),!0):!1},Yj=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Ie.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=Ie.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",ee.Element.prototype.appendChild.call(this,r),this.innerHTML}}),dk=(t,e)=>{let r={};for(let n=0;n<t.length&&(r=Object.getOwnPropertyDescriptor(t[n],e),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},Qj=t=>dk([t.el(),ee.HTMLMediaElement.prototype,ee.Element.prototype,Yj],"innerHTML"),XT=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},n=Qj(t),i=s=>(...a)=>{const u=s.apply(e,a);return ny(t),u};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(r[s]=e[s],e[s]=i(r[s]))}),Object.defineProperty(e,"innerHTML",Mt(n,{set:i(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(s=>{e[s]=r[s]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},Jj=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?Ow(ee.Element.prototype.getAttribute.call(this,"src")):""},set(t){return ee.Element.prototype.setAttribute.call(this,"src",t),t}}),Zj=t=>dk([t.el(),ee.HTMLMediaElement.prototype,Jj],"src"),eU=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=Zj(t),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Mt(r,{set:s=>{const a=r.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const u=n.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),u},e.load=()=>{const s=i.call(e);return ny(t)||(t.triggerSourceset(""),XT(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):ny(t)||XT(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Me extends st{constructor(e,r){super(e,r);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const u=[];for(;a--;){const c=s[a];c.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(c),this.remoteTextTracks().addTrack(c.track),this.textTracks().addTrack(c.track),!i&&!this.el_.hasAttribute("crossorigin")&&Em(c.src)&&(i=!0)):u.push(c))}for(let c=0;c<u.length;c++)this.el_.removeChild(u[c])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&ut.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Ad||gm)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Me.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){eU(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const n=()=>{r=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&r.push({track:a,storedMode:a.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let s=0;s<r.length;s++){const a=r[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(i=>{this.el()[`${n}Tracks`].removeEventListener(i,this[`${n}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!r,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=gi[e],n=this.el()[r.getterName],i=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!n||!n.addEventListener)return;const s={change:u=>{const c={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(c),e==="text"&&this[Ou.remoteText.getterName]().trigger(c)},addtrack(u){i.addTrack(u.track)},removetrack(u){i.removeTrack(u.track)}},a=function(){const u=[];for(let c=0;c<i.length;c++){let h=!1;for(let p=0;p<n.length;p++)if(n[p]===i[c]){h=!0;break}h||u.push(i[c])}for(;u.length;)i.removeTrack(u.shift())};this[r.getterName+"Listeners_"]=s,Object.keys(s).forEach(u=>{const c=s[u];n.addEventListener(u,c),this.on("dispose",h=>n.removeEventListener(u,c))}),this.on("loadstart",a),this.on("dispose",u=>this.off("loadstart",a))}proxyNativeTracks_(){gi.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),Me.disposeMediaElement(e),e=n}else{e=Ie.createElement("video");const n=this.options_.tag&&Io(this.options_.tag),i=Mt({},n);(!Ad||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,cw(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Au(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let n=0;n<r.length;n++){const i=r[n],s=this.options_[i];typeof s<"u"&&(s?Au(e,i,i):_m(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const i=function(){n=!0};this.on("loadstart",i);const s=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),n||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&vm?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){ut(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&vs&&ys&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)as(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Me.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):super.addTextTrack(e,r,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=Ie.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const n=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let n=r.length;for(;n--;)(e===r[n]||e===r[n].track)&&this.el().removeChild(r[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),ee.performance&&(e.creationTime=ee.performance.now()),e}}fm(Me,"TEST_VID",function(){if(!Hu())return;const t=Ie.createElement("video"),e=Ie.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Me.isSupported=function(){try{Me.TEST_VID.volume=.5}catch{return!1}return!!(Me.TEST_VID&&Me.TEST_VID.canPlayType)};Me.canPlayType=function(t){return Me.TEST_VID.canPlayType(t)};Me.canPlaySource=function(t,e){return Me.canPlayType(t.type)};Me.canControlVolume=function(){try{const t=Me.TEST_VID.volume;Me.TEST_VID.volume=t/2+.1;const e=t!==Me.TEST_VID.volume;return e&&gn?(ee.setTimeout(()=>{Me&&Me.prototype&&(Me.prototype.featuresVolumeControl=t!==Me.TEST_VID.volume)}),!1):e}catch{return!1}};Me.canMuteVolume=function(){try{const t=Me.TEST_VID.muted;return Me.TEST_VID.muted=!t,Me.TEST_VID.muted?Au(Me.TEST_VID,"muted","muted"):_m(Me.TEST_VID,"muted","muted"),t!==Me.TEST_VID.muted}catch{return!1}};Me.canControlPlaybackRate=function(){if(vs&&ys&&pm<58)return!1;try{const t=Me.TEST_VID.playbackRate;return Me.TEST_VID.playbackRate=t/2+.1,t!==Me.TEST_VID.playbackRate}catch{return!1}};Me.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Ie.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Ie.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Ie.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Ie.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Me.supportsNativeTextTracks=function(){return vm||gn&&ys};Me.supportsNativeVideoTracks=function(){return!!(Me.TEST_VID&&Me.TEST_VID.videoTracks)};Me.supportsNativeAudioTracks=function(){return!!(Me.TEST_VID&&Me.TEST_VID.audioTracks)};Me.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){fm(Me.prototype,t,()=>Me[e](),!0)});Me.prototype.featuresVolumeControl=Me.canControlVolume();Me.prototype.movingMediaElementInDOM=!gn;Me.prototype.featuresFullscreenResize=!0;Me.prototype.featuresProgressEvents=!0;Me.prototype.featuresTimeupdateEvents=!0;Me.prototype.featuresVideoFrameCallback=!!(Me.TEST_VID&&Me.TEST_VID.requestVideoFrameCallback);Me.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&(function(){try{t.load()}catch{}})()}};Me.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&(function(){try{t.load()}catch{}})()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Me.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Me.prototype["set"+rr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Me.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Me.prototype["set"+rr(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Me.prototype[t]=function(){return this.el_[t]()}});st.withSourceHandlers(Me);Me.nativeSourceHandler={};Me.nativeSourceHandler.canPlayType=function(t){try{return Me.TEST_VID.canPlayType(t)}catch{return""}};Me.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Me.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=U_(t.src);return Me.nativeSourceHandler.canPlayType(`video/${r}`)}return""};Me.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};Me.nativeSourceHandler.dispose=function(){};Me.registerSourceHandler(Me.nativeSourceHandler);st.registerTech("Html5",Me);const hk=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],pv={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},iy=["tiny","xsmall","small","medium","large","xlarge","huge"],$f={};iy.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;$f[t]=`vjs-layout-${e}`});const tU={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Bt extends xe{constructor(e,r,n){if(e.id=e.id||r.id||`vjs_video_${_i()}`,r=Object.assign(Bt.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const a=e.closest("[lang]");a&&(r.language=a.getAttribute("lang"))}if(super(null,r,n),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=JE(this.id_),this.fsApi_=lp,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Io(e),this.language(this.options_.language),r.languages){const a={};Object.getOwnPropertyNames(r.languages).forEach(function(u){a[u.toLowerCase()]=r.languages[u]}),this.languages_=a}else this.languages_=Bt.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),B_(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Zn(Ie,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Mt(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(a=>{this[a](r.plugins[a])}),r.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const u=new ee.DOMParser().parseFromString(Cj,"image/svg+xml");if(u.querySelector("parsererror"))ut.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const h=u.documentElement;h.style.display="none",this.el_.appendChild(h),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),r.spatialNavigation&&r.spatialNavigation.enabled&&(this.spatialNavigation=new Ej(this),this.addClass("vjs-spatial-navigation-enabled")),Ad&&this.addClass("vjs-touch-enabled"),gn||this.addClass("vjs-workinghover"),Bt.players[this.id_]=this;const s=Kv.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),rn(Ie,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),rn(Ie,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Bt.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),xj(this),pn.names.forEach(e=>{const r=pn[e],n=this[r.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";n?r=this.el_=e.parentNode:i||(r=this.el_=super.createEl("div"));const s=Io(e);if(i){for(r=this.el_=e,e=this.tag=Ie.createElement("video");r.children.length;)e.appendChild(r.firstChild);dd(r,"video-js")||Ba(r,"video-js"),r.appendChild(e),n=this.playerElIngest_=r,Object.keys(r).forEach(c=>{try{e[c]=r[c]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",ys&&mm&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(c){i&&c==="class"||r.setAttribute(c,s[c]),i&&e.setAttribute(c,s[c])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(c=>ow[c]).map(c=>"vjs-device-"+c.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),ee.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=bw("vjs-styles-dimensions");const c=zo(".vjs-styles-defaults"),h=zo("head");h.insertBefore(this.styleEl_,c?c.nextSibling:h.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const u=e.getElementsByTagName("a");for(let c=0;c<u.length;c++){const h=u.item(c);Ba(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(r,e),Yv(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ut.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const n=e+"_";if(r===void 0)return this[n]||0;if(r===""||r==="auto"){this[n]=void 0,this.updateStyleEl_();return}const i=parseFloat(r);if(isNaN(i)){ut.error(`Improper value "${r}" supplied for for ${e}`);return}this[n]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Ks(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Y6(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(ee.VIDEOJS_NO_DYNAMIC_STYLE===!0){const u=typeof this.width_=="number"?this.width_:this.options_.width,c=typeof this.height_=="number"?this.height_:this.options_.height,h=this.tech_&&this.tech_.el();h&&(u>=0&&(h.width=u),c>=0&&(h.height=c));return}let e,r,n,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const s=n.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*a,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),Sw(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${r}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const n=rr(e),i=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(st.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:r,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};pn.names.forEach(c=>{const h=pn[c];a[h.getterName]=this[h.privateName]}),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const u=st.getTech(e);if(!u)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new u(a),this.tech_.ready(Nt(this,this.handleTechReady_),!0),DT.jsonToTextTracks(this.textTracksJson_||[],this.tech_),hk.forEach(c=>{this.on(this.tech_,c,h=>this[`handleTech${rr(c)}_`](h))}),Object.keys(pv).forEach(c=>{this.on(this.tech_,c,h=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${pv[c]}_`].bind(this),event:h});return}this[`handleTech${pv[c]}_`](h)})}),this.on(this.tech_,"loadstart",c=>this.handleTechLoadStart_(c)),this.on(this.tech_,"sourceset",c=>this.handleTechSourceset_(c)),this.on(this.tech_,"waiting",c=>this.handleTechWaiting_(c)),this.on(this.tech_,"ended",c=>this.handleTechEnded_(c)),this.on(this.tech_,"seeking",c=>this.handleTechSeeking_(c)),this.on(this.tech_,"play",c=>this.handleTechPlay_(c)),this.on(this.tech_,"pause",c=>this.handleTechPause_(c)),this.on(this.tech_,"durationchange",c=>this.handleTechDurationChange_(c)),this.on(this.tech_,"fullscreenchange",(c,h)=>this.handleTechFullscreenChange_(c,h)),this.on(this.tech_,"fullscreenerror",(c,h)=>this.handleTechFullscreenError_(c,h)),this.on(this.tech_,"enterpictureinpicture",c=>this.handleTechEnterPictureInPicture_(c)),this.on(this.tech_,"leavepictureinpicture",c=>this.handleTechLeavePictureInPicture_(c)),this.on(this.tech_,"error",c=>this.handleTechError_(c)),this.on(this.tech_,"posterchange",c=>this.handleTechPosterChange_(c)),this.on(this.tech_,"textdata",c=>this.handleTechTextData_(c)),this.on(this.tech_,"ratechange",c=>this.handleTechRateChange_(c)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&Yv(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){pn.names.forEach(e=>{const r=pn[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=DT.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ut.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":Kv}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const a=this.play();if(fd(a))return a.catch(u=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${u||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),fd(n)&&(n=n.catch(r))):e==="muted"&&!this.muted()?n=r():n=this.play(),!!fd(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,n="";typeof r!="string"&&(r=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!n&&(n=Tj(this,r)),this.cache_.source=Mt({},e,{src:r,type:n});const i=this.cache_.sources.filter(c=>c.src&&c.src===r),s=[],a=this.$$("source"),u=[];for(let c=0;c<a.length;c++){const h=Io(a[c]);s.push(h),h.src&&h.src===r&&u.push(h.src)}u.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=s=>this.updateSourceCaches_(s);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=()=>{}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?as(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const n=this.el();let i=Ie[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in yj)return gj(this.middleware_,this.tech_,e,r);if(e in OT)return RT(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(n){throw ut(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in vj)return mj(this.middleware_,this.tech_,e);if(e in OT)return RT(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(ut(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(ut(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(ut(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=as){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(vm||gn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&n&&this.load();return}const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Ni(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Ni(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Ni(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return Pw(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let n=e.end(e.length-1);return n>r&&(n=r),n}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((n,i)=>{function s(){r.off("fullscreenerror",u),r.off("fullscreenchange",a)}function a(){s(),n()}function u(h,p){s(),i(p)}r.one("fullscreenchange",a),r.one("fullscreenerror",u);const c=r.requestFullscreenHelper_(e);c&&(c.then(s,s),c.then(n,i))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](r);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,n)=>{function i(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){i(),r()}function a(c,h){i(),n(h)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const u=e.exitFullscreenHelper_();u&&(u.then(i,i),u.then(r,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Ie[this.fsApi_.exitFullscreen]();return e&&as(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Ie.documentElement.style.overflow,Zn(Ie,"keydown",this.boundFullWindowOnEscKey_),Ie.documentElement.style.overflow="hidden",Ba(Ie.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,rn(Ie,"keydown",this.boundFullWindowOnEscKey_),Ie.documentElement.style.overflow=this.docOrigOverflow,ym(Ie.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&ee.documentPictureInPicture){const e=Ie.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Ze("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),ee.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(yw(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",n=>{const i=n.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in Ie&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(ee.documentPictureInPicture&&ee.documentPictureInPicture.window)return ee.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Ie)return Ie.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(i=>{const s=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(i.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=a=>e.key.toLowerCase()==="f",muteKey:i=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=r;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const a=xe.getComponent("FullscreenToggle");Ie[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),xe.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),xe.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const s=i[n];let a=st.getTech(s);if(a||(a=xe.getComponent(s)),!a){ut.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(r=a.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(u=>[u,st.getTech(u)]).filter(([u,c])=>c?c.isSupported():(ut.error(`The "${u}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(u,c,h){let p;return u.some(g=>c.some(T=>{if(p=h(g,T),p)return!0})),p};let i;const s=u=>(c,h)=>u(h,c),a=([u,c],h)=>{if(c.canPlaySource(h,this.options_[u.toLowerCase()]))return{source:h,tech:u}};return this.options_.sourceOrder?i=n(e,r,s(a)):i=n(r,e,a),i||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=Nw(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),fj(this,n[0],(i,s)=>{if(this.middleware_=s,r||(this.cache_.sources=n),this.updateSourceCaches_(i),this.src_(i)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}pj(s,this.tech_)}),n.length>1){const i=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?kw(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();as(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Ks(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=n||{};e&&e.updateContent(),r&&r.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Uo("beforeerror").forEach(r=>{const n=r(this,e);if(!(gs(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Xt(e),this.addClass("vjs-error"),ut.error(`(CODE:${this.error_.code} ${Xt.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Uo("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,n;const i=Nt(this,this.reportUserActivity),s=function(g){(g.screenX!==r||g.screenY!==n)&&(r=g.screenX,n=g.screenY,i())},a=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},u=function(g){i(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",u),this.on("mouseleave",u);const c=this.getChild("controlBar");c&&!gn&&!vs&&(c.on("mouseenter",function(g){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),c.on("mouseleave",function(g){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let h;const p=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);const g=this.options_.inactivityTimeout;g<=0||(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},g))};this.setInterval(p,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),n=r&&r.currentHeight();e.forEach(i=>{i!==r&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,n){if(this.tech_)return this.tech_.addTextTrack(e,r,n)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Ks(this)&&this.trigger("languagechange"))}languages(){return Mt(Bt.prototype.options_.languages,this.languages_)}toJSON(){const e=Mt(this.options_),r=e.tracks;e.tracks=[];for(let n=0;n<r.length;n++){let i=r[n];i=Mt(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,r){r=r||{},r.content=e||"";const n=new Wu(this,r);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let n=0;n<iy.length;n++){const i=iy[n],s=this.breakpoints_[i];if(r<=s){if(e===i)return;e&&this.removeClass($f[e]),this.addClass($f[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},tU,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return $f[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Mt(e);const{artist:i,artwork:s,description:a,poster:u,src:c,textTracks:h,title:p}=this.cache_.media;!s&&u&&(this.cache_.media.artwork=[{src:u,type:yp(u)}]),n&&this.crossOrigin(n),c&&this.src(c),u&&this.poster(u),Array.isArray(h)&&h.forEach(g=>this.addRemoteTextTrack(g,!1)),this.titleBar&&this.titleBar.update({title:p,description:a||i||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:r,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:yp(i.poster)}]),i}return Mt(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},n=Io(e),i=n["data-setup"];if(dd(e,"vjs-fill")&&(n.fill=!0),dd(e,"vjs-fluid")&&(n.fluid=!0),i!==null)try{Object.assign(n,JSON.parse(i||"{}"))}catch(s){ut.error("data-setup",s)}if(Object.assign(r,n),e.hasChildNodes()){const s=e.childNodes;for(let a=0,u=s.length;a<u;a++){const c=s[a],h=c.nodeName.toLowerCase();h==="source"?r.sources.push(Io(c)):h==="track"&&r.tracks.push(Io(c))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}pn.names.forEach(function(t){const e=pn[t];Bt.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Bt.prototype.crossorigin=Bt.prototype.crossOrigin;Bt.players={};const Kc=ee.navigator;Bt.prototype.options_={techOrder:st.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Kc&&(Kc.languages&&Kc.languages[0]||Kc.userLanguage||Kc.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1};hk.forEach(function(t){Bt.prototype[`handleTech${rr(t)}_`]=function(){return this.trigger(t)}});xe.registerComponent("Player",Bt);const _p="plugin",du="activePlugins_",tu={},xp=t=>tu.hasOwnProperty(t),jf=t=>xp(t)?tu[t]:void 0,fk=(t,e)=>{t[du]=t[du]||{},t[du][e]=!0},bp=(t,e,r)=>{const n=(r?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},rU=function(t,e){const r=function(){bp(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return fk(this,t),bp(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){r[n]=e[n]}),r},YT=(t,e)=>(e.prototype.name=t,function(...r){bp(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...r);return this[t]=()=>n,bp(this,n.getEventHash()),n});class Pn{constructor(e){if(this.constructor===Pn)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),B_(this),delete this.trigger,ww(this,this.constructor.defaultState),fk(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return qu(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[du][e]=!1,this.player=this.state=null,r[e]=YT(e,tu[e])}static isBasic(e){const r=typeof e=="string"?jf(e):e;return typeof r=="function"&&!Pn.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(xp(e))ut.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Bt.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return tu[e]=r,e!==_p&&(Pn.isBasic(r)?Bt.prototype[e]=rU(e,r):Bt.prototype[e]=YT(e,r)),r}static deregisterPlugin(e){if(e===_p)throw new Error("Cannot de-register base plugin.");xp(e)&&(delete tu[e],delete Bt.prototype[e])}static getPlugins(e=Object.keys(tu)){let r;return e.forEach(n=>{const i=jf(n);i&&(r=r||{},r[n]=i)}),r}static getPluginVersion(e){const r=jf(e);return r&&r.VERSION||""}}Pn.getPlugin=jf;Pn.BASE_PLUGIN_NAME=_p;Pn.registerPlugin(_p,Pn);Bt.prototype.usingPlugin=function(t){return!!this[du]&&this[du][t]===!0};Bt.prototype.hasPlugin=function(t){return!!xp(t)};function nU(t,e){let r=!1;return function(...n){return r||ut.warn(t),r=!0,e.apply(this,n)}}function $i(t,e,r,n){return nU(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,n)}var iU={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const pk=t=>t.indexOf("#")===0?t.slice(1):t;function fe(t,e,r){let n=fe.getPlayer(t);if(n)return e&&ut.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&n.ready(r),n;const i=typeof t=="string"?zo("#"+pk(t)):t;if(!Vu(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in i?i.getRootNode()instanceof ee.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!a.contains(i))&&ut.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Uo("beforesetup").forEach(c=>{const h=c(i,Mt(e));if(!gs(h)||Array.isArray(h)){ut.error("please return an object in beforesetup hooks");return}e=Mt(e,h)});const u=xe.getComponent("Player");return n=new u(i,e,r),Uo("setup").forEach(c=>c(n)),n}fe.hooks_=Ws;fe.hooks=Uo;fe.hook=N6;fe.hookOnce=B6;fe.removeHook=QE;if(ee.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Hu()){let t=zo(".vjs-styles-defaults");if(!t){t=bw("vjs-styles-defaults");const e=zo("head");e&&e.insertBefore(t,e.firstChild),Sw(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Jv(1,fe);fe.VERSION=Kv;fe.options=Bt.prototype.options_;fe.getPlayers=()=>Bt.players;fe.getPlayer=t=>{const e=Bt.players;let r;if(typeof t=="string"){const n=pk(t),i=e[n];if(i)return i;r=zo("#"+n)}else r=t;if(Vu(r)){const{player:n,playerId:i}=r;if(n||e[i])return n||e[i]}};fe.getAllPlayers=()=>Object.keys(Bt.players).map(t=>Bt.players[t]).filter(Boolean);fe.players=Bt.players;fe.getComponent=xe.getComponent;fe.registerComponent=(t,e)=>(st.isTech(e)&&ut.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),xe.registerComponent.call(xe,t,e));fe.getTech=st.getTech;fe.registerTech=st.registerTech;fe.use=hj;Object.defineProperty(fe,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(fe.middleware,"TERMINATOR",{value:vp,writeable:!1,enumerable:!0});fe.browser=ow;fe.obj=j6;fe.mergeOptions=$i(9,"videojs.mergeOptions","videojs.obj.merge",Mt);fe.defineLazyProperty=$i(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",fm);fe.bind=$i(9,"videojs.bind","native Function.prototype.bind",Nt);fe.registerPlugin=Pn.registerPlugin;fe.deregisterPlugin=Pn.deregisterPlugin;fe.plugin=(t,e)=>(ut.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Pn.registerPlugin(t,e));fe.getPlugins=Pn.getPlugins;fe.getPlugin=Pn.getPlugin;fe.getPluginVersion=Pn.getPluginVersion;fe.addLanguage=function(t,e){return t=(""+t).toLowerCase(),fe.options.languages=Mt(fe.options.languages,{[t]:e}),fe.options.languages[t]};fe.log=ut;fe.createLogger=JE;fe.time=tj;fe.createTimeRange=$i(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Ni);fe.createTimeRanges=$i(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Ni);fe.formatTime=$i(9,"videojs.formatTime","videojs.time.formatTime",Va);fe.setFormatTime=$i(9,"videojs.setFormatTime","videojs.time.setFormatTime",Aw);fe.resetFormatTime=$i(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Iw);fe.parseUrl=$i(9,"videojs.parseUrl","videojs.url.parseUrl",j_);fe.isCrossOrigin=$i(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Em);fe.EventTarget=ei;fe.any=N_;fe.on=Zn;fe.one=Tm;fe.off=rn;fe.trigger=qu;fe.xhr=NE;fe.TextTrack=Gd;fe.AudioTrack=Lw;fe.VideoTrack=Mw;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{fe[t]=function(){return ut.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),_w[t].apply(null,arguments)}});fe.computedStyle=$i(9,"videojs.computedStyle","videojs.dom.computedStyle",Pu);fe.dom=_w;fe.fn=X6;fe.num=Oj;fe.str=Z6;fe.url=cj;fe.Error=iU;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class sU{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(n){r.enabled_(n)}}),r}}class Sp extends fe.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const n=this.levels_.length;return r=new sU(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,n=this.length;r<n;r++){const i=this[r];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}Sp.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in Sp.prototype.allowedEvents_)Sp.prototype["on"+t]=null;var mk="4.1.0";const oU=function(t,e){const r=t.qualityLevels,n=new Sp,i=function(){n.dispose(),t.qualityLevels=r,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>n,t.qualityLevels.VERSION=mk,n},gk=function(t){return oU(this,fe.obj.merge({},t))};fe.registerPlugin("qualityLevels",gk);gk.VERSION=mk;/*! @name @videojs/http-streaming @version 3.14.2 @license Apache-2.0 */const kn=um,Tp=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Si=t=>fe.log.debug?fe.log.debug.bind(fe,"VHS:",`${t} >`):function(){};function St(...t){const e=fe.obj||fe;return(e.merge||e.mergeOptions).apply(e,t)}function Vr(...t){const e=fe.time||fe;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function aU(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const n=t.start(r),i=t.end(r);e+=`${n} --> ${i}. Duration (${i-n})
`}return e}const ls=1/30,us=ls*3,vk=function(t,e){const r=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&r.push([t.start(n),t.end(n)]);return Vr(r)},ru=function(t,e){return vk(t,function(r,n){return r-us<=e&&n+us>=e})},wf=function(t,e){return vk(t,function(r){return r-ls>=e})},lU=function(t){if(t.length<2)return Vr();const e=[];for(let r=1;r<t.length;r++){const n=t.end(r-1),i=t.start(r);e.push([n,i])}return Vr(e)},uU=function(t,e){let r=null,n=null,i=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return Vr();let u=t.length;for(;u--;)s.push({time:t.start(u),type:"start"}),s.push({time:t.end(u),type:"end"});for(u=e.length;u--;)s.push({time:e.start(u),type:"start"}),s.push({time:e.end(u),type:"end"});for(s.sort(function(c,h){return c.time-h.time}),u=0;u<s.length;u++)s[u].type==="start"?(i++,i===2&&(r=s[u].time)):s[u].type==="end"&&(i--,i===1&&(n=s[u].time)),r!==null&&n!==null&&(a.push([r,n]),r=null,n=null);return Vr(a)},yk=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},cU=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},Oa=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},dU=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},mv=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},ix=function(t,e){let r=0;if(!t||!t.length)return r;for(let n=0;n<t.length;n++){const i=t.start(n),s=t.end(n);if(!(e>s)){if(e>i&&e<=s){r+=s-e;continue}r+=s-i}}return r},sx=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(n){r+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=t.partTargetDuration)}),r},sy=t=>(t.segments||[]).reduce((e,r,n)=>(r.parts?r.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:n,partIndex:s,part:i,segment:r})}):e.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),e),[]),_k=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},xk=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let n=(r||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},bk=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=_k(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},hU=function(t,e){let r=0,n=e-t.mediaSequence,i=t.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=t.segments[n],typeof i.end<"u")return{result:r+i.end,precise:!0};if(r+=sx(t,i),typeof i.start<"u")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},fU=function(t,e){let r=0,n,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(n=t.segments[i],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=sx(t,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},Sk=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=hU(t,e);if(n.precise)return n.result;const i=fU(t,e);return i.precise?i.result:n.result+r},Tk=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return ee.Infinity}return Sk(t,e,r)},pd=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:n}){let i=0;if(r>n&&([r,n]=[n,r]),r<0){for(let s=r;s<Math.min(0,n);s++)i+=t;r=0}for(let s=r;s<n;s++)i+=e[s].duration;return i},Ck=function(t,e,r,n){if(!t||!t.segments)return null;if(t.endList)return Tk(t);if(e===null)return null;e=e||0;let i=Sk(t,t.mediaSequence+t.segments.length,e);return r&&(n=typeof n=="number"?n:bk(null,t),i-=n),Math.max(0,i)},pU=function(t,e,r){const i=e||0;let s=Ck(t,e,!0,r);return s===null?Vr():(s<i&&(s=i),Vr(i,s))},mU=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:n,startTime:i,exactManifestTimings:s}){let a=e-i;const u=sy(t);let c=0;for(let h=0;h<u.length;h++){const p=u[h];if(r===p.segmentIndex&&!(typeof n=="number"&&typeof p.partIndex=="number"&&n!==p.partIndex)){c=h;break}}if(a<0){if(c>0)for(let h=c-1;h>=0;h--){const p=u[h];if(a+=p.duration,s){if(a<0)continue}else if(a+ls<=0)continue;return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:i-pd({defaultDuration:t.targetDuration,durationList:u,startIndex:c,endIndex:h})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:e}}if(c<0){for(let h=c;h<0;h++)if(a-=t.targetDuration,a<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:e};c=0}for(let h=c;h<u.length;h++){const p=u[h];a-=p.duration;const g=p.duration>ls,T=a===0,S=g&&a+ls>=0;if(!((T||S)&&h!==u.length-1)){if(s){if(a>0)continue}else if(a-ls>=0)continue;return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:i+pd({defaultDuration:t.targetDuration,durationList:u,startIndex:c,endIndex:h})}}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:e}},Ek=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},ox=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Dm=function(t){const e=Ek(t);return!t.disabled&&!e},gU=function(t){return t.disabled},vU=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},wk=function(t,e){return e.attributes&&e.attributes[t]},yU=function(t,e,r,n=0){return wk("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-n*8)/e:NaN},oy=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>Dm(n)?(n.attributes.BANDWIDTH||0)<r:!1).length===0},ax=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),QT=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const i in r){for(const s in r[i])if(n=e(r[i][s]),n)break;if(n)break}return!!n},Qd=t=>{if(!t||!t.playlists||!t.playlists.length)return QT(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],n=r.attributes&&r.attributes.CODECS;if(!(n&&n.split(",").every(s=>$E(s))||QT(t,s=>ax(r,s))))return!1}return!0};var Dn={liveEdgeDelay:bk,duration:Tk,seekable:pU,getMediaInfoForTime:mU,isEnabled:Dm,isDisabled:gU,isExcluded:Ek,isIncompatible:ox,playlistEnd:Ck,isAes:vU,hasAttribute:wk,estimateSegmentRequestTime:yU,isLowestEnabledRendition:oy,isAudioOnly:Qd,playlistMatch:ax,segmentDurationWithParts:sx};const{log:kk}=fe,hu=(t,e)=>`${t}-${e}`,Dk=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,_U=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:n=[],customTagMappers:i=[],llhls:s})=>{const a=new i$;t&&a.on("warn",t),e&&a.on("info",e),n.forEach(h=>a.addParser(h)),i.forEach(h=>a.addTagMapper(h)),a.push(r),a.end();const u=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(h){u.hasOwnProperty(h)&&delete u[h]}),u.segments&&u.segments.forEach(function(h){["parts","preloadHints"].forEach(function(p){h.hasOwnProperty(p)&&delete h[p]})})),!u.targetDuration){let h=10;u.segments&&u.segments.length&&(h=u.segments.reduce((p,g)=>Math.max(p,g.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${h}`}),u.targetDuration=h}const c=_k(u);if(c.length&&!u.partTargetDuration){const h=c.reduce((p,g)=>Math.max(p,g.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${h}`}),kk.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),u.partTargetDuration=h}return u},Xu=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const n in t.mediaGroups[r])for(const i in t.mediaGroups[r][n]){const s=t.mediaGroups[r][n][i];e(s,r,n,i)}})},Ak=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},xU=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];Ak({playlist:r,id:hu(e,r.uri)}),r.resolvedUri=kn(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||kk.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},bU=t=>{Xu(t,e=>{e.uri&&(e.resolvedUri=kn(t.uri,e.uri))})},SU=(t,e)=>{const r=hu(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:ee.location.href,resolvedUri:ee.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[e]=n.playlists[0],n},Ik=(t,e,r=Dk)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const n=Qd(t);Xu(t,(i,s,a,u)=>{if(!i.playlists||!i.playlists.length){if(n&&s==="AUDIO"&&!i.uri)for(let c=0;c<t.playlists.length;c++){const h=t.playlists[c];if(h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===a)return}i.playlists=[z({},i)]}i.playlists.forEach(function(c,h){const p=r(s,a,u,c),g=hu(h,p);c.uri?c.resolvedUri=c.resolvedUri||kn(t.uri,c.uri):(c.uri=h===0?p:g,c.resolvedUri=c.uri),c.id=c.id||g,c.attributes=c.attributes||{},t.playlists[c.id]=c,t.playlists[c.uri]=c})}),xU(t),bU(t)};class JT{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,n=r.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),r.push(n),!!n.class))if(e[n.class]){const s=e[n.class].push(n);n.classListIndex=s-1}else e[n.class]=[n],n.classListIndex=0});for(const n of r){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const Pk=22,ja=({requestType:t,request:e,error:r,parseFailure:n})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},u=i&&!s||n;if(r&&s)a.error=z({},r),a.errorType=fe.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=fe.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=fe.Error.NetworkRequestTimeout;else if(u){const c=n?fe.Error.NetworkBodyParserFailed:fe.Error.NetworkBadStatus;a.errorType=c,a.status=e.status,a.headers=e.headers}return a},{EventTarget:TU}=fe,CU=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const s=n.parts||[],a=xk(e)-1;a>-1&&a!==s.length-1&&(r._HLS_part=a),(a>-1||s.length)&&i--}r._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const n=new ee.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){r.hasOwnProperty(i)&&n.searchParams.set(i,r[i])}),t=n.toString()}return t},EU=(t,e)=>{if(!t)return e;const r=St(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(r.parts[n]=St(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},wU=(t,e,r)=>{const n=t.slice(),i=e.slice();r=r||0;const s=[];let a;for(let u=0;u<i.length;u++){const c=n[u+r],h=i[u];c?(a=c.map||a,s.push(EU(c,h))):(a&&!h.map&&(h.map=a),s.push(h))}return s},Rk=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=kn(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=kn(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=kn(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=kn(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=kn(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=kn(e,r.uri))})},Ok=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},Lk=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,ay=(t,e,r=Lk)=>{const n=St(t,{}),i=n.playlists[e.id];if(!i||r(i,e))return null;e.segments=Ok(e);const s=St(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=wU(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(a=>{Rk(a,s.resolvedUri)});for(let a=0;a<n.playlists.length;a++)n.playlists[a].id===e.id&&(n.playlists[a]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,Xu(t,(a,u,c,h)=>{if(a.playlists)for(let p=0;p<a.playlists.length;p++)e.id===a.playlists[p].id&&(a.playlists[p]=s)}),n},ly=(t,e)=>{const r=t.segments||[],n=r[r.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],s=i&&i.duration||n&&n.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},ZT=(t,e,r)=>{if(!t)return;const n=[];return t.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:u}=i.attributes;n.push({id:i.id,bandwidth:s,resolution:a,codecs:u})}),{type:e,isLive:r,renditions:n}};class nu extends TU{constructor(e,r,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Si("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=r,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const s=r.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new JT,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=kn(this.main.uri,e.uri);this.llhls&&(r=CU(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,n){const{uri:i,id:s}=r;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:ja({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:r}){try{return _U({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(n){this.error=n,this.error.metadata={errorType:fe.Error.StreamingHlsPlaylistParserError,error:n}}}haveMetadata({playlistString:e,playlistObject:r,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:s});const a=r||this.parseManifest_({url:n,manifestString:e});a.lastRequest=Date.now(),Ak({playlist:a,uri:n,id:i});const u=ay(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,u?(this.main=u,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(ly(this.media(),!!u)),s.parsedPlaylist=ZT(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),ee.clearTimeout(this.mediaUpdateTimeout),ee.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new JT,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(ee.clearTimeout(this.finalRenditionTimeout),r){const u=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=ee.setTimeout(this.media.bind(this,e,!1),u);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(ly(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(u,c)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=Tp(e.resolvedUri,c),u)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:c.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=ee.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=ee.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=ee.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,n)=>{if(!this.request)return;if(this.request=null,r)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:ja({requestType:n.requestType,request:n,error:r})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=Tp(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=ZT(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,Ik(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=Ok(n),n.segments.forEach(i=>{Rk(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||ee.location.href;this.main=SU(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const n=this.main,i=e.ID;let s=n.playlists.length;for(;s--;){const a=n.playlists[s];if(a.attributes["PATHWAY-ID"]===i){const u=a.resolvedUri,c=a.id;if(r){const h=this.createCloneURI_(a.resolvedUri,e),p=hu(i,h),g=this.createCloneAttributes_(i,a.attributes),T=this.createClonePlaylist_(a,p,e,g);n.playlists[s]=T,n.playlists[p]=T,n.playlists[h]=T}else n.playlists.splice(s,1);delete n.playlists[c],delete n.playlists[u]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||!n.mediaGroups[s][i])){for(const a in n.mediaGroups[s])if(a===i){for(const u in n.mediaGroups[s][a])n.mediaGroups[s][a][u].playlists.forEach((h,p)=>{const g=n.playlists[h.id],T=g.id,S=g.resolvedUri;delete n.playlists[T],delete n.playlists[S]});delete n.mediaGroups[s][a]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const n=this.main,i=n.playlists.length,s=this.createCloneURI_(r.resolvedUri,e),a=hu(e.ID,s),u=this.createCloneAttributes_(e.ID,r.attributes),c=this.createClonePlaylist_(r,a,e,u);n.playlists[i]=c,n.playlists[a]=c,n.playlists[s]=c,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][r]))for(const a in i.mediaGroups[s]){if(a===n)i.mediaGroups[s][r]={};else continue;for(const u in i.mediaGroups[s][a]){const c=i.mediaGroups[s][a][u];i.mediaGroups[s][r][u]=z({},c);const h=i.mediaGroups[s][r][u],p=this.createCloneURI_(c.resolvedUri,e);h.resolvedUri=p,h.uri=p,h.playlists=[],c.playlists.forEach((g,T)=>{const S=i.playlists[g.id],E=Dk(s,r,u),v=hu(r,E);if(S&&!i.playlists[v]){const C=this.createClonePlaylist_(S,v,e),P=C.resolvedUri;i.playlists[v]=C,i.playlists[P]=C}h.playlists[T]=this.createClonePlaylist_(g,v,e)})}}})}createClonePlaylist_(e,r,n,i){const s=this.createCloneURI_(e.resolvedUri,n),a={resolvedUri:s,uri:s,id:r};return e.segments&&(a.segments=[]),i&&(a.attributes=i),St(e,a)}createCloneURI_(e,r){const n=new URL(e);n.hostname=r["URI-REPLACEMENT"].HOST;const i=r["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))n.searchParams.set(s,i[s]);return n.href}createCloneAttributes_(e,r){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{r[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&r.add(i.toLowerCase())}return r}}}const uy=function(t,e,r,n){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),n(e,t)},kU=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(n=>{r=n(r)}),r},DU=(t,e,r,n)=>{!t||!t.size||t.forEach(i=>{i(e,r,n)})},Mk=function(){const t=function e(r,n){r=St({timeout:45e3},r);const i=e.beforeRequest||fe.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||fe.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||fe.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(fe.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const u=fe.Vhs.xhr.original===!0?fe.xhr:fe.Vhs.xhr,c=kU(s,r);s.delete(i);const h=u(c||r,function(g,T){return DU(a,h,g,T),uy(h,g,T,n)}),p=h.abort;return h.abort=function(){return h.aborted=!0,p.apply(h,arguments)},h.uri=r.uri,h.requestType=r.requestType,h.requestTime=Date.now(),h};return t.original=!0,t},AU=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ee.BigInt(t.offset)+ee.BigInt(t.length)-ee.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},cy=function(t){const e={};return t.byterange&&(e.Range=AU(t.byterange)),e},IU=function(t,e){return t.start(e)+"-"+t.end(e)},PU=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},RU=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Nk=function(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];UE(n)?e[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[r]=n}),e},Cp=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Bk=function(t){return t.resolvedUri},Fk=t=>{const e=Array.prototype.slice.call(t),r=16;let n="",i,s;for(let a=0;a<e.length/r;a++)i=e.slice(a*r,a*r+r).map(PU).join(""),s=e.slice(a*r,a*r+r).map(RU).join(""),n+=i+" "+s+`
`;return n},OU=({bytes:t})=>Fk(t),LU=t=>{let e="",r;for(r=0;r<t.length;r++)e+=IU(t,r)+" ";return e};var MU=Object.freeze({__proto__:null,createTransferableMessage:Nk,initSegmentId:Cp,segmentKeyId:Bk,hexDump:Fk,tagDump:OU,textRanges:LU});const $k=.25,NU=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+r,s=t-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},BU=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,FU=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(r<new Date(n.dateTimeObject))return null;for(let c=0;c<e.segments.length-1;c++){n=e.segments[c];const h=new Date(e.segments[c+1].dateTimeObject);if(r<h)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,a=i.videoTimingInfo?BU(i.videoTimingInfo):i.duration+i.duration*$k,u=new Date(s.getTime()+a*1e3);return r>u?null:(r>new Date(s)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Dn.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},$U=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,n;for(let s=0;s<e.segments.length&&(n=e.segments[s],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(t<=r));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+i.duration*$k)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},jU=(t,e)=>{let r,n;try{r=new Date(t),n=new Date(e)}catch{}const i=r.getTime();return(n.getTime()-i)/1e3},UU=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},zU=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const n=$U(e,t);if(!n)return r({message:"valid programTime was not found"});if(n.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},s=NU(e,n.segment);return s&&(i.programDateTime=s.toISOString()),r(null,i)},jk=({programTime:t,playlist:e,retryCount:r=2,seekTo:n,pauseAfterSeek:i=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!UU(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const u=FU(t,e);if(!u)return a({message:`${t} was not found in the stream`});const c=u.segment,h=jU(c.dateTimeObject,t);if(u.type==="estimate"){if(r===0)return a({message:`${t} is not buffered yet. Try again`});n(u.estimatedStart+h),s.one("seeked",()=>{jk({programTime:t,playlist:e,retryCount:r-1,seekTo:n,pauseAfterSeek:i,tech:s,callback:a})});return}const p=c.start+h,g=()=>a(null,s.currentTime());s.one("seeked",g),i&&s.pause(),n(p)},gv=(t,e)=>{if(t.readyState===4)return e()},HU=(t,e,r,n)=>{let i=[],s,a=!1;const u=function(g,T,S,E){return T.abort(),a=!0,r(g,T,S,E)},c=function(g,T){if(a)return;if(g)return g.metadata=ja({requestType:n,request:T,error:g}),u(g,T,"",i);const S=T.responseText.substring(i&&i.byteLength||0,T.responseText.length);if(i=g$(i,zE(S,!0)),s=s||rd(i),i.length<10||s&&i.length<s+2)return gv(T,()=>u(g,T,"",i));const E=P_(i);return E==="ts"&&i.length<188?gv(T,()=>u(g,T,"",i)):!E&&i.length<376?gv(T,()=>u(g,T,"",i)):u(null,T,E,i)},p=e({uri:t,beforeSend(g){g.overrideMimeType("text/plain; charset=x-user-defined"),g.addEventListener("progress",function({total:T,loaded:S}){return uy(g,null,{statusCode:g.status},c)})}},function(g,T){return uy(p,g,T,c)});return p},{EventTarget:VU}=fe,e2=function(t,e){if(!Lk(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const n=t.segments[r],i=e.segments[r];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const s=n.byterange,a=i.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},qU=(t,e,r,n)=>{const i=n.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${i}`},WU=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:n,previousManifest:i})=>{const s=p6(t,{manifestUri:e,clientOffset:r,sidxMapping:n,previousManifest:i});return Ik(s,e,qU),s},GU=(t,e)=>{Xu(t,(r,n,i,s)=>{(!e.mediaGroups[n][i]||!(s in e.mediaGroups[n][i]))&&delete t.mediaGroups[n][i][s]})},KU=(t,e,r)=>{let n=!0,i=St(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const c=dm(a.sidx);r&&r[c]&&r[c].sidx&&D_(a,r[c].sidx,a.sidx.resolvedUri)}const u=ay(i,a,e2);u&&(i=u,n=!1)}return Xu(e,(s,a,u,c)=>{if(s.playlists&&s.playlists.length){const h=s.playlists[0].id,p=ay(i,s.playlists[0],e2);p&&(i=p,c in i.mediaGroups[a][u]||(i.mediaGroups[a][u][c]=s),i.mediaGroups[a][u][c].playlists[0]=i.playlists[h],n=!1)}}),GU(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},XU=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,t2=(t,e)=>{const r={};for(const n in t){const s=t[n].sidx;if(s){const a=dm(s);if(!e[a])break;const u=e[a].sidxInfo;XU(u,s)&&(r[a]=e[a])}}return r},YU=(t,e)=>{let n=t2(t.playlists,e);return Xu(t,(i,s,a,u)=>{if(i.playlists&&i.playlists.length){const c=i.playlists;n=St(n,t2(c,e))}}),n};class dy extends VU{constructor(e,r,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=n;if(this.vhs_=r,this.withCredentials=s,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Si("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,r,n){const i=e.sidx&&dm(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=ee.setTimeout(()=>n(!1),0);return}const s=Tp(e.sidx.resolvedUri),a=(c,h)=>{if(this.requestErrored_(c,h,r))return;const p=this.mainPlaylistLoader_.sidxMapping_,{requestType:g}=h;let T;try{T=_6(Ge(h.response).subarray(8))}catch(S){S.metadata=ja({requestType:g,request:h,parseFailure:!0}),this.requestErrored_(S,h,r);return}return p[i]={sidxInfo:e.sidx,sidx:T},D_(e,T,e.sidx.resolvedUri),n(!0)},u="dash-sidx";this.request=HU(s,this.vhs_.xhr,(c,h,p,g)=>{if(c)return a(c,h);if(!p||p!=="mp4"){const E=p||"unknown";return a({status:h.status,message:`Unsupported ${E} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},h)}const{offset:T,length:S}=e.sidx.byterange;if(g.length>=S+T)return a(c,{response:g.subarray(T,T+S),status:h.status,uri:h.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:cy({byterange:e.sidx.byterange})},a)},u)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},ee.clearTimeout(this.minimumUpdatePeriodTimeout_),ee.clearTimeout(this.mediaRequest_),ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,i=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(ee.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=ee.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=ee.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:r}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,i)=>{if(n){const{requestType:a}=i;n.metadata=ja({requestType:a,request:i,error:n})}if(this.requestErrored_(n,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:r});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Tp(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const r=m6(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:kn(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n){const{requestType:a}=i;return this.error.metadata=ja({requestType:a,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;r.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:r});let n;try{n=WU({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:fe.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(n=KU(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:s,endList:a}=n,u=[];n.playlists.forEach(h=>{u.push({id:h.id,bandwidth:h.attributes.BANDWIDTH,resolution:h.attributes.RESOLUTION,codecs:h.attributes.CODECS})});const c={duration:s,isLive:!a,renditions:u};r.parsedManifest=c,this.trigger({type:"manifestparsecomplete",metadata:r})}return!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(ee.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=ee.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=YU(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==r[e];if(n?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=ee.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},ly(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&r.add(i.replace(/-/g,"").toLowerCase())}return r}}}var Pr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const QU=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},Uk=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},JU=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},zk=function(t){return function(){const e=JU(t),r=Uk(new Worker(e));r.objURL=e;const n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},r}},Hk=function(t){return`var browserWorkerPolyFill = ${Uk.toString()};
browserWorkerPolyFill(self);
`+t},Vk=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},ZU=Hk(Vk(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var f={};this.on=function(y,b){f[y]||(f[y]=[]),f[y]=f[y].concat(b)},this.off=function(y,b){var _;return f[y]?(_=f[y].indexOf(b),f[y]=f[y].slice(),f[y].splice(_,1),_>-1):!1},this.trigger=function(y){var b,_,w,I;if(b=f[y],!!b)if(arguments.length===2)for(w=b.length,_=0;_<w;++_)b[_].call(this,arguments[1]);else{for(I=[],_=arguments.length,_=1;_<arguments.length;++_)I.push(arguments[_]);for(w=b.length,_=0;_<w;++_)b[_].apply(this,I)}},this.dispose=function(){f={}}}};e.prototype.pipe=function(f){return this.on("data",function(y){f.push(y)}),this.on("done",function(y){f.flush(y)}),this.on("partialdone",function(y){f.partialFlush(y)}),this.on("endedtimeline",function(y){f.endTimeline(y)}),this.on("reset",function(y){f.reset(y)}),f},e.prototype.push=function(f){this.trigger("data",f)},e.prototype.flush=function(f){this.trigger("done",f)},e.prototype.partialFlush=function(f){this.trigger("partialdone",f)},e.prototype.endTimeline=function(f){this.trigger("endedtimeline",f)},e.prototype.reset=function(f){this.trigger("reset",f)};var r=e,n=Math.pow(2,32),i=function(f){var y=new DataView(f.buffer,f.byteOffset,f.byteLength),b;return y.getBigUint64?(b=y.getBigUint64(0),b<Number.MAX_SAFE_INTEGER?Number(b):b):y.getUint32(0)*n+y.getUint32(4)},s={getUint64:i,MAX_UINT32:n},a=s.MAX_UINT32,u,c,h,p,g,T,S,E,v,C,P,R,D,U,A,B,$,W,O,M,X,re,Q,ue,ae,Z,K,J,ie,se,V,ce,Te,Ce,Se,Ne;(function(){var f;if(Q={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(f in Q)Q.hasOwnProperty(f)&&(Q[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);ue=new Uint8Array([105,115,111,109]),Z=new Uint8Array([97,118,99,49]),ae=new Uint8Array([0,0,0,1]),K=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),J=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ie={video:K,audio:J},ce=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),V=new Uint8Array([0,0,0,0,0,0,0,0]),Te=new Uint8Array([0,0,0,0,0,0,0,0]),Ce=Te,Se=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ne=Te,se=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),u=function(f){var y=[],b=0,_,w,I;for(_=1;_<arguments.length;_++)y.push(arguments[_]);for(_=y.length;_--;)b+=y[_].byteLength;for(w=new Uint8Array(b+8),I=new DataView(w.buffer,w.byteOffset,w.byteLength),I.setUint32(0,w.byteLength),w.set(f,4),_=0,b=8;_<y.length;_++)w.set(y[_],b),b+=y[_].byteLength;return w},c=function(){return u(Q.dinf,u(Q.dref,ce))},h=function(f){return u(Q.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,f.audioobjecttype<<3|f.samplingfrequencyindex>>>1,f.samplingfrequencyindex<<7|f.channelcount<<3,6,1,2]))},p=function(){return u(Q.ftyp,ue,ae,ue,Z)},B=function(f){return u(Q.hdlr,ie[f])},g=function(f){return u(Q.mdat,f)},A=function(f){var y=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,f.duration>>>24&255,f.duration>>>16&255,f.duration>>>8&255,f.duration&255,85,196,0,0]);return f.samplerate&&(y[12]=f.samplerate>>>24&255,y[13]=f.samplerate>>>16&255,y[14]=f.samplerate>>>8&255,y[15]=f.samplerate&255),u(Q.mdhd,y)},U=function(f){return u(Q.mdia,A(f),B(f.type),S(f))},T=function(f){return u(Q.mfhd,new Uint8Array([0,0,0,0,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255]))},S=function(f){return u(Q.minf,f.type==="video"?u(Q.vmhd,se):u(Q.smhd,V),c(),W(f))},E=function(f,y){for(var b=[],_=y.length;_--;)b[_]=M(y[_]);return u.apply(null,[Q.moof,T(f)].concat(b))},v=function(f){for(var y=f.length,b=[];y--;)b[y]=R(f[y]);return u.apply(null,[Q.moov,P(4294967295)].concat(b).concat(C(f)))},C=function(f){for(var y=f.length,b=[];y--;)b[y]=X(f[y]);return u.apply(null,[Q.mvex].concat(b))},P=function(f){var y=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return u(Q.mvhd,y)},$=function(f){var y=f.samples||[],b=new Uint8Array(4+y.length),_,w;for(w=0;w<y.length;w++)_=y[w].flags,b[w+4]=_.dependsOn<<4|_.isDependedOn<<2|_.hasRedundancy;return u(Q.sdtp,b)},W=function(f){return u(Q.stbl,O(f),u(Q.stts,Ne),u(Q.stsc,Ce),u(Q.stsz,Se),u(Q.stco,Te))},(function(){var f,y;O=function(b){return u(Q.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),b.type==="video"?f(b):y(b))},f=function(b){var _=b.sps||[],w=b.pps||[],I=[],q=[],G,Y;for(G=0;G<_.length;G++)I.push((_[G].byteLength&65280)>>>8),I.push(_[G].byteLength&255),I=I.concat(Array.prototype.slice.call(_[G]));for(G=0;G<w.length;G++)q.push((w[G].byteLength&65280)>>>8),q.push(w[G].byteLength&255),q=q.concat(Array.prototype.slice.call(w[G]));if(Y=[Q.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(b.width&65280)>>8,b.width&255,(b.height&65280)>>8,b.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u(Q.avcC,new Uint8Array([1,b.profileIdc,b.profileCompatibility,b.levelIdc,255].concat([_.length],I,[w.length],q))),u(Q.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],b.sarRatio){var ne=b.sarRatio[0],de=b.sarRatio[1];Y.push(u(Q.pasp,new Uint8Array([(ne&4278190080)>>24,(ne&16711680)>>16,(ne&65280)>>8,ne&255,(de&4278190080)>>24,(de&16711680)>>16,(de&65280)>>8,de&255])))}return u.apply(null,Y)},y=function(b){return u(Q.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(b.channelcount&65280)>>8,b.channelcount&255,(b.samplesize&65280)>>8,b.samplesize&255,0,0,0,0,(b.samplerate&65280)>>8,b.samplerate&255,0,0]),h(b))}})(),D=function(f){var y=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,0,(f.duration&4278190080)>>24,(f.duration&16711680)>>16,(f.duration&65280)>>8,f.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(f.width&65280)>>8,f.width&255,0,0,(f.height&65280)>>8,f.height&255,0,0]);return u(Q.tkhd,y)},M=function(f){var y,b,_,w,I,q,G;return y=u(Q.tfhd,new Uint8Array([0,0,0,58,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),q=Math.floor(f.baseMediaDecodeTime/a),G=Math.floor(f.baseMediaDecodeTime%a),b=u(Q.tfdt,new Uint8Array([1,0,0,0,q>>>24&255,q>>>16&255,q>>>8&255,q&255,G>>>24&255,G>>>16&255,G>>>8&255,G&255])),I=92,f.type==="audio"?(_=re(f,I),u(Q.traf,y,b,_)):(w=$(f),_=re(f,w.length+I),u(Q.traf,y,b,_,w))},R=function(f){return f.duration=f.duration||4294967295,u(Q.trak,D(f),U(f))},X=function(f){var y=new Uint8Array([0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return f.type!=="video"&&(y[y.length-1]=0),u(Q.trex,y)},(function(){var f,y,b;b=function(_,w){var I=0,q=0,G=0,Y=0;return _.length&&(_[0].duration!==void 0&&(I=1),_[0].size!==void 0&&(q=2),_[0].flags!==void 0&&(G=4),_[0].compositionTimeOffset!==void 0&&(Y=8)),[0,0,I|q|G|Y,1,(_.length&4278190080)>>>24,(_.length&16711680)>>>16,(_.length&65280)>>>8,_.length&255,(w&4278190080)>>>24,(w&16711680)>>>16,(w&65280)>>>8,w&255]},y=function(_,w){var I,q,G,Y,ne,de;for(Y=_.samples||[],w+=20+16*Y.length,G=b(Y,w),q=new Uint8Array(G.length+Y.length*16),q.set(G),I=G.length,de=0;de<Y.length;de++)ne=Y[de],q[I++]=(ne.duration&4278190080)>>>24,q[I++]=(ne.duration&16711680)>>>16,q[I++]=(ne.duration&65280)>>>8,q[I++]=ne.duration&255,q[I++]=(ne.size&4278190080)>>>24,q[I++]=(ne.size&16711680)>>>16,q[I++]=(ne.size&65280)>>>8,q[I++]=ne.size&255,q[I++]=ne.flags.isLeading<<2|ne.flags.dependsOn,q[I++]=ne.flags.isDependedOn<<6|ne.flags.hasRedundancy<<4|ne.flags.paddingValue<<1|ne.flags.isNonSyncSample,q[I++]=ne.flags.degradationPriority&61440,q[I++]=ne.flags.degradationPriority&15,q[I++]=(ne.compositionTimeOffset&4278190080)>>>24,q[I++]=(ne.compositionTimeOffset&16711680)>>>16,q[I++]=(ne.compositionTimeOffset&65280)>>>8,q[I++]=ne.compositionTimeOffset&255;return u(Q.trun,q)},f=function(_,w){var I,q,G,Y,ne,de;for(Y=_.samples||[],w+=20+8*Y.length,G=b(Y,w),I=new Uint8Array(G.length+Y.length*8),I.set(G),q=G.length,de=0;de<Y.length;de++)ne=Y[de],I[q++]=(ne.duration&4278190080)>>>24,I[q++]=(ne.duration&16711680)>>>16,I[q++]=(ne.duration&65280)>>>8,I[q++]=ne.duration&255,I[q++]=(ne.size&4278190080)>>>24,I[q++]=(ne.size&16711680)>>>16,I[q++]=(ne.size&65280)>>>8,I[q++]=ne.size&255;return u(Q.trun,I)},re=function(_,w){return _.type==="audio"?f(_,w):y(_,w)}})();var Ee={ftyp:p,mdat:g,moof:E,moov:v,initSegment:function(f){var y=p(),b=v(f),_;return _=new Uint8Array(y.byteLength+b.byteLength),_.set(y),_.set(b,y.byteLength),_}},ve=function(f){var y,b,_=[],w=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,_.byteLength=0,y=0;y<f.length;y++)b=f[y],b.nalUnitType==="access_unit_delimiter_rbsp"?(_.length&&(_.duration=b.dts-_.dts,w.byteLength+=_.byteLength,w.nalCount+=_.length,w.duration+=_.duration,w.push(_)),_=[b],_.byteLength=b.data.byteLength,_.pts=b.pts,_.dts=b.dts):(b.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(_.keyFrame=!0),_.duration=b.dts-_.dts,_.byteLength+=b.data.byteLength,_.push(b));return w.length&&(!_.duration||_.duration<=0)&&(_.duration=w[w.length-1].duration),w.byteLength+=_.byteLength,w.nalCount+=_.length,w.duration+=_.duration,w.push(_),w},Ae=function(f){var y,b,_=[],w=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=f[0].pts,_.dts=f[0].dts,w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=f[0].pts,w.dts=f[0].dts,y=0;y<f.length;y++)b=f[y],b.keyFrame?(_.length&&(w.push(_),w.byteLength+=_.byteLength,w.nalCount+=_.nalCount,w.duration+=_.duration),_=[b],_.nalCount=b.length,_.byteLength=b.byteLength,_.pts=b.pts,_.dts=b.dts,_.duration=b.duration):(_.duration+=b.duration,_.nalCount+=b.length,_.byteLength+=b.byteLength,_.push(b));return w.length&&_.duration<=0&&(_.duration=w[w.length-1].duration),w.byteLength+=_.byteLength,w.nalCount+=_.nalCount,w.duration+=_.duration,w.push(_),w},Le=function(f){var y;return!f[0][0].keyFrame&&f.length>1&&(y=f.shift(),f.byteLength-=y.byteLength,f.nalCount-=y.nalCount,f[0][0].dts=y.dts,f[0][0].pts=y.pts,f[0][0].duration+=y.duration),f},ze=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},lt=function(f,y){var b=ze();return b.dataOffset=y,b.compositionTimeOffset=f.pts-f.dts,b.duration=f.duration,b.size=4*f.length,b.size+=f.byteLength,f.keyFrame&&(b.flags.dependsOn=2,b.flags.isNonSyncSample=0),b},Yt=function(f,y){var b,_,w,I,q,G=y||0,Y=[];for(b=0;b<f.length;b++)for(I=f[b],_=0;_<I.length;_++)q=I[_],w=lt(q,G),G+=w.size,Y.push(w);return Y},Pt=function(f){var y,b,_,w,I,q,G=0,Y=f.byteLength,ne=f.nalCount,de=Y+4*ne,ge=new Uint8Array(de),Oe=new DataView(ge.buffer);for(y=0;y<f.length;y++)for(w=f[y],b=0;b<w.length;b++)for(I=w[b],_=0;_<I.length;_++)q=I[_],Oe.setUint32(G,q.data.byteLength),G+=4,ge.set(q.data,G),G+=q.data.byteLength;return ge},sn=function(f,y){var b,_=y||0,w=[];return b=lt(f,_),w.push(b),w},wt=function(f){var y,b,_=0,w=f.byteLength,I=f.length,q=w+4*I,G=new Uint8Array(q),Y=new DataView(G.buffer);for(y=0;y<f.length;y++)b=f[y],Y.setUint32(_,b.data.byteLength),_+=4,G.set(b.data,_),_+=b.data.byteLength;return G},gr={groupNalsIntoFrames:ve,groupFramesIntoGops:Ae,extendFirstKeyFrame:Le,generateSampleTable:Yt,concatenateNalData:Pt,generateSampleTableForFrame:sn,concatenateNalDataForFrame:wt},kt=[33,16,5,32,164,27],ur=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Qe=function(f){for(var y=[];f--;)y.push(0);return y},rt=function(f){return Object.keys(f).reduce(function(y,b){return y[b]=new Uint8Array(f[b].reduce(function(_,w){return _.concat(w)},[])),y},{})},mt,Rt=function(){if(!mt){var f={96e3:[kt,[227,64],Qe(154),[56]],88200:[kt,[231],Qe(170),[56]],64e3:[kt,[248,192],Qe(240),[56]],48e3:[kt,[255,192],Qe(268),[55,148,128],Qe(54),[112]],44100:[kt,[255,192],Qe(268),[55,163,128],Qe(84),[112]],32e3:[kt,[255,192],Qe(268),[55,234],Qe(226),[112]],24e3:[kt,[255,192],Qe(268),[55,255,128],Qe(268),[111,112],Qe(126),[224]],16e3:[kt,[255,192],Qe(268),[55,255,128],Qe(268),[111,255],Qe(269),[223,108],Qe(195),[1,192]],12e3:[ur,Qe(268),[3,127,248],Qe(268),[6,255,240],Qe(268),[13,255,224],Qe(268),[27,253,128],Qe(259),[56]],11025:[ur,Qe(268),[3,127,248],Qe(268),[6,255,240],Qe(268),[13,255,224],Qe(268),[27,255,192],Qe(268),[55,175,128],Qe(108),[112]],8e3:[ur,Qe(268),[3,121,16],Qe(47),[7]]};mt=rt(f)}return mt},Sr=9e4,qr,on,vr,Mr,nr,Qt,Tr;qr=function(f){return f*Sr},on=function(f,y){return f*y},vr=function(f){return f/Sr},Mr=function(f,y){return f/y},nr=function(f,y){return qr(Mr(f,y))},Qt=function(f,y){return on(vr(f),y)},Tr=function(f,y,b){return vr(b?f:f-y)};var ht={ONE_SECOND_IN_TS:Sr,secondsToVideoTs:qr,secondsToAudioTs:on,videoTsToSeconds:vr,audioTsToSeconds:Mr,audioTsToVideoTs:nr,videoTsToAudioTs:Qt,metadataTsToSeconds:Tr},Ss=Rt,ir=ht,ji=function(f){var y,b,_=0;for(y=0;y<f.length;y++)b=f[y],_+=b.data.byteLength;return _},Ts=function(f,y,b,_){var w,I=0,q=0,G=0,Y=0,ne,de,ge;if(y.length&&(w=ir.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),I=Math.ceil(ir.ONE_SECOND_IN_TS/(f.samplerate/1024)),b&&_&&(q=w-Math.max(b,_),G=Math.floor(q/I),Y=G*I),!(G<1||Y>ir.ONE_SECOND_IN_TS/2))){for(ne=Ss()[f.samplerate],ne||(ne=y[0].data),de=0;de<G;de++)ge=y[0],y.splice(0,0,{data:ne,dts:ge.dts-I,pts:ge.pts-I});return f.baseMediaDecodeTime-=Math.floor(ir.videoTsToAudioTs(Y,f.samplerate)),Y}},ni=function(f,y,b){return y.minSegmentDts>=b?f:(y.minSegmentDts=1/0,f.filter(function(_){return _.dts>=b?(y.minSegmentDts=Math.min(y.minSegmentDts,_.dts),y.minSegmentPts=y.minSegmentDts,!0):!1}))},ro=function(f){var y,b,_=[];for(y=0;y<f.length;y++)b=f[y],_.push({size:b.data.byteLength,duration:1024});return _},Cs=function(f){var y,b,_=0,w=new Uint8Array(ji(f));for(y=0;y<f.length;y++)b=f[y],w.set(b.data,_),_+=b.data.byteLength;return w},no={prefixWithSilence:Ts,trimAdtsFramesByEarliestDts:ni,generateSampleTable:ro,concatenateFrameData:Cs},Es=ht.ONE_SECOND_IN_TS,j=function(f,y){typeof y.pts=="number"&&(f.timelineStartInfo.pts===void 0&&(f.timelineStartInfo.pts=y.pts),f.minSegmentPts===void 0?f.minSegmentPts=y.pts:f.minSegmentPts=Math.min(f.minSegmentPts,y.pts),f.maxSegmentPts===void 0?f.maxSegmentPts=y.pts:f.maxSegmentPts=Math.max(f.maxSegmentPts,y.pts)),typeof y.dts=="number"&&(f.timelineStartInfo.dts===void 0&&(f.timelineStartInfo.dts=y.dts),f.minSegmentDts===void 0?f.minSegmentDts=y.dts:f.minSegmentDts=Math.min(f.minSegmentDts,y.dts),f.maxSegmentDts===void 0?f.maxSegmentDts=y.dts:f.maxSegmentDts=Math.max(f.maxSegmentDts,y.dts))},H=function(f){delete f.minSegmentDts,delete f.maxSegmentDts,delete f.minSegmentPts,delete f.maxSegmentPts},oe=function(f,y){var b,_,w=f.minSegmentDts;return y||(w-=f.timelineStartInfo.dts),b=f.timelineStartInfo.baseMediaDecodeTime,b+=w,b=Math.max(0,b),f.type==="audio"&&(_=f.samplerate/Es,b*=_,b=Math.floor(b)),b},_e={clearDtsInfo:H,calculateTrackBaseMediaDecodeTime:oe,collectDtsInfo:j},Pe=4,Ye=128,gt=function(f){for(var y=0,b={payloadType:-1,payloadSize:0},_=0,w=0;y<f.byteLength&&f[y]!==Ye;){for(;f[y]===255;)_+=255,y++;for(_+=f[y++];f[y]===255;)w+=255,y++;if(w+=f[y++],!b.payload&&_===Pe){var I=String.fromCharCode(f[y+3],f[y+4],f[y+5],f[y+6]);if(I==="GA94"){b.payloadType=_,b.payloadSize=w,b.payload=f.subarray(y,y+w);break}else b.payload=void 0}y+=w,_=0,w=0}return b},yr=function(f){return f.payload[0]!==181||(f.payload[1]<<8|f.payload[2])!==49||String.fromCharCode(f.payload[3],f.payload[4],f.payload[5],f.payload[6])!=="GA94"||f.payload[7]!==3?null:f.payload.subarray(8,f.payload.length-1)},Nr=function(f,y){var b=[],_,w,I,q;if(!(y[0]&64))return b;for(w=y[0]&31,_=0;_<w;_++)I=_*3,q={type:y[I+2]&3,pts:f},y[I+2]&4&&(q.ccData=y[I+3]<<8|y[I+4],b.push(q));return b},Br=function(f){for(var y=f.byteLength,b=[],_=1,w,I;_<y-2;)f[_]===0&&f[_+1]===0&&f[_+2]===3?(b.push(_+2),_+=2):_++;if(b.length===0)return f;w=y-b.length,I=new Uint8Array(w);var q=0;for(_=0;_<w;q++,_++)q===b[0]&&(q++,b.shift()),I[_]=f[q];return I},Cr={parseSei:gt,parseUserData:yr,parseCaptionPackets:Nr,discardEmulationPreventionBytes:Br,USER_DATA_REGISTERED_ITU_T_T35:Pe},Ln=r,Er=Cr,Ot=function(f){f=f||{},Ot.prototype.init.call(this),this.parse708captions_=typeof f.parse708captions=="boolean"?f.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Lt(0,0),new Lt(0,1),new Lt(1,0),new Lt(1,1)],this.parse708captions_&&(this.cc708Stream_=new ot({captionServices:f.captionServices})),this.reset(),this.ccStreams_.forEach(function(y){y.on("data",this.trigger.bind(this,"data")),y.on("partialdone",this.trigger.bind(this,"partialdone")),y.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Ot.prototype=new Ln,Ot.prototype.push=function(f){var y,b,_;if(f.nalUnitType==="sei_rbsp"&&(y=Er.parseSei(f.escapedRBSP),!!y.payload&&y.payloadType===Er.USER_DATA_REGISTERED_ITU_T_T35&&(b=Er.parseUserData(y),!!b))){if(f.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(f.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}_=Er.parseCaptionPackets(f.pts,b),this.captionPackets_=this.captionPackets_.concat(_),this.latestDts_!==f.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=f.dts}},Ot.prototype.flushCCStreams=function(f){this.ccStreams_.forEach(function(y){return f==="flush"?y.flush():y.partialFlush()},this)},Ot.prototype.flushStream=function(f){if(!this.captionPackets_.length){this.flushCCStreams(f);return}this.captionPackets_.forEach(function(y,b){y.presortIndex=b}),this.captionPackets_.sort(function(y,b){return y.pts===b.pts?y.presortIndex-b.presortIndex:y.pts-b.pts}),this.captionPackets_.forEach(function(y){y.type<2?this.dispatchCea608Packet(y):this.dispatchCea708Packet(y)},this),this.captionPackets_.length=0,this.flushCCStreams(f)},Ot.prototype.flush=function(){return this.flushStream("flush")},Ot.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ot.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(f){f.reset()})},Ot.prototype.dispatchCea608Packet=function(f){this.setsTextOrXDSActive(f)?this.activeCea608Channel_[f.type]=null:this.setsChannel1Active(f)?this.activeCea608Channel_[f.type]=0:this.setsChannel2Active(f)&&(this.activeCea608Channel_[f.type]=1),this.activeCea608Channel_[f.type]!==null&&this.ccStreams_[(f.type<<1)+this.activeCea608Channel_[f.type]].push(f)},Ot.prototype.setsChannel1Active=function(f){return(f.ccData&30720)===4096},Ot.prototype.setsChannel2Active=function(f){return(f.ccData&30720)===6144},Ot.prototype.setsTextOrXDSActive=function(f){return(f.ccData&28928)===256||(f.ccData&30974)===4138||(f.ccData&30974)===6186},Ot.prototype.dispatchCea708Packet=function(f){this.parse708captions_&&this.cc708Stream_.push(f)};var Fr={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Mn=function(f){var y=Fr[f]||f;return f&4096&&f===y?"":String.fromCharCode(y)},ii=function(f){return 32<=f&&f<=127||160<=f&&f<=255},Dt=function(f){this.windowNum=f,this.reset()};Dt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Dt.prototype.getText=function(){return this.rows.join(`
`)},Dt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Dt.prototype.newLine=function(f){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(f),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Dt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Dt.prototype.addText=function(f){this.rows[this.rowIdx]+=f},Dt.prototype.backspace=function(){if(!this.isEmpty()){var f=this.rows[this.rowIdx];this.rows[this.rowIdx]=f.substr(0,f.length-1)}};var ws=function(f,y,b){this.serviceNum=f,this.text="",this.currentWindow=new Dt(-1),this.windows=[],this.stream=b,typeof y=="string"&&this.createTextDecoder(y)};ws.prototype.init=function(f,y){this.startPts=f;for(var b=0;b<8;b++)this.windows[b]=new Dt(b),typeof y=="function"&&(this.windows[b].beforeRowOverflow=y)},ws.prototype.setCurrentWindow=function(f){this.currentWindow=this.windows[f]},ws.prototype.createTextDecoder=function(f){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(f)}catch(y){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+f+" encoding. "+y})}};var ot=function(f){f=f||{},ot.prototype.init.call(this);var y=this,b=f.captionServices||{},_={},w;Object.keys(b).forEach(I=>{w=b[I],/^SERVICE/.test(I)&&(_[I]=w.encoding)}),this.serviceEncodings=_,this.current708Packet=null,this.services={},this.push=function(I){I.type===3?(y.new708Packet(),y.add708Bytes(I)):(y.current708Packet===null&&y.new708Packet(),y.add708Bytes(I))}};ot.prototype=new Ln,ot.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},ot.prototype.add708Bytes=function(f){var y=f.ccData,b=y>>>8,_=y&255;this.current708Packet.ptsVals.push(f.pts),this.current708Packet.data.push(b),this.current708Packet.data.push(_)},ot.prototype.push708Packet=function(){var f=this.current708Packet,y=f.data,b=null,_=null,w=0,I=y[w++];for(f.seq=I>>6,f.sizeCode=I&63;w<y.length;w++)I=y[w++],b=I>>5,_=I&31,b===7&&_>0&&(I=y[w++],b=I),this.pushServiceBlock(b,w,_),_>0&&(w+=_-1)},ot.prototype.pushServiceBlock=function(f,y,b){var _,w=y,I=this.current708Packet.data,q=this.services[f];for(q||(q=this.initService(f,w));w<y+b&&w<I.length;w++)_=I[w],ii(_)?w=this.handleText(w,q):_===24?w=this.multiByteCharacter(w,q):_===16?w=this.extendedCommands(w,q):128<=_&&_<=135?w=this.setCurrentWindow(w,q):152<=_&&_<=159?w=this.defineWindow(w,q):_===136?w=this.clearWindows(w,q):_===140?w=this.deleteWindows(w,q):_===137?w=this.displayWindows(w,q):_===138?w=this.hideWindows(w,q):_===139?w=this.toggleWindows(w,q):_===151?w=this.setWindowAttributes(w,q):_===144?w=this.setPenAttributes(w,q):_===145?w=this.setPenColor(w,q):_===146?w=this.setPenLocation(w,q):_===143?q=this.reset(w,q):_===8?q.currentWindow.backspace():_===12?q.currentWindow.clearText():_===13?q.currentWindow.pendingNewLine=!0:_===14?q.currentWindow.clearText():_===141&&w++},ot.prototype.extendedCommands=function(f,y){var b=this.current708Packet.data,_=b[++f];return ii(_)&&(f=this.handleText(f,y,{isExtended:!0})),f},ot.prototype.getPts=function(f){return this.current708Packet.ptsVals[Math.floor(f/2)]},ot.prototype.initService=function(f,y){var _="SERVICE"+f,b=this,_,w;return _ in this.serviceEncodings&&(w=this.serviceEncodings[_]),this.services[f]=new ws(f,w,b),this.services[f].init(this.getPts(y),function(I){b.flushDisplayed(I,b.services[f])}),this.services[f]},ot.prototype.handleText=function(f,y,b){var _=b&&b.isExtended,w=b&&b.isMultiByte,I=this.current708Packet.data,q=_?4096:0,G=I[f],Y=I[f+1],ne=y.currentWindow,de,ge;function Oe(be){return be.map(We=>("0"+(We&255).toString(16)).slice(-2)).join("")}if(w?(ge=[G,Y],f++):ge=[G],y.textDecoder_&&!_)de=y.textDecoder_.decode(new Uint8Array(ge));else if(w){const be=Oe(ge);de=String.fromCharCode(parseInt(be,16))}else de=Mn(q|G);return ne.pendingNewLine&&!ne.isEmpty()&&ne.newLine(this.getPts(f)),ne.pendingNewLine=!1,ne.addText(de),f},ot.prototype.multiByteCharacter=function(f,y){var b=this.current708Packet.data,_=b[f+1],w=b[f+2];return ii(_)&&ii(w)&&(f=this.handleText(++f,y,{isMultiByte:!0})),f},ot.prototype.setCurrentWindow=function(f,y){var b=this.current708Packet.data,_=b[f],w=_&7;return y.setCurrentWindow(w),f},ot.prototype.defineWindow=function(f,y){var b=this.current708Packet.data,_=b[f],w=_&7;y.setCurrentWindow(w);var I=y.currentWindow;return _=b[++f],I.visible=(_&32)>>5,I.rowLock=(_&16)>>4,I.columnLock=(_&8)>>3,I.priority=_&7,_=b[++f],I.relativePositioning=(_&128)>>7,I.anchorVertical=_&127,_=b[++f],I.anchorHorizontal=_,_=b[++f],I.anchorPoint=(_&240)>>4,I.rowCount=_&15,_=b[++f],I.columnCount=_&63,_=b[++f],I.windowStyle=(_&56)>>3,I.penStyle=_&7,I.virtualRowCount=I.rowCount+1,f},ot.prototype.setWindowAttributes=function(f,y){var b=this.current708Packet.data,_=b[f],w=y.currentWindow.winAttr;return _=b[++f],w.fillOpacity=(_&192)>>6,w.fillRed=(_&48)>>4,w.fillGreen=(_&12)>>2,w.fillBlue=_&3,_=b[++f],w.borderType=(_&192)>>6,w.borderRed=(_&48)>>4,w.borderGreen=(_&12)>>2,w.borderBlue=_&3,_=b[++f],w.borderType+=(_&128)>>5,w.wordWrap=(_&64)>>6,w.printDirection=(_&48)>>4,w.scrollDirection=(_&12)>>2,w.justify=_&3,_=b[++f],w.effectSpeed=(_&240)>>4,w.effectDirection=(_&12)>>2,w.displayEffect=_&3,f},ot.prototype.flushDisplayed=function(f,y){for(var b=[],_=0;_<8;_++)y.windows[_].visible&&!y.windows[_].isEmpty()&&b.push(y.windows[_].getText());y.endPts=f,y.text=b.join(`

`),this.pushCaption(y),y.startPts=f},ot.prototype.pushCaption=function(f){f.text!==""&&(this.trigger("data",{startPts:f.startPts,endPts:f.endPts,text:f.text,stream:"cc708_"+f.serviceNum}),f.text="",f.startPts=f.endPts)},ot.prototype.displayWindows=function(f,y){var b=this.current708Packet.data,_=b[++f],w=this.getPts(f);this.flushDisplayed(w,y);for(var I=0;I<8;I++)_&1<<I&&(y.windows[I].visible=1);return f},ot.prototype.hideWindows=function(f,y){var b=this.current708Packet.data,_=b[++f],w=this.getPts(f);this.flushDisplayed(w,y);for(var I=0;I<8;I++)_&1<<I&&(y.windows[I].visible=0);return f},ot.prototype.toggleWindows=function(f,y){var b=this.current708Packet.data,_=b[++f],w=this.getPts(f);this.flushDisplayed(w,y);for(var I=0;I<8;I++)_&1<<I&&(y.windows[I].visible^=1);return f},ot.prototype.clearWindows=function(f,y){var b=this.current708Packet.data,_=b[++f],w=this.getPts(f);this.flushDisplayed(w,y);for(var I=0;I<8;I++)_&1<<I&&y.windows[I].clearText();return f},ot.prototype.deleteWindows=function(f,y){var b=this.current708Packet.data,_=b[++f],w=this.getPts(f);this.flushDisplayed(w,y);for(var I=0;I<8;I++)_&1<<I&&y.windows[I].reset();return f},ot.prototype.setPenAttributes=function(f,y){var b=this.current708Packet.data,_=b[f],w=y.currentWindow.penAttr;return _=b[++f],w.textTag=(_&240)>>4,w.offset=(_&12)>>2,w.penSize=_&3,_=b[++f],w.italics=(_&128)>>7,w.underline=(_&64)>>6,w.edgeType=(_&56)>>3,w.fontStyle=_&7,f},ot.prototype.setPenColor=function(f,y){var b=this.current708Packet.data,_=b[f],w=y.currentWindow.penColor;return _=b[++f],w.fgOpacity=(_&192)>>6,w.fgRed=(_&48)>>4,w.fgGreen=(_&12)>>2,w.fgBlue=_&3,_=b[++f],w.bgOpacity=(_&192)>>6,w.bgRed=(_&48)>>4,w.bgGreen=(_&12)>>2,w.bgBlue=_&3,_=b[++f],w.edgeRed=(_&48)>>4,w.edgeGreen=(_&12)>>2,w.edgeBlue=_&3,f},ot.prototype.setPenLocation=function(f,y){var b=this.current708Packet.data,_=b[f],w=y.currentWindow.penLoc;return y.currentWindow.pendingNewLine=!0,_=b[++f],w.row=_&15,_=b[++f],w.column=_&63,f},ot.prototype.reset=function(f,y){var b=this.getPts(f);return this.flushDisplayed(b,y),this.initService(y.serviceNum,f)};var qo={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Wo=function(f){return f===null?"":(f=qo[f]||f,String.fromCharCode(f))},Xa=14,Jd=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ui=function(){for(var f=[],y=Xa+1;y--;)f.push({text:"",indent:0,offset:0});return f},Lt=function(f,y){Lt.prototype.init.call(this),this.field_=f||0,this.dataChannel_=y||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(b){var _,w,I,q,G;if(_=b.ccData&32639,_===this.lastControlCode_){this.lastControlCode_=null;return}if((_&61440)===4096?this.lastControlCode_=_:_!==this.PADDING_&&(this.lastControlCode_=null),I=_>>>8,q=_&255,_!==this.PADDING_)if(_===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(_===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(b.pts),this.flushDisplayed(b.pts),w=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=w,this.startPts_=b.pts;else if(_===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(b.pts);else if(_===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(b.pts);else if(_===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(b.pts);else if(_===this.CARRIAGE_RETURN_)this.clearFormatting(b.pts),this.flushDisplayed(b.pts),this.shiftRowsUp_(),this.startPts_=b.pts;else if(_===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(_===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(b.pts),this.displayed_=Ui();else if(_===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ui();else if(_===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(b.pts),this.displayed_=Ui()),this.mode_="paintOn",this.startPts_=b.pts;else if(this.isSpecialCharacter(I,q))I=(I&3)<<8,G=Wo(I|q),this[this.mode_](b.pts,G),this.column_++;else if(this.isExtCharacter(I,q))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),I=(I&3)<<8,G=Wo(I|q),this[this.mode_](b.pts,G),this.column_++;else if(this.isMidRowCode(I,q))this.clearFormatting(b.pts),this[this.mode_](b.pts," "),this.column_++,(q&14)===14&&this.addFormatting(b.pts,["i"]),(q&1)===1&&this.addFormatting(b.pts,["u"]);else if(this.isOffsetControlCode(I,q)){const ne=q&3;this.nonDisplayed_[this.row_].offset=ne,this.column_+=ne}else if(this.isPAC(I,q)){var Y=Jd.indexOf(_&7968);if(this.mode_==="rollUp"&&(Y-this.rollUpRows_+1<0&&(Y=this.rollUpRows_-1),this.setRollUp(b.pts,Y)),Y!==this.row_&&Y>=0&&Y<=14&&(this.clearFormatting(b.pts),this.row_=Y),q&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(b.pts,["u"]),(_&16)===16){const ne=(_&14)>>1;this.column_=ne*4,this.nonDisplayed_[this.row_].indent+=ne}this.isColorPAC(q)&&(q&14)===14&&this.addFormatting(b.pts,["i"])}else this.isNormalChar(I)&&(q===0&&(q=null),G=Wo(I),G+=Wo(q),this[this.mode_](b.pts,G),this.column_+=G.length)}};Lt.prototype=new Ln,Lt.prototype.flushDisplayed=function(f){const y=_=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+_+"."})},b=[];this.displayed_.forEach((_,w)=>{if(_&&_.text&&_.text.length){try{_.text=_.text.trim()}catch{y(w)}_.text.length&&b.push({text:_.text,line:w+1,position:10+Math.min(70,_.indent*10)+_.offset*2.5})}else _==null&&y(w)}),b.length&&this.trigger("data",{startPts:this.startPts_,endPts:f,content:b,stream:this.name_})},Lt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ui(),this.nonDisplayed_=Ui(),this.lastControlCode_=null,this.column_=0,this.row_=Xa,this.rollUpRows_=2,this.formatting_=[]},Lt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Lt.prototype.isSpecialCharacter=function(f,y){return f===this.EXT_&&y>=48&&y<=63},Lt.prototype.isExtCharacter=function(f,y){return(f===this.EXT_+1||f===this.EXT_+2)&&y>=32&&y<=63},Lt.prototype.isMidRowCode=function(f,y){return f===this.EXT_&&y>=32&&y<=47},Lt.prototype.isOffsetControlCode=function(f,y){return f===this.OFFSET_&&y>=33&&y<=35},Lt.prototype.isPAC=function(f,y){return f>=this.BASE_&&f<this.BASE_+8&&y>=64&&y<=127},Lt.prototype.isColorPAC=function(f){return f>=64&&f<=79||f>=96&&f<=127},Lt.prototype.isNormalChar=function(f){return f>=32&&f<=127},Lt.prototype.setRollUp=function(f,y){if(this.mode_!=="rollUp"&&(this.row_=Xa,this.mode_="rollUp",this.flushDisplayed(f),this.nonDisplayed_=Ui(),this.displayed_=Ui()),y!==void 0&&y!==this.row_)for(var b=0;b<this.rollUpRows_;b++)this.displayed_[y-b]=this.displayed_[this.row_-b],this.displayed_[this.row_-b]={text:"",indent:0,offset:0};y===void 0&&(y=this.row_),this.topRow_=y-this.rollUpRows_+1},Lt.prototype.addFormatting=function(f,y){this.formatting_=this.formatting_.concat(y);var b=y.reduce(function(_,w){return _+"<"+w+">"},"");this[this.mode_](f,b)},Lt.prototype.clearFormatting=function(f){if(this.formatting_.length){var y=this.formatting_.reverse().reduce(function(b,_){return b+"</"+_+">"},"");this.formatting_=[],this[this.mode_](f,y)}},Lt.prototype.popOn=function(f,y){var b=this.nonDisplayed_[this.row_].text;b+=y,this.nonDisplayed_[this.row_].text=b},Lt.prototype.rollUp=function(f,y){var b=this.displayed_[this.row_].text;b+=y,this.displayed_[this.row_].text=b},Lt.prototype.shiftRowsUp_=function(){var f;for(f=0;f<this.topRow_;f++)this.displayed_[f]={text:"",indent:0,offset:0};for(f=this.row_+1;f<Xa+1;f++)this.displayed_[f]={text:"",indent:0,offset:0};for(f=this.topRow_;f<this.row_;f++)this.displayed_[f]=this.displayed_[f+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Lt.prototype.paintOn=function(f,y){var b=this.displayed_[this.row_].text;b+=y,this.displayed_[this.row_].text=b};var Yu={CaptionStream:Ot,Cea608Stream:Lt,Cea708Stream:ot},Ya={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Im=r,qt=8589934592,Pm=4294967296,Qa="shared",Ja=function(f,y){var b=1;for(f>y&&(b=-1);Math.abs(y-f)>Pm;)f+=b*qt;return f},io=function(f){var y,b;io.prototype.init.call(this),this.type_=f||Qa,this.push=function(_){if(_.type==="metadata"){this.trigger("data",_);return}this.type_!==Qa&&_.type!==this.type_||(b===void 0&&(b=_.dts),_.dts=Ja(_.dts,b),_.pts=Ja(_.pts,b),y=_.dts,this.trigger("data",_))},this.flush=function(){b=y,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){b=void 0,y=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};io.prototype=new Im;var Zd={TimestampRolloverStream:io,handleRollover:Ja},eh=(f,y,b)=>{if(!f)return-1;for(var _=b;_<f.length;_++)if(f[_]===y)return _;return-1},Za={typedArrayIndexOf:eh},an=Za.typedArrayIndexOf,el={Utf8:3},vn=function(f,y,b){var _,w="";for(_=y;_<b;_++)w+="%"+("00"+f[_].toString(16)).slice(-2);return w},Go=function(f,y,b){return decodeURIComponent(vn(f,y,b))},Ko=function(f,y,b){return unescape(vn(f,y,b))},Xo=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},zi={APIC:function(f){var y=1,b,_,w="-->";f.data[0]===el.Utf8&&(b=an(f.data,0,y),!(b<0)&&(f.mimeType=Ko(f.data,y,b),y=b+1,f.pictureType=f.data[y],y++,_=an(f.data,0,y),!(_<0)&&(f.description=Go(f.data,y,_),y=_+1,f.mimeType===w?f.url=Ko(f.data,y,f.data.length):f.pictureData=f.data.subarray(y,f.data.length))))},"T*":function(f){f.data[0]===el.Utf8&&(f.value=Go(f.data,1,f.data.length).replace(/\0*$/,""),f.values=f.value.split("\0"))},TXXX:function(f){var y;f.data[0]===el.Utf8&&(y=an(f.data,0,1),y!==-1&&(f.description=Go(f.data,1,y),f.value=Go(f.data,y+1,f.data.length).replace(/\0*$/,""),f.data=f.value))},"W*":function(f){f.url=Ko(f.data,0,f.data.length).replace(/\0.*$/,"")},WXXX:function(f){var y;f.data[0]===el.Utf8&&(y=an(f.data,0,1),y!==-1&&(f.description=Go(f.data,1,y),f.url=Ko(f.data,y+1,f.data.length).replace(/\0.*$/,"")))},PRIV:function(f){var y;for(y=0;y<f.data.length;y++)if(f.data[y]===0){f.owner=Ko(f.data,0,y);break}f.privateData=f.data.subarray(y+1),f.data=f.privateData}},tl=function(f){var y,b,_=10,w=0,I=[];if(!(f.length<10||f[0]!==73||f[1]!==68||f[2]!==51)){w=Xo(f.subarray(6,10)),w+=10;var q=f[5]&64;q&&(_+=4,_+=Xo(f.subarray(10,14)),w-=Xo(f.subarray(16,20)));do{if(y=Xo(f.subarray(_+4,_+8)),y<1)break;b=String.fromCharCode(f[_],f[_+1],f[_+2],f[_+3]);var G={id:b,data:f.subarray(_+10,_+y+10)};G.key=G.id,zi[G.id]?zi[G.id](G):G.id[0]==="T"?zi["T*"](G):G.id[0]==="W"&&zi["W*"](G),I.push(G),_+=10,_+=y}while(_<w);return I}},so={parseId3Frames:tl,parseSyncSafeInteger:Xo,frameParsers:zi},rl=r,Rm=Ya,Hi=so,oo;oo=function(f){var y={descriptor:f&&f.descriptor},b=0,_=[],w=0,I;if(oo.prototype.init.call(this),this.dispatchType=Rm.METADATA_STREAM_TYPE.toString(16),y.descriptor)for(I=0;I<y.descriptor.length;I++)this.dispatchType+=("00"+y.descriptor[I].toString(16)).slice(-2);this.push=function(q){var G,Y,ne,de,ge,Oe;if(q.type==="timed-metadata"){if(q.dataAlignmentIndicator&&(w=0,_.length=0),_.length===0&&(q.data.length<10||q.data[0]!==73||q.data[1]!==68||q.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(_.push(q),w+=q.data.byteLength,_.length===1&&(b=Hi.parseSyncSafeInteger(q.data.subarray(6,10)),b+=10),!(w<b)){for(G={data:new Uint8Array(b),frames:[],pts:_[0].pts,dts:_[0].dts},ge=0;ge<b;)G.data.set(_[0].data.subarray(0,b-ge),ge),ge+=_[0].data.byteLength,w-=_[0].data.byteLength,_.shift();Y=10,G.data[5]&64&&(Y+=4,Y+=Hi.parseSyncSafeInteger(G.data.subarray(10,14)),b-=Hi.parseSyncSafeInteger(G.data.subarray(16,20)));do{if(ne=Hi.parseSyncSafeInteger(G.data.subarray(Y+4,Y+8)),ne<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Oe=String.fromCharCode(G.data[Y],G.data[Y+1],G.data[Y+2],G.data[Y+3]),de={id:Oe,data:G.data.subarray(Y+10,Y+ne+10)},de.key=de.id,Hi.frameParsers[de.id]?Hi.frameParsers[de.id](de):de.id[0]==="T"?Hi.frameParsers["T*"](de):de.id[0]==="W"&&Hi.frameParsers["W*"](de),de.owner==="com.apple.streaming.transportStreamTimestamp"){var be=de.data,We=(be[3]&1)<<30|be[4]<<22|be[5]<<14|be[6]<<6|be[7]>>>2;We*=4,We+=be[7]&3,de.timeStamp=We,G.pts===void 0&&G.dts===void 0&&(G.pts=de.timeStamp,G.dts=de.timeStamp),this.trigger("timestamp",de)}G.frames.push(de),Y+=10,Y+=ne}while(Y<b);this.trigger("data",G)}}}},oo.prototype=new rl;var th=oo,Yo=r,ks=Yu,Nn=Ya,Qu=Zd.TimestampRolloverStream,ct,ao,Qo,Vi=188,nl=71;ct=function(){var f=new Uint8Array(Vi),y=0;ct.prototype.init.call(this),this.push=function(b){var _=0,w=Vi,I;for(y?(I=new Uint8Array(b.byteLength+y),I.set(f.subarray(0,y)),I.set(b,y),y=0):I=b;w<I.byteLength;){if(I[_]===nl&&I[w]===nl){this.trigger("data",I.subarray(_,w)),_+=Vi,w+=Vi;continue}_++,w++}_<I.byteLength&&(f.set(I.subarray(_),0),y=I.byteLength-_)},this.flush=function(){y===Vi&&f[0]===nl&&(this.trigger("data",f),y=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){y=0,this.trigger("reset")}},ct.prototype=new Yo,ao=function(){var f,y,b,_;ao.prototype.init.call(this),_=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,f=function(w,I){var q=0;I.payloadUnitStartIndicator&&(q+=w[q]+1),I.type==="pat"?y(w.subarray(q),I):b(w.subarray(q),I)},y=function(w,I){I.section_number=w[7],I.last_section_number=w[8],_.pmtPid=(w[10]&31)<<8|w[11],I.pmtPid=_.pmtPid},b=function(w,I){var q,G,Y,ne;if(w[5]&1){for(_.programMapTable={video:null,audio:null,"timed-metadata":{}},q=(w[1]&15)<<8|w[2],G=3+q-4,Y=(w[10]&15)<<8|w[11],ne=12+Y;ne<G;){var de=w[ne],ge=(w[ne+1]&31)<<8|w[ne+2];de===Nn.H264_STREAM_TYPE&&_.programMapTable.video===null?_.programMapTable.video=ge:de===Nn.ADTS_STREAM_TYPE&&_.programMapTable.audio===null?_.programMapTable.audio=ge:de===Nn.METADATA_STREAM_TYPE&&(_.programMapTable["timed-metadata"][ge]=de),ne+=((w[ne+3]&15)<<8|w[ne+4])+5}I.programMapTable=_.programMapTable}},this.push=function(w){var I={},q=4;if(I.payloadUnitStartIndicator=!!(w[1]&64),I.pid=w[1]&31,I.pid<<=8,I.pid|=w[2],(w[3]&48)>>>4>1&&(q+=w[q]+1),I.pid===0)I.type="pat",f(w.subarray(q),I),this.trigger("data",I);else if(I.pid===this.pmtPid)for(I.type="pmt",f(w.subarray(q),I),this.trigger("data",I);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([w,q,I]):this.processPes_(w,q,I)},this.processPes_=function(w,I,q){q.pid===this.programMapTable.video?q.streamType=Nn.H264_STREAM_TYPE:q.pid===this.programMapTable.audio?q.streamType=Nn.ADTS_STREAM_TYPE:q.streamType=this.programMapTable["timed-metadata"][q.pid],q.type="pes",q.data=w.subarray(I),this.trigger("data",q)}},ao.prototype=new Yo,ao.STREAM_TYPES={h264:27,adts:15},Qo=function(){var f=this,y=!1,b={data:[],size:0},_={data:[],size:0},w={data:[],size:0},I,q=function(Y,ne){var de;const ge=Y[0]<<16|Y[1]<<8|Y[2];ne.data=new Uint8Array,ge===1&&(ne.packetLength=6+(Y[4]<<8|Y[5]),ne.dataAlignmentIndicator=(Y[6]&4)!==0,de=Y[7],de&192&&(ne.pts=(Y[9]&14)<<27|(Y[10]&255)<<20|(Y[11]&254)<<12|(Y[12]&255)<<5|(Y[13]&254)>>>3,ne.pts*=4,ne.pts+=(Y[13]&6)>>>1,ne.dts=ne.pts,de&64&&(ne.dts=(Y[14]&14)<<27|(Y[15]&255)<<20|(Y[16]&254)<<12|(Y[17]&255)<<5|(Y[18]&254)>>>3,ne.dts*=4,ne.dts+=(Y[18]&6)>>>1)),ne.data=Y.subarray(9+Y[8]))},G=function(Y,ne,de){var ge=new Uint8Array(Y.size),Oe={type:ne},be=0,We=0,it=!1,sr;if(!(!Y.data.length||Y.size<9)){for(Oe.trackId=Y.data[0].pid,be=0;be<Y.data.length;be++)sr=Y.data[be],ge.set(sr.data,We),We+=sr.data.byteLength;q(ge,Oe),it=ne==="video"||Oe.packetLength<=Y.size,(de||it)&&(Y.size=0,Y.data.length=0),it&&f.trigger("data",Oe)}};Qo.prototype.init.call(this),this.push=function(Y){({pat:function(){},pes:function(){var ne,de;switch(Y.streamType){case Nn.H264_STREAM_TYPE:ne=b,de="video";break;case Nn.ADTS_STREAM_TYPE:ne=_,de="audio";break;case Nn.METADATA_STREAM_TYPE:ne=w,de="timed-metadata";break;default:return}Y.payloadUnitStartIndicator&&G(ne,de,!0),ne.data.push(Y),ne.size+=Y.data.byteLength},pmt:function(){var ne={type:"metadata",tracks:[]};I=Y.programMapTable,I.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+I.video,codec:"avc",type:"video"}),I.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+I.audio,codec:"adts",type:"audio"}),y=!0,f.trigger("data",ne)}})[Y.type]()},this.reset=function(){b.size=0,b.data.length=0,_.size=0,_.data.length=0,this.trigger("reset")},this.flushStreams_=function(){G(b,"video"),G(_,"audio"),G(w,"timed-metadata")},this.flush=function(){if(!y&&I){var Y={type:"metadata",tracks:[]};I.video!==null&&Y.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+I.video,codec:"avc",type:"video"}),I.audio!==null&&Y.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+I.audio,codec:"adts",type:"audio"}),f.trigger("data",Y)}y=!1,this.flushStreams_(),this.trigger("done")}},Qo.prototype=new Yo;var Ju={PAT_PID:0,MP2T_PACKET_LENGTH:Vi,TransportPacketStream:ct,TransportParseStream:ao,ElementaryStream:Qo,TimestampRolloverStream:Qu,CaptionStream:ks.CaptionStream,Cea608Stream:ks.Cea608Stream,Cea708Stream:ks.Cea708Stream,MetadataStream:th};for(var il in Nn)Nn.hasOwnProperty(il)&&(Ju[il]=Nn[il]);var Zu=Ju,sl=r,qi=ht.ONE_SECOND_IN_TS,Bn,Ti=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Bn=function(f){var y,b=0;Bn.prototype.init.call(this),this.skipWarn_=function(_,w){this.trigger("log",{level:"warn",message:`adts skiping bytes ${_} to ${w} in frame ${b} outside syncword`})},this.push=function(_){var w=0,I,q,G,Y,ne;if(f||(b=0),_.type==="audio"){y&&y.length?(G=y,y=new Uint8Array(G.byteLength+_.data.byteLength),y.set(G),y.set(_.data,G.byteLength)):y=_.data;for(var de;w+7<y.length;){if(y[w]!==255||(y[w+1]&246)!==240){typeof de!="number"&&(de=w),w++;continue}if(typeof de=="number"&&(this.skipWarn_(de,w),de=null),q=(~y[w+1]&1)*2,I=(y[w+3]&3)<<11|y[w+4]<<3|(y[w+5]&224)>>5,Y=((y[w+6]&3)+1)*1024,ne=Y*qi/Ti[(y[w+2]&60)>>>2],y.byteLength-w<I)break;this.trigger("data",{pts:_.pts+b*ne,dts:_.dts+b*ne,sampleCount:Y,audioobjecttype:(y[w+2]>>>6&3)+1,channelcount:(y[w+2]&1)<<2|(y[w+3]&192)>>>6,samplerate:Ti[(y[w+2]&60)>>>2],samplingfrequencyindex:(y[w+2]&60)>>>2,samplesize:16,data:y.subarray(w+7+q,w+I)}),b++,w+=I}typeof de=="number"&&(this.skipWarn_(de,w),de=null),y=y.subarray(w)}},this.flush=function(){b=0,this.trigger("done")},this.reset=function(){y=void 0,this.trigger("reset")},this.endTimeline=function(){y=void 0,this.trigger("endedtimeline")}},Bn.prototype=new sl;var Jo=Bn,lo;lo=function(f){var y=f.byteLength,b=0,_=0;this.length=function(){return 8*y},this.bitsAvailable=function(){return 8*y+_},this.loadWord=function(){var w=f.byteLength-y,I=new Uint8Array(4),q=Math.min(4,y);if(q===0)throw new Error("no bytes available");I.set(f.subarray(w,w+q)),b=new DataView(I.buffer).getUint32(0),_=q*8,y-=q},this.skipBits=function(w){var I;_>w?(b<<=w,_-=w):(w-=_,I=Math.floor(w/8),w-=I*8,y-=I,this.loadWord(),b<<=w,_-=w)},this.readBits=function(w){var I=Math.min(_,w),q=b>>>32-I;return _-=I,_>0?b<<=I:y>0&&this.loadWord(),I=w-I,I>0?q<<I|this.readBits(I):q},this.skipLeadingZeros=function(){var w;for(w=0;w<_;++w)if((b&2147483648>>>w)!==0)return b<<=w,_-=w,w;return this.loadWord(),w+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var w=this.skipLeadingZeros();return this.readBits(w+1)-1},this.readExpGolomb=function(){var w=this.readUnsignedExpGolomb();return 1&w?1+w>>>1:-1*(w>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Wi=lo,rh=r,nh=Wi,Gi,ol,ec;ol=function(){var f=0,y,b;ol.prototype.init.call(this),this.push=function(_){var w;b?(w=new Uint8Array(b.byteLength+_.data.byteLength),w.set(b),w.set(_.data,b.byteLength),b=w):b=_.data;for(var I=b.byteLength;f<I-3;f++)if(b[f+2]===1){y=f+5;break}for(;y<I;)switch(b[y]){case 0:if(b[y-1]!==0){y+=2;break}else if(b[y-2]!==0){y++;break}f+3!==y-2&&this.trigger("data",b.subarray(f+3,y-2));do y++;while(b[y]!==1&&y<I);f=y-2,y+=3;break;case 1:if(b[y-1]!==0||b[y-2]!==0){y+=3;break}this.trigger("data",b.subarray(f+3,y-2)),f=y-2,y+=3;break;default:y+=3;break}b=b.subarray(f),y-=f,f=0},this.reset=function(){b=null,f=0,this.trigger("reset")},this.flush=function(){b&&b.byteLength>3&&this.trigger("data",b.subarray(f+3)),b=null,f=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ol.prototype=new rh,ec={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Gi=function(){var f=new ol,y,b,_,w,I,q,G;Gi.prototype.init.call(this),y=this,this.push=function(Y){Y.type==="video"&&(b=Y.trackId,_=Y.pts,w=Y.dts,f.push(Y))},f.on("data",function(Y){var ne={trackId:b,pts:_,dts:w,data:Y,nalUnitTypeCode:Y[0]&31};switch(ne.nalUnitTypeCode){case 5:ne.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ne.nalUnitType="sei_rbsp",ne.escapedRBSP=I(Y.subarray(1));break;case 7:ne.nalUnitType="seq_parameter_set_rbsp",ne.escapedRBSP=I(Y.subarray(1)),ne.config=q(ne.escapedRBSP);break;case 8:ne.nalUnitType="pic_parameter_set_rbsp";break;case 9:ne.nalUnitType="access_unit_delimiter_rbsp";break}y.trigger("data",ne)}),f.on("done",function(){y.trigger("done")}),f.on("partialdone",function(){y.trigger("partialdone")}),f.on("reset",function(){y.trigger("reset")}),f.on("endedtimeline",function(){y.trigger("endedtimeline")}),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},G=function(Y,ne){var de=8,ge=8,Oe,be;for(Oe=0;Oe<Y;Oe++)ge!==0&&(be=ne.readExpGolomb(),ge=(de+be+256)%256),de=ge===0?de:ge},I=function(Y){for(var ne=Y.byteLength,de=[],ge=1,Oe,be;ge<ne-2;)Y[ge]===0&&Y[ge+1]===0&&Y[ge+2]===3?(de.push(ge+2),ge+=2):ge++;if(de.length===0)return Y;Oe=ne-de.length,be=new Uint8Array(Oe);var We=0;for(ge=0;ge<Oe;We++,ge++)We===de[0]&&(We++,de.shift()),be[ge]=Y[We];return be},q=function(Y){var ne=0,de=0,ge=0,Oe=0,be,We,it,sr,cr,zn,Os,fa,Pl,Ji,wi,et=[1,1],Tt,Wr;if(be=new nh(Y),We=be.readUnsignedByte(),sr=be.readUnsignedByte(),it=be.readUnsignedByte(),be.skipUnsignedExpGolomb(),ec[We]&&(cr=be.readUnsignedExpGolomb(),cr===3&&be.skipBits(1),be.skipUnsignedExpGolomb(),be.skipUnsignedExpGolomb(),be.skipBits(1),be.readBoolean()))for(wi=cr!==3?8:12,Wr=0;Wr<wi;Wr++)be.readBoolean()&&(Wr<6?G(16,be):G(64,be));if(be.skipUnsignedExpGolomb(),zn=be.readUnsignedExpGolomb(),zn===0)be.readUnsignedExpGolomb();else if(zn===1)for(be.skipBits(1),be.skipExpGolomb(),be.skipExpGolomb(),Os=be.readUnsignedExpGolomb(),Wr=0;Wr<Os;Wr++)be.skipExpGolomb();if(be.skipUnsignedExpGolomb(),be.skipBits(1),fa=be.readUnsignedExpGolomb(),Pl=be.readUnsignedExpGolomb(),Ji=be.readBits(1),Ji===0&&be.skipBits(1),be.skipBits(1),be.readBoolean()&&(ne=be.readUnsignedExpGolomb(),de=be.readUnsignedExpGolomb(),ge=be.readUnsignedExpGolomb(),Oe=be.readUnsignedExpGolomb()),be.readBoolean()&&be.readBoolean()){switch(Tt=be.readUnsignedByte(),Tt){case 1:et=[1,1];break;case 2:et=[12,11];break;case 3:et=[10,11];break;case 4:et=[16,11];break;case 5:et=[40,33];break;case 6:et=[24,11];break;case 7:et=[20,11];break;case 8:et=[32,11];break;case 9:et=[80,33];break;case 10:et=[18,11];break;case 11:et=[15,11];break;case 12:et=[64,33];break;case 13:et=[160,99];break;case 14:et=[4,3];break;case 15:et=[3,2];break;case 16:et=[2,1];break;case 255:{et=[be.readUnsignedByte()<<8|be.readUnsignedByte(),be.readUnsignedByte()<<8|be.readUnsignedByte()];break}}et&&et[0]/et[1]}return{profileIdc:We,levelIdc:it,profileCompatibility:sr,width:(fa+1)*16-ne*2-de*2,height:(2-Ji)*(Pl+1)*16-ge*2-Oe*2,sarRatio:et}}},Gi.prototype=new rh;var al={H264Stream:Gi},ih=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],sh=function(f,y){var b=f[y+6]<<21|f[y+7]<<14|f[y+8]<<7|f[y+9],_=f[y+5],w=(_&16)>>4;return b=b>=0?b:0,w?b+20:b+10},uo=function(f,y){return f.length-y<10||f[y]!==73||f[y+1]!==68||f[y+2]!==51?y:(y+=sh(f,y),uo(f,y))},Zo=function(f){var y=uo(f,0);return f.length>=y+2&&(f[y]&255)===255&&(f[y+1]&240)===240&&(f[y+1]&22)===16},Ds=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},ll=function(f,y,b){var _,w="";for(_=y;_<b;_++)w+="%"+("00"+f[_].toString(16)).slice(-2);return w},Om=function(f,y,b){return unescape(ll(f,y,b))},Lm=function(f,y){var b=(f[y+5]&224)>>5,_=f[y+4]<<3,w=f[y+3]&6144;return w|_|b},tc=function(f,y){return f[y]===73&&f[y+1]===68&&f[y+2]===51?"timed-metadata":f[y]&!0&&(f[y+1]&240)===240?"audio":null},ul=function(f){for(var y=0;y+5<f.length;){if(f[y]!==255||(f[y+1]&246)!==240){y++;continue}return ih[(f[y+2]&60)>>>2]}return null},rc=function(f){var y,b,_,w;y=10,f[5]&64&&(y+=4,y+=Ds(f.subarray(10,14)));do{if(b=Ds(f.subarray(y+4,y+8)),b<1)return null;if(w=String.fromCharCode(f[y],f[y+1],f[y+2],f[y+3]),w==="PRIV"){_=f.subarray(y+10,y+b+10);for(var I=0;I<_.byteLength;I++)if(_[I]===0){var q=Om(_,0,I);if(q==="com.apple.streaming.transportStreamTimestamp"){var G=_.subarray(I+1),Y=(G[3]&1)<<30|G[4]<<22|G[5]<<14|G[6]<<6|G[7]>>>2;return Y*=4,Y+=G[7]&3,Y}break}}y+=10,y+=b}while(y<f.byteLength);return null},cl={isLikelyAacData:Zo,parseId3TagSize:sh,parseAdtsSize:Lm,parseType:tc,parseSampleRate:ul,parseAacTimestamp:rc},Ki=r,dl=cl,As;As=function(){var f=new Uint8Array,y=0;As.prototype.init.call(this),this.setTimestamp=function(b){y=b},this.push=function(b){var _=0,w=0,I,q,G,Y;for(f.length?(Y=f.length,f=new Uint8Array(b.byteLength+Y),f.set(f.subarray(0,Y)),f.set(b,Y)):f=b;f.length-w>=3;){if(f[w]===73&&f[w+1]===68&&f[w+2]===51){if(f.length-w<10||(_=dl.parseId3TagSize(f,w),w+_>f.length))break;q={type:"timed-metadata",data:f.subarray(w,w+_)},this.trigger("data",q),w+=_;continue}else if((f[w]&255)===255&&(f[w+1]&240)===240){if(f.length-w<7||(_=dl.parseAdtsSize(f,w),w+_>f.length))break;G={type:"audio",data:f.subarray(w,w+_),pts:y,dts:y},this.trigger("data",G),w+=_;continue}w++}I=f.length-w,I>0?f=f.subarray(w):f=new Uint8Array},this.reset=function(){f=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){f=new Uint8Array,this.trigger("endedtimeline")}},As.prototype=new Ki;var oh=As,hl=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],fl=hl,ah=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ln=ah,Ci=r,Is=Ee,Ei=gr,pl=no,un=_e,Fn=Zu,Xi=ht,ea=Jo,lh=al.H264Stream,Mm=oh,Nm=cl.isLikelyAacData,Bm=ht.ONE_SECOND_IN_TS,ml=fl,uh=ln,gl,ta,vl,Ps,ch=function(f,y){y.stream=f,this.trigger("log",y)},dh=function(f,y){for(var b=Object.keys(y),_=0;_<b.length;_++){var w=b[_];w==="headOfPipeline"||!y[w].on||y[w].on("log",ch.bind(f,w))}},hh=function(f,y){var b;if(f.length!==y.length)return!1;for(b=0;b<f.length;b++)if(f[b]!==y[b])return!1;return!0},fh=function(f,y,b,_,w,I){var q=b-y,G=_-y,Y=w-b;return{start:{dts:f,pts:f+q},end:{dts:f+G,pts:f+Y},prependedContentDuration:I,baseMediaDecodeTime:f}};ta=function(f,y){var b=[],_,w=0,I=0,q=1/0;y=y||{},_=y.firstSequenceNumber||0,ta.prototype.init.call(this),this.push=function(G){un.collectDtsInfo(f,G),f&&ml.forEach(function(Y){f[Y]=G[Y]}),b.push(G)},this.setEarliestDts=function(G){w=G},this.setVideoBaseMediaDecodeTime=function(G){q=G},this.setAudioAppendStart=function(G){I=G},this.flush=function(){var G,Y,ne,de,ge,Oe,be;if(b.length===0){this.trigger("done","AudioSegmentStream");return}G=pl.trimAdtsFramesByEarliestDts(b,f,w),f.baseMediaDecodeTime=un.calculateTrackBaseMediaDecodeTime(f,y.keepOriginalTimestamps),be=pl.prefixWithSilence(f,G,I,q),f.samples=pl.generateSampleTable(G),ne=Is.mdat(pl.concatenateFrameData(G)),b=[],Y=Is.moof(_,[f]),de=new Uint8Array(Y.byteLength+ne.byteLength),_++,de.set(Y),de.set(ne,Y.byteLength),un.clearDtsInfo(f),ge=Math.ceil(Bm*1024/f.samplerate),G.length&&(Oe=G.length*ge,this.trigger("segmentTimingInfo",fh(Xi.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),G[0].dts,G[0].pts,G[0].dts+Oe,G[0].pts+Oe,be||0)),this.trigger("timingInfo",{start:G[0].pts,end:G[0].pts+Oe})),this.trigger("data",{track:f,boxes:de}),this.trigger("done","AudioSegmentStream")},this.reset=function(){un.clearDtsInfo(f),b=[],this.trigger("reset")}},ta.prototype=new Ci,gl=function(f,y){var b,_=[],w=[],I,q;y=y||{},b=y.firstSequenceNumber||0,gl.prototype.init.call(this),delete f.minPTS,this.gopCache_=[],this.push=function(G){un.collectDtsInfo(f,G),G.nalUnitType==="seq_parameter_set_rbsp"&&!I&&(I=G.config,f.sps=[G.data],uh.forEach(function(Y){f[Y]=I[Y]},this)),G.nalUnitType==="pic_parameter_set_rbsp"&&!q&&(q=G.data,f.pps=[G.data]),_.push(G)},this.flush=function(){for(var G,Y,ne,de,ge,Oe,be=0,We,it;_.length&&_[0].nalUnitType!=="access_unit_delimiter_rbsp";)_.shift();if(_.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(G=Ei.groupNalsIntoFrames(_),ne=Ei.groupFramesIntoGops(G),ne[0][0].keyFrame||(Y=this.getGopForFusion_(_[0],f),Y?(be=Y.duration,ne.unshift(Y),ne.byteLength+=Y.byteLength,ne.nalCount+=Y.nalCount,ne.pts=Y.pts,ne.dts=Y.dts,ne.duration+=Y.duration):ne=Ei.extendFirstKeyFrame(ne)),w.length){var sr;if(y.alignGopsAtEnd?sr=this.alignGopsAtEnd_(ne):sr=this.alignGopsAtStart_(ne),!sr){this.gopCache_.unshift({gop:ne.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}un.clearDtsInfo(f),ne=sr}un.collectDtsInfo(f,ne),f.samples=Ei.generateSampleTable(ne),ge=Is.mdat(Ei.concatenateNalData(ne)),f.baseMediaDecodeTime=un.calculateTrackBaseMediaDecodeTime(f,y.keepOriginalTimestamps),this.trigger("processedGopsInfo",ne.map(function(cr){return{pts:cr.pts,dts:cr.dts,byteLength:cr.byteLength}})),We=ne[0],it=ne[ne.length-1],this.trigger("segmentTimingInfo",fh(f.baseMediaDecodeTime,We.dts,We.pts,it.dts+it.duration,it.pts+it.duration,be)),this.trigger("timingInfo",{start:ne[0].pts,end:ne[ne.length-1].pts+ne[ne.length-1].duration}),this.gopCache_.unshift({gop:ne.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.trigger("baseMediaDecodeTime",f.baseMediaDecodeTime),this.trigger("timelineStartInfo",f.timelineStartInfo),de=Is.moof(b,[f]),Oe=new Uint8Array(de.byteLength+ge.byteLength),b++,Oe.set(de),Oe.set(ge,de.byteLength),this.trigger("data",{track:f,boxes:Oe}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),_=[],this.gopCache_.length=0,w.length=0,this.trigger("reset")},this.resetStream_=function(){un.clearDtsInfo(f),I=void 0,q=void 0},this.getGopForFusion_=function(G){var Y=45e3,ne=1/0,de,ge,Oe,be,We;for(We=0;We<this.gopCache_.length;We++)be=this.gopCache_[We],Oe=be.gop,!(!(f.pps&&hh(f.pps[0],be.pps[0]))||!(f.sps&&hh(f.sps[0],be.sps[0])))&&(Oe.dts<f.timelineStartInfo.dts||(de=G.dts-Oe.dts-Oe.duration,de>=-1e4&&de<=Y&&(!ge||ne>de)&&(ge=be,ne=de)));return ge?ge.gop:null},this.alignGopsAtStart_=function(G){var Y,ne,de,ge,Oe,be,We,it;for(Oe=G.byteLength,be=G.nalCount,We=G.duration,Y=ne=0;Y<w.length&&ne<G.length&&(de=w[Y],ge=G[ne],de.pts!==ge.pts);){if(ge.pts>de.pts){Y++;continue}ne++,Oe-=ge.byteLength,be-=ge.nalCount,We-=ge.duration}return ne===0?G:ne===G.length?null:(it=G.slice(ne),it.byteLength=Oe,it.duration=We,it.nalCount=be,it.pts=it[0].pts,it.dts=it[0].dts,it)},this.alignGopsAtEnd_=function(G){var Y,ne,de,ge,Oe,be;for(Y=w.length-1,ne=G.length-1,Oe=null,be=!1;Y>=0&&ne>=0;){if(de=w[Y],ge=G[ne],de.pts===ge.pts){be=!0;break}if(de.pts>ge.pts){Y--;continue}Y===w.length-1&&(Oe=ne),ne--}if(!be&&Oe===null)return null;var We;if(be?We=ne:We=Oe,We===0)return G;var it=G.slice(We),sr=it.reduce(function(cr,zn){return cr.byteLength+=zn.byteLength,cr.duration+=zn.duration,cr.nalCount+=zn.nalCount,cr},{byteLength:0,duration:0,nalCount:0});return it.byteLength=sr.byteLength,it.duration=sr.duration,it.nalCount=sr.nalCount,it.pts=it[0].pts,it.dts=it[0].dts,it},this.alignGopsWith=function(G){w=G}},gl.prototype=new Ci,Ps=function(f,y){this.numberOfTracks=0,this.metadataStream=y,f=f||{},typeof f.remux<"u"?this.remuxTracks=!!f.remux:this.remuxTracks=!0,typeof f.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=f.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ps.prototype.init.call(this),this.push=function(b){if(b.content||b.text)return this.pendingCaptions.push(b);if(b.frames)return this.pendingMetadata.push(b);this.pendingTracks.push(b.track),this.pendingBytes+=b.boxes.byteLength,b.track.type==="video"&&(this.videoTrack=b.track,this.pendingBoxes.push(b.boxes)),b.track.type==="audio"&&(this.audioTrack=b.track,this.pendingBoxes.unshift(b.boxes))}},Ps.prototype=new Ci,Ps.prototype.flush=function(f){var y=0,b={captions:[],captionStreams:{},metadata:[],info:{}},_,w,I,q=0,G;if(this.pendingTracks.length<this.numberOfTracks){if(f!=="VideoSegmentStream"&&f!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(q=this.videoTrack.timelineStartInfo.pts,uh.forEach(function(Y){b.info[Y]=this.videoTrack[Y]},this)):this.audioTrack&&(q=this.audioTrack.timelineStartInfo.pts,ml.forEach(function(Y){b.info[Y]=this.audioTrack[Y]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?b.type=this.pendingTracks[0].type:b.type="combined",this.emittedTracks+=this.pendingTracks.length,I=Is.initSegment(this.pendingTracks),b.initSegment=new Uint8Array(I.byteLength),b.initSegment.set(I),b.data=new Uint8Array(this.pendingBytes),G=0;G<this.pendingBoxes.length;G++)b.data.set(this.pendingBoxes[G],y),y+=this.pendingBoxes[G].byteLength;for(G=0;G<this.pendingCaptions.length;G++)_=this.pendingCaptions[G],_.startTime=Xi.metadataTsToSeconds(_.startPts,q,this.keepOriginalTimestamps),_.endTime=Xi.metadataTsToSeconds(_.endPts,q,this.keepOriginalTimestamps),b.captionStreams[_.stream]=!0,b.captions.push(_);for(G=0;G<this.pendingMetadata.length;G++)w=this.pendingMetadata[G],w.cueTime=Xi.metadataTsToSeconds(w.pts,q,this.keepOriginalTimestamps),b.metadata.push(w);for(b.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",b),G=0;G<b.captions.length;G++)_=b.captions[G],this.trigger("caption",_);for(G=0;G<b.metadata.length;G++)w=b.metadata[G],this.trigger("id3Frame",w)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ps.prototype.setRemux=function(f){this.remuxTracks=f},vl=function(f){var y=this,b=!0,_,w;vl.prototype.init.call(this),f=f||{},this.baseMediaDecodeTime=f.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var I={};this.transmuxPipeline_=I,I.type="aac",I.metadataStream=new Fn.MetadataStream,I.aacStream=new Mm,I.audioTimestampRolloverStream=new Fn.TimestampRolloverStream("audio"),I.timedMetadataTimestampRolloverStream=new Fn.TimestampRolloverStream("timed-metadata"),I.adtsStream=new ea,I.coalesceStream=new Ps(f,I.metadataStream),I.headOfPipeline=I.aacStream,I.aacStream.pipe(I.audioTimestampRolloverStream).pipe(I.adtsStream),I.aacStream.pipe(I.timedMetadataTimestampRolloverStream).pipe(I.metadataStream).pipe(I.coalesceStream),I.metadataStream.on("timestamp",function(q){I.aacStream.setTimestamp(q.timeStamp)}),I.aacStream.on("data",function(q){q.type!=="timed-metadata"&&q.type!=="audio"||I.audioSegmentStream||(w=w||{timelineStartInfo:{baseMediaDecodeTime:y.baseMediaDecodeTime},codec:"adts",type:"audio"},I.coalesceStream.numberOfTracks++,I.audioSegmentStream=new ta(w,f),I.audioSegmentStream.on("log",y.getLogTrigger_("audioSegmentStream")),I.audioSegmentStream.on("timingInfo",y.trigger.bind(y,"audioTimingInfo")),I.adtsStream.pipe(I.audioSegmentStream).pipe(I.coalesceStream),y.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!_}))}),I.coalesceStream.on("data",this.trigger.bind(this,"data")),I.coalesceStream.on("done",this.trigger.bind(this,"done")),dh(this,I)},this.setupTsPipeline=function(){var I={};this.transmuxPipeline_=I,I.type="ts",I.metadataStream=new Fn.MetadataStream,I.packetStream=new Fn.TransportPacketStream,I.parseStream=new Fn.TransportParseStream,I.elementaryStream=new Fn.ElementaryStream,I.timestampRolloverStream=new Fn.TimestampRolloverStream,I.adtsStream=new ea,I.h264Stream=new lh,I.captionStream=new Fn.CaptionStream(f),I.coalesceStream=new Ps(f,I.metadataStream),I.headOfPipeline=I.packetStream,I.packetStream.pipe(I.parseStream).pipe(I.elementaryStream).pipe(I.timestampRolloverStream),I.timestampRolloverStream.pipe(I.h264Stream),I.timestampRolloverStream.pipe(I.adtsStream),I.timestampRolloverStream.pipe(I.metadataStream).pipe(I.coalesceStream),I.h264Stream.pipe(I.captionStream).pipe(I.coalesceStream),I.elementaryStream.on("data",function(q){var G;if(q.type==="metadata"){for(G=q.tracks.length;G--;)!_&&q.tracks[G].type==="video"?(_=q.tracks[G],_.timelineStartInfo.baseMediaDecodeTime=y.baseMediaDecodeTime):!w&&q.tracks[G].type==="audio"&&(w=q.tracks[G],w.timelineStartInfo.baseMediaDecodeTime=y.baseMediaDecodeTime);_&&!I.videoSegmentStream&&(I.coalesceStream.numberOfTracks++,I.videoSegmentStream=new gl(_,f),I.videoSegmentStream.on("log",y.getLogTrigger_("videoSegmentStream")),I.videoSegmentStream.on("timelineStartInfo",function(Y){w&&!f.keepOriginalTimestamps&&(w.timelineStartInfo=Y,I.audioSegmentStream.setEarliestDts(Y.dts-y.baseMediaDecodeTime))}),I.videoSegmentStream.on("processedGopsInfo",y.trigger.bind(y,"gopInfo")),I.videoSegmentStream.on("segmentTimingInfo",y.trigger.bind(y,"videoSegmentTimingInfo")),I.videoSegmentStream.on("baseMediaDecodeTime",function(Y){w&&I.audioSegmentStream.setVideoBaseMediaDecodeTime(Y)}),I.videoSegmentStream.on("timingInfo",y.trigger.bind(y,"videoTimingInfo")),I.h264Stream.pipe(I.videoSegmentStream).pipe(I.coalesceStream)),w&&!I.audioSegmentStream&&(I.coalesceStream.numberOfTracks++,I.audioSegmentStream=new ta(w,f),I.audioSegmentStream.on("log",y.getLogTrigger_("audioSegmentStream")),I.audioSegmentStream.on("timingInfo",y.trigger.bind(y,"audioTimingInfo")),I.audioSegmentStream.on("segmentTimingInfo",y.trigger.bind(y,"audioSegmentTimingInfo")),I.adtsStream.pipe(I.audioSegmentStream).pipe(I.coalesceStream)),y.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!_})}}),I.coalesceStream.on("data",this.trigger.bind(this,"data")),I.coalesceStream.on("id3Frame",function(q){q.dispatchType=I.metadataStream.dispatchType,y.trigger("id3Frame",q)}),I.coalesceStream.on("caption",this.trigger.bind(this,"caption")),I.coalesceStream.on("done",this.trigger.bind(this,"done")),dh(this,I)},this.setBaseMediaDecodeTime=function(I){var q=this.transmuxPipeline_;f.keepOriginalTimestamps||(this.baseMediaDecodeTime=I),w&&(w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,un.clearDtsInfo(w),q.audioTimestampRolloverStream&&q.audioTimestampRolloverStream.discontinuity()),_&&(q.videoSegmentStream&&(q.videoSegmentStream.gopCache_=[]),_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,un.clearDtsInfo(_),q.captionStream.reset()),q.timestampRolloverStream&&q.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(I){w&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(I)},this.setRemux=function(I){var q=this.transmuxPipeline_;f.remux=I,q&&q.coalesceStream&&q.coalesceStream.setRemux(I)},this.alignGopsWith=function(I){_&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(I)},this.getLogTrigger_=function(I){var q=this;return function(G){G.stream=I,q.trigger("log",G)}},this.push=function(I){if(b){var q=Nm(I);q&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!q&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),b=!1}this.transmuxPipeline_.headOfPipeline.push(I)},this.flush=function(){b=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},vl.prototype=new Ci;var Fm={Transmuxer:vl},nc=function(f){return f>>>0},$m=function(f){return("00"+f.toString(16)).slice(-2)},yl={toUnsigned:nc,toHexString:$m},jm=function(f){var y="";return y+=String.fromCharCode(f[0]),y+=String.fromCharCode(f[1]),y+=String.fromCharCode(f[2]),y+=String.fromCharCode(f[3]),y},ic=jm,Um=yl.toUnsigned,zm=ic,ph=function(f,y){var b=[],_,w,I,q,G;if(!y.length)return null;for(_=0;_<f.byteLength;)w=Um(f[_]<<24|f[_+1]<<16|f[_+2]<<8|f[_+3]),I=zm(f.subarray(_+4,_+8)),q=w>1?_+w:f.byteLength,I===y[0]&&(y.length===1?b.push(f.subarray(_+8,q)):(G=ph(f.subarray(_+8,q),y.slice(1)),G.length&&(b=b.concat(G)))),_=q;return b},mh=ph,Hm=yl.toUnsigned,Vm=s.getUint64,qm=function(f){var y={version:f[0],flags:new Uint8Array(f.subarray(1,4))};return y.version===1?y.baseMediaDecodeTime=Vm(f.subarray(4)):y.baseMediaDecodeTime=Hm(f[4]<<24|f[5]<<16|f[6]<<8|f[7]),y},_l=qm,ra=function(f){return{isLeading:(f[0]&12)>>>2,dependsOn:f[0]&3,isDependedOn:(f[1]&192)>>>6,hasRedundancy:(f[1]&48)>>>4,paddingValue:(f[1]&14)>>>1,isNonSyncSample:f[1]&1,degradationPriority:f[2]<<8|f[3]}},Wm=ra,sc=Wm,gh=function(f){var y={version:f[0],flags:new Uint8Array(f.subarray(1,4)),samples:[]},b=new DataView(f.buffer,f.byteOffset,f.byteLength),_=y.flags[2]&1,w=y.flags[2]&4,I=y.flags[1]&1,q=y.flags[1]&2,G=y.flags[1]&4,Y=y.flags[1]&8,ne=b.getUint32(4),de=8,ge;for(_&&(y.dataOffset=b.getInt32(de),de+=4),w&&ne&&(ge={flags:sc(f.subarray(de,de+4))},de+=4,I&&(ge.duration=b.getUint32(de),de+=4),q&&(ge.size=b.getUint32(de),de+=4),Y&&(y.version===1?ge.compositionTimeOffset=b.getInt32(de):ge.compositionTimeOffset=b.getUint32(de),de+=4),y.samples.push(ge),ne--);ne--;)ge={},I&&(ge.duration=b.getUint32(de),de+=4),q&&(ge.size=b.getUint32(de),de+=4),G&&(ge.flags=sc(f.subarray(de,de+4)),de+=4),Y&&(y.version===1?ge.compositionTimeOffset=b.getInt32(de):ge.compositionTimeOffset=b.getUint32(de),de+=4),y.samples.push(ge);return y},oc=gh,vh=function(f){var y=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:f[0],flags:new Uint8Array(f.subarray(1,4)),trackId:y.getUint32(4)},_=b.flags[2]&1,w=b.flags[2]&2,I=b.flags[2]&8,q=b.flags[2]&16,G=b.flags[2]&32,Y=b.flags[0]&65536,ne=b.flags[0]&131072,de;return de=8,_&&(de+=4,b.baseDataOffset=y.getUint32(12),de+=4),w&&(b.sampleDescriptionIndex=y.getUint32(de),de+=4),I&&(b.defaultSampleDuration=y.getUint32(de),de+=4),q&&(b.defaultSampleSize=y.getUint32(de),de+=4),G&&(b.defaultSampleFlags=y.getUint32(de)),Y&&(b.durationIsEmpty=!0),!_&&ne&&(b.baseDataOffsetIsMoof=!0),b},ac=vh,si;typeof window<"u"?si=window:typeof t<"u"?si=t:typeof self<"u"?si=self:si={};var yh=si,Gm=Cr.discardEmulationPreventionBytes,Km=Yu.CaptionStream,co=mh,_h=_l,na=oc,ia=ac,xh=yh,xl=function(f,y){for(var b=f,_=0;_<y.length;_++){var w=y[_];if(b<w.size)return w;b-=w.size}return null},Xm=function(f,y,b){var _=new DataView(f.buffer,f.byteOffset,f.byteLength),w={logs:[],seiNals:[]},I,q,G,Y;for(q=0;q+4<f.length;q+=G)if(G=_.getUint32(q),q+=4,!(G<=0))switch(f[q]&31){case 6:var ne=f.subarray(q+1,q+1+G),de=xl(q,y);if(I={nalUnitType:"sei_rbsp",size:G,data:ne,escapedRBSP:Gm(ne),trackId:b},de)I.pts=de.pts,I.dts=de.dts,Y=de;else if(Y)I.pts=Y.pts,I.dts=Y.dts;else{w.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+q+" for trackId "+b+". See mux.js#223."});break}w.seiNals.push(I);break}return w},bh=function(f,y,b){var _=y,w=b.defaultSampleDuration||0,I=b.defaultSampleSize||0,q=b.trackId,G=[];return f.forEach(function(Y){var ne=na(Y),de=ne.samples;de.forEach(function(ge){ge.duration===void 0&&(ge.duration=w),ge.size===void 0&&(ge.size=I),ge.trackId=q,ge.dts=_,ge.compositionTimeOffset===void 0&&(ge.compositionTimeOffset=0),typeof _=="bigint"?(ge.pts=_+xh.BigInt(ge.compositionTimeOffset),_+=xh.BigInt(ge.duration)):(ge.pts=_+ge.compositionTimeOffset,_+=ge.duration)}),G=G.concat(de)}),G},lc=function(f,y){var b=co(f,["moof","traf"]),_=co(f,["mdat"]),w={},I=[];return _.forEach(function(q,G){var Y=b[G];I.push({mdat:q,traf:Y})}),I.forEach(function(q){var G=q.mdat,Y=q.traf,ne=co(Y,["tfhd"]),de=ia(ne[0]),ge=de.trackId,Oe=co(Y,["tfdt"]),be=Oe.length>0?_h(Oe[0]).baseMediaDecodeTime:0,We=co(Y,["trun"]),it,sr;y===ge&&We.length>0&&(it=bh(We,be,de),sr=Xm(G,it,ge),w[ge]||(w[ge]={seiNals:[],logs:[]}),w[ge].seiNals=w[ge].seiNals.concat(sr.seiNals),w[ge].logs=w[ge].logs.concat(sr.logs))}),w},uc=function(f,y,b){var _;if(y===null)return null;_=lc(f,y);var w=_[y]||{};return{seiNals:w.seiNals,logs:w.logs,timescale:b}},Sh=function(){var f=!1,y,b,_,w,I,q;this.isInitialized=function(){return f},this.init=function(G){y=new Km,f=!0,q=G?G.isPartial:!1,y.on("data",function(Y){Y.startTime=Y.startPts/w,Y.endTime=Y.endPts/w,I.captions.push(Y),I.captionStreams[Y.stream]=!0}),y.on("log",function(Y){I.logs.push(Y)})},this.isNewInit=function(G,Y){return G&&G.length===0||Y&&typeof Y=="object"&&Object.keys(Y).length===0?!1:_!==G[0]||w!==Y[_]},this.parse=function(G,Y,ne){var de;if(this.isInitialized()){if(!Y||!ne)return null;if(this.isNewInit(Y,ne))_=Y[0],w=ne[_];else if(_===null||!w)return b.push(G),null}else return null;for(;b.length>0;){var ge=b.shift();this.parse(ge,Y,ne)}return de=uc(G,_,w),de&&de.logs&&(I.logs=I.logs.concat(de.logs)),de===null||!de.seiNals?I.logs.length?{logs:I.logs,captions:[],captionStreams:[]}:null:(this.pushNals(de.seiNals),this.flushStream(),I)},this.pushNals=function(G){if(!this.isInitialized()||!G||G.length===0)return null;G.forEach(function(Y){y.push(Y)})},this.flushStream=function(){if(!this.isInitialized())return null;q?y.partialFlush():y.flush()},this.clearParsedCaptions=function(){I.captions=[],I.captionStreams={},I.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;y.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){b=[],_=null,w=null,I?this.clearParsedCaptions():I={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Th=Sh,Ch=function(f){for(var y=0,b=String.fromCharCode(f[y]),_="";b!=="\0";)_+=b,y++,b=String.fromCharCode(f[y]);return _+=b,_},Ym={uint8ToCString:Ch},bl=Ym.uint8ToCString,Qm=s.getUint64,Jm=function(f){var y=4,b=f[0],_,w,I,q,G,Y,ne,de;if(b===0){_=bl(f.subarray(y)),y+=_.length,w=bl(f.subarray(y)),y+=w.length;var ge=new DataView(f.buffer);I=ge.getUint32(y),y+=4,G=ge.getUint32(y),y+=4,Y=ge.getUint32(y),y+=4,ne=ge.getUint32(y),y+=4}else if(b===1){var ge=new DataView(f.buffer);I=ge.getUint32(y),y+=4,q=Qm(f.subarray(y)),y+=8,Y=ge.getUint32(y),y+=4,ne=ge.getUint32(y),y+=4,_=bl(f.subarray(y)),y+=_.length,w=bl(f.subarray(y)),y+=w.length}de=new Uint8Array(f.subarray(y,f.byteLength));var Oe={scheme_id_uri:_,value:w,timescale:I||1,presentation_time:q,presentation_time_delta:G,event_duration:Y,id:ne,message_data:de};return $n(b,Oe)?Oe:void 0},Zm=function(f,y,b,_){return f||f===0?f/y:_+b/y},$n=function(f,y){var b=y.scheme_id_uri!=="\0",_=f===0&&ho(y.presentation_time_delta)&&b,w=f===1&&ho(y.presentation_time)&&b;return!(f>1)&&_||w},ho=function(f){return f!==void 0||f!==null},Eh={parseEmsgBox:Jm,scaleTime:Zm},sa=yl.toUnsigned,fo=yl.toHexString,Ft=mh,Yi=ic,cc=Eh,eg=ac,po=oc,dc=_l,oa=s.getUint64,Sl,hc,aa,Rs,Tl,Cl,la,El=yh,wh=so.parseId3Frames;Sl=function(f){var y={},b=Ft(f,["moov","trak"]);return b.reduce(function(_,w){var I,q,G,Y,ne;return I=Ft(w,["tkhd"])[0],!I||(q=I[0],G=q===0?12:20,Y=sa(I[G]<<24|I[G+1]<<16|I[G+2]<<8|I[G+3]),ne=Ft(w,["mdia","mdhd"])[0],!ne)?null:(q=ne[0],G=q===0?12:20,_[Y]=sa(ne[G]<<24|ne[G+1]<<16|ne[G+2]<<8|ne[G+3]),_)},y)},hc=function(f,y){var b;b=Ft(y,["moof","traf"]);var _=b.reduce(function(w,I){var q=Ft(I,["tfhd"])[0],G=sa(q[4]<<24|q[5]<<16|q[6]<<8|q[7]),Y=f[G]||9e4,ne=Ft(I,["tfdt"])[0],de=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ge;ne[0]===1?ge=oa(ne.subarray(4,12)):ge=de.getUint32(4);let Oe;return typeof ge=="bigint"?Oe=ge/El.BigInt(Y):typeof ge=="number"&&!isNaN(ge)&&(Oe=ge/Y),Oe<Number.MAX_SAFE_INTEGER&&(Oe=Number(Oe)),Oe<w&&(w=Oe),w},1/0);return typeof _=="bigint"||isFinite(_)?_:0},aa=function(f,y){var b=Ft(y,["moof","traf"]),_=0,w=0,I;if(b&&b.length){var q=Ft(b[0],["tfhd"])[0],G=Ft(b[0],["trun"])[0],Y=Ft(b[0],["tfdt"])[0];if(q){var ne=eg(q);I=ne.trackId}if(Y){var de=dc(Y);_=de.baseMediaDecodeTime}if(G){var ge=po(G);ge.samples&&ge.samples.length&&(w=ge.samples[0].compositionTimeOffset||0)}}var Oe=f[I]||9e4;typeof _=="bigint"&&(w=El.BigInt(w),Oe=El.BigInt(Oe));var be=(_+w)/Oe;return typeof be=="bigint"&&be<Number.MAX_SAFE_INTEGER&&(be=Number(be)),be},Rs=function(f){var y=Ft(f,["moov","trak"]),b=[];return y.forEach(function(_){var w=Ft(_,["mdia","hdlr"]),I=Ft(_,["tkhd"]);w.forEach(function(q,G){var Y=Yi(q.subarray(8,12)),ne=I[G],de,ge,Oe;Y==="vide"&&(de=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ge=de.getUint8(0),Oe=ge===0?de.getUint32(12):de.getUint32(20),b.push(Oe))})}),b},Cl=function(f){var y=f[0],b=y===0?12:20;return sa(f[b]<<24|f[b+1]<<16|f[b+2]<<8|f[b+3])},Tl=function(f){var y=Ft(f,["moov","trak"]),b=[];return y.forEach(function(_){var w={},I=Ft(_,["tkhd"])[0],q,G;I&&(q=new DataView(I.buffer,I.byteOffset,I.byteLength),G=q.getUint8(0),w.id=G===0?q.getUint32(12):q.getUint32(20));var Y=Ft(_,["mdia","hdlr"])[0];if(Y){var ne=Yi(Y.subarray(8,12));ne==="vide"?w.type="video":ne==="soun"?w.type="audio":w.type=ne}var de=Ft(_,["mdia","minf","stbl","stsd"])[0];if(de){var ge=de.subarray(8);w.codec=Yi(ge.subarray(4,8));var Oe=Ft(ge,[w.codec])[0],be,We;Oe&&(/^[asm]vc[1-9]$/i.test(w.codec)?(be=Oe.subarray(78),We=Yi(be.subarray(4,8)),We==="avcC"&&be.length>11?(w.codec+=".",w.codec+=fo(be[9]),w.codec+=fo(be[10]),w.codec+=fo(be[11])):w.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(w.codec)?(be=Oe.subarray(28),We=Yi(be.subarray(4,8)),We==="esds"&&be.length>20&&be[19]!==0?(w.codec+="."+fo(be[19]),w.codec+="."+fo(be[20]>>>2&63).replace(/^0/,"")):w.codec="mp4a.40.2"):w.codec=w.codec.toLowerCase())}var it=Ft(_,["mdia","mdhd"])[0];it&&(w.timescale=Cl(it)),b.push(w)}),b},la=function(f,y=0){var b=Ft(f,["emsg"]);return b.map(_=>{var w=cc.parseEmsgBox(new Uint8Array(_)),I=wh(w.message_data);return{cueTime:cc.scaleTime(w.presentation_time,w.timescale,w.presentation_time_delta,y),duration:cc.scaleTime(w.event_duration,w.timescale),frames:I}})};var wl={findBox:Ft,parseType:Yi,timescale:Sl,startTime:hc,compositionStartTime:aa,videoTrackIds:Rs,tracks:Tl,getTimescaleFromMediaHeader:Cl,getEmsgID3:la},kl=Ya,fc=function(f){var y=f[1]&31;return y<<=8,y|=f[2],y},ua=function(f){return!!(f[1]&64)},jn=function(f){var y=0;return(f[3]&48)>>>4>1&&(y+=f[4]+1),y},pc=function(f,y){var b=fc(f);return b===0?"pat":b===y?"pmt":y?"pes":null},mc=function(f){var y=ua(f),b=4+jn(f);return y&&(b+=f[b]+1),(f[b+10]&31)<<8|f[b+11]},tg=function(f){var y={},b=ua(f),_=4+jn(f);if(b&&(_+=f[_]+1),!!(f[_+5]&1)){var w,I,q;w=(f[_+1]&15)<<8|f[_+2],I=3+w-4,q=(f[_+10]&15)<<8|f[_+11];for(var G=12+q;G<I;){var Y=_+G;y[(f[Y+1]&31)<<8|f[Y+2]]=f[Y],G+=((f[Y+3]&15)<<8|f[Y+4])+5}return y}},rg=function(f,y){var b=fc(f),_=y[b];switch(_){case kl.H264_STREAM_TYPE:return"video";case kl.ADTS_STREAM_TYPE:return"audio";case kl.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},ca=function(f){var y=ua(f);if(!y)return null;var b=4+jn(f);if(b>=f.byteLength)return null;var _=null,w;return w=f[b+7],w&192&&(_={},_.pts=(f[b+9]&14)<<27|(f[b+10]&255)<<20|(f[b+11]&254)<<12|(f[b+12]&255)<<5|(f[b+13]&254)>>>3,_.pts*=4,_.pts+=(f[b+13]&6)>>>1,_.dts=_.pts,w&64&&(_.dts=(f[b+14]&14)<<27|(f[b+15]&255)<<20|(f[b+16]&254)<<12|(f[b+17]&255)<<5|(f[b+18]&254)>>>3,_.dts*=4,_.dts+=(f[b+18]&6)>>>1)),_},gc=function(f){switch(f){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},kh=function(f){for(var y=4+jn(f),b=f.subarray(y),_=0,w=0,I=!1,q;w<b.byteLength-3;w++)if(b[w+2]===1){_=w+5;break}for(;_<b.byteLength;)switch(b[_]){case 0:if(b[_-1]!==0){_+=2;break}else if(b[_-2]!==0){_++;break}w+3!==_-2&&(q=gc(b[w+3]&31),q==="slice_layer_without_partitioning_rbsp_idr"&&(I=!0));do _++;while(b[_]!==1&&_<b.length);w=_-2,_+=3;break;case 1:if(b[_-1]!==0||b[_-2]!==0){_+=3;break}q=gc(b[w+3]&31),q==="slice_layer_without_partitioning_rbsp_idr"&&(I=!0),w=_-2,_+=3;break;default:_+=3;break}return b=b.subarray(w),_-=w,w=0,b&&b.byteLength>3&&(q=gc(b[w+3]&31),q==="slice_layer_without_partitioning_rbsp_idr"&&(I=!0)),I},Dh={parseType:pc,parsePat:mc,parsePmt:tg,parsePayloadUnitStartIndicator:ua,parsePesType:rg,parsePesTime:ca,videoPacketContainsKeyFrame:kh},At=Ya,Qi=Zd.handleRollover,dt={};dt.ts=Dh,dt.aac=cl;var Un=ht.ONE_SECOND_IN_TS,wr=188,yn=71,da=function(f,y){for(var b=0,_=wr,w,I;_<f.byteLength;){if(f[b]===yn&&f[_]===yn){switch(w=f.subarray(b,_),I=dt.ts.parseType(w,y.pid),I){case"pat":y.pid=dt.ts.parsePat(w);break;case"pmt":var q=dt.ts.parsePmt(w);y.table=y.table||{},Object.keys(q).forEach(function(G){y.table[G]=q[G]});break}b+=wr,_+=wr;continue}b++,_++}},ha=function(f,y,b){for(var _=0,w=wr,I,q,G,Y,ne,de=!1;w<=f.byteLength;){if(f[_]===yn&&(f[w]===yn||w===f.byteLength)){switch(I=f.subarray(_,w),q=dt.ts.parseType(I,y.pid),q){case"pes":G=dt.ts.parsePesType(I,y.table),Y=dt.ts.parsePayloadUnitStartIndicator(I),G==="audio"&&Y&&(ne=dt.ts.parsePesTime(I),ne&&(ne.type="audio",b.audio.push(ne),de=!0));break}if(de)break;_+=wr,w+=wr;continue}_++,w++}for(w=f.byteLength,_=w-wr,de=!1;_>=0;){if(f[_]===yn&&(f[w]===yn||w===f.byteLength)){switch(I=f.subarray(_,w),q=dt.ts.parseType(I,y.pid),q){case"pes":G=dt.ts.parsePesType(I,y.table),Y=dt.ts.parsePayloadUnitStartIndicator(I),G==="audio"&&Y&&(ne=dt.ts.parsePesTime(I),ne&&(ne.type="audio",b.audio.push(ne),de=!0));break}if(de)break;_-=wr,w-=wr;continue}_--,w--}},mo=function(f,y,b){for(var _=0,w=wr,I,q,G,Y,ne,de,ge,Oe,be=!1,We={data:[],size:0};w<f.byteLength;){if(f[_]===yn&&f[w]===yn){switch(I=f.subarray(_,w),q=dt.ts.parseType(I,y.pid),q){case"pes":if(G=dt.ts.parsePesType(I,y.table),Y=dt.ts.parsePayloadUnitStartIndicator(I),G==="video"&&(Y&&!be&&(ne=dt.ts.parsePesTime(I),ne&&(ne.type="video",b.video.push(ne),be=!0)),!b.firstKeyFrame)){if(Y&&We.size!==0){for(de=new Uint8Array(We.size),ge=0;We.data.length;)Oe=We.data.shift(),de.set(Oe,ge),ge+=Oe.byteLength;if(dt.ts.videoPacketContainsKeyFrame(de)){var it=dt.ts.parsePesTime(de);it?(b.firstKeyFrame=it,b.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}We.size=0}We.data.push(I),We.size+=I.byteLength}break}if(be&&b.firstKeyFrame)break;_+=wr,w+=wr;continue}_++,w++}for(w=f.byteLength,_=w-wr,be=!1;_>=0;){if(f[_]===yn&&f[w]===yn){switch(I=f.subarray(_,w),q=dt.ts.parseType(I,y.pid),q){case"pes":G=dt.ts.parsePesType(I,y.table),Y=dt.ts.parsePayloadUnitStartIndicator(I),G==="video"&&Y&&(ne=dt.ts.parsePesTime(I),ne&&(ne.type="video",b.video.push(ne),be=!0));break}if(be)break;_-=wr,w-=wr;continue}_--,w--}},Ah=function(f,y){if(f.audio&&f.audio.length){var b=y;(typeof b>"u"||isNaN(b))&&(b=f.audio[0].dts),f.audio.forEach(function(I){I.dts=Qi(I.dts,b),I.pts=Qi(I.pts,b),I.dtsTime=I.dts/Un,I.ptsTime=I.pts/Un})}if(f.video&&f.video.length){var _=y;if((typeof _>"u"||isNaN(_))&&(_=f.video[0].dts),f.video.forEach(function(I){I.dts=Qi(I.dts,_),I.pts=Qi(I.pts,_),I.dtsTime=I.dts/Un,I.ptsTime=I.pts/Un}),f.firstKeyFrame){var w=f.firstKeyFrame;w.dts=Qi(w.dts,_),w.pts=Qi(w.pts,_),w.dtsTime=w.dts/Un,w.ptsTime=w.pts/Un}}},ng=function(f){for(var y=!1,b=0,_=null,w=null,I=0,q=0,G;f.length-q>=3;){var Y=dt.aac.parseType(f,q);switch(Y){case"timed-metadata":if(f.length-q<10){y=!0;break}if(I=dt.aac.parseId3TagSize(f,q),I>f.length){y=!0;break}w===null&&(G=f.subarray(q,q+I),w=dt.aac.parseAacTimestamp(G)),q+=I;break;case"audio":if(f.length-q<7){y=!0;break}if(I=dt.aac.parseAdtsSize(f,q),I>f.length){y=!0;break}_===null&&(G=f.subarray(q,q+I),_=dt.aac.parseSampleRate(G)),b++,q+=I;break;default:q++;break}if(y)return null}if(_===null||w===null)return null;var ne=Un/_,de={audio:[{type:"audio",dts:w,pts:w},{type:"audio",dts:w+b*1024*ne,pts:w+b*1024*ne}]};return de},ig=function(f){var y={pid:null,table:null},b={};da(f,y);for(var _ in y.table)if(y.table.hasOwnProperty(_)){var w=y.table[_];switch(w){case At.H264_STREAM_TYPE:b.video=[],mo(f,y,b),b.video.length===0&&delete b.video;break;case At.ADTS_STREAM_TYPE:b.audio=[],ha(f,y,b),b.audio.length===0&&delete b.audio;break}}return b},Ih=function(f,y){var b=dt.aac.isLikelyAacData(f),_;return b?_=ng(f):_=ig(f),!_||!_.audio&&!_.video?null:(Ah(_,y),_)},Dl={inspect:Ih,parseAudioPes_:ha};const Al=function(f,y){y.on("data",function(b){const _=b.initSegment;b.initSegment={data:_.buffer,byteOffset:_.byteOffset,byteLength:_.byteLength};const w=b.data;b.data=w.buffer,f.postMessage({action:"data",segment:b,byteOffset:w.byteOffset,byteLength:w.byteLength},[b.data])}),y.on("done",function(b){f.postMessage({action:"done"})}),y.on("gopInfo",function(b){f.postMessage({action:"gopInfo",gopInfo:b})}),y.on("videoSegmentTimingInfo",function(b){const _={start:{decode:ht.videoTsToSeconds(b.start.dts),presentation:ht.videoTsToSeconds(b.start.pts)},end:{decode:ht.videoTsToSeconds(b.end.dts),presentation:ht.videoTsToSeconds(b.end.pts)},baseMediaDecodeTime:ht.videoTsToSeconds(b.baseMediaDecodeTime)};b.prependedContentDuration&&(_.prependedContentDuration=ht.videoTsToSeconds(b.prependedContentDuration)),f.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:_})}),y.on("audioSegmentTimingInfo",function(b){const _={start:{decode:ht.videoTsToSeconds(b.start.dts),presentation:ht.videoTsToSeconds(b.start.pts)},end:{decode:ht.videoTsToSeconds(b.end.dts),presentation:ht.videoTsToSeconds(b.end.pts)},baseMediaDecodeTime:ht.videoTsToSeconds(b.baseMediaDecodeTime)};b.prependedContentDuration&&(_.prependedContentDuration=ht.videoTsToSeconds(b.prependedContentDuration)),f.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:_})}),y.on("id3Frame",function(b){f.postMessage({action:"id3Frame",id3Frame:b})}),y.on("caption",function(b){f.postMessage({action:"caption",caption:b})}),y.on("trackinfo",function(b){f.postMessage({action:"trackinfo",trackInfo:b})}),y.on("audioTimingInfo",function(b){f.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ht.videoTsToSeconds(b.start),end:ht.videoTsToSeconds(b.end)}})}),y.on("videoTimingInfo",function(b){f.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ht.videoTsToSeconds(b.start),end:ht.videoTsToSeconds(b.end)}})}),y.on("log",function(b){f.postMessage({action:"log",log:b})})};class Il{constructor(y,b){this.options=b||{},this.self=y,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Fm.Transmuxer(this.options),Al(this.self,this.transmuxer)}pushMp4Captions(y){this.captionParser||(this.captionParser=new Th,this.captionParser.init());const b=new Uint8Array(y.data,y.byteOffset,y.byteLength),_=this.captionParser.parse(b,y.trackIds,y.timescales);this.self.postMessage({action:"mp4Captions",captions:_&&_.captions||[],logs:_&&_.logs||[],data:b.buffer},[b.buffer])}probeMp4StartTime({timescales:y,data:b}){const _=wl.startTime(y,b);this.self.postMessage({action:"probeMp4StartTime",startTime:_,data:b},[b.buffer])}probeMp4Tracks({data:y}){const b=wl.tracks(y);this.self.postMessage({action:"probeMp4Tracks",tracks:b,data:y},[y.buffer])}probeEmsgID3({data:y,offset:b}){const _=wl.getEmsgID3(y,b);this.self.postMessage({action:"probeEmsgID3",id3Frames:_,emsgData:y},[y.buffer])}probeTs({data:y,baseStartTime:b}){const _=typeof b=="number"&&!isNaN(b)?b*ht.ONE_SECOND_IN_TS:void 0,w=Dl.inspect(y,_);let I=null;w&&(I={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},I.hasVideo&&(I.videoStart=w.video[0].ptsTime),I.hasAudio&&(I.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:I,data:y},[y.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(y){const b=new Uint8Array(y.data,y.byteOffset,y.byteLength);this.transmuxer.push(b)}reset(){this.transmuxer.reset()}setTimestampOffset(y){const b=y.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ht.secondsToVideoTs(b)))}setAudioAppendStart(y){this.transmuxer.setAudioAppendStart(Math.ceil(ht.secondsToVideoTs(y.appendStart)))}setRemux(y){this.transmuxer.setRemux(y.remux)}flush(y){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(y){this.transmuxer.alignGopsWith(y.gopsToAlignWith.slice())}}self.onmessage=function(f){if(f.data.action==="init"&&f.data.options){this.messageHandlers=new Il(self,f.data.options);return}this.messageHandlers||(this.messageHandlers=new Il(self)),f.data&&f.data.action&&f.data.action!=="init"&&this.messageHandlers[f.data.action]&&this.messageHandlers[f.data.action](f.data)}}));var e9=zk(ZU);const t9=(t,e,r)=>{const{type:n,initSegment:i,captions:s,captionStreams:a,metadata:u,videoFrameDtsTime:c,videoFramePtsTime:h}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:u});const p=t.data.segment.boxes||{data:t.data.segment.data},g={type:n,data:new Uint8Array(p.data,p.data.byteOffset,p.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof c<"u"&&(g.videoFrameDtsTime=c),typeof h<"u"&&(g.videoFramePtsTime=h),r(g)},r9=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},n9=(t,e)=>{e.gopInfo=t.data.gopInfo},qk=t=>{const{transmuxer:e,bytes:r,audioAppendStart:n,gopsToAlignWith:i,remux:s,onData:a,onTrackInfo:u,onAudioTimingInfo:c,onVideoTimingInfo:h,onVideoSegmentTimingInfo:p,onAudioSegmentTimingInfo:g,onId3:T,onCaptions:S,onDone:E,onEndedTimeline:v,onTransmuxerLog:C,isEndOfTimeline:P,segment:R,triggerSegmentEventFn:D}=t,U={buffer:[]};let A=P;const B=W=>{e.currentTransmux===t&&(W.data.action==="data"&&t9(W,U,a),W.data.action==="trackinfo"&&u(W.data.trackInfo),W.data.action==="gopInfo"&&n9(W,U),W.data.action==="audioTimingInfo"&&c(W.data.audioTimingInfo),W.data.action==="videoTimingInfo"&&h(W.data.videoTimingInfo),W.data.action==="videoSegmentTimingInfo"&&p(W.data.videoSegmentTimingInfo),W.data.action==="audioSegmentTimingInfo"&&g(W.data.audioSegmentTimingInfo),W.data.action==="id3Frame"&&T([W.data.id3Frame],W.data.id3Frame.dispatchType),W.data.action==="caption"&&S(W.data.caption),W.data.action==="endedtimeline"&&(A=!1,v()),W.data.action==="log"&&C(W.data.log),W.data.type==="transmuxed"&&(A||(e.onmessage=null,r9({transmuxedData:U,callback:E}),Wk(e))))},$=()=>{const W={message:"Received an error message from the transmuxer worker",metadata:{errorType:fe.Error.StreamingFailedToTransmuxSegment,segmentInfo:Pa({segment:R})}};E(null,W)};if(e.onmessage=B,e.onerror=$,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),r.byteLength){const W=r instanceof ArrayBuffer?r:r.buffer,O=r instanceof ArrayBuffer?0:r.byteOffset;D({type:"segmenttransmuxingstart",segment:R}),e.postMessage({action:"push",data:W,byteOffset:O,byteLength:r.byteLength},[W])}P&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},Wk=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():qk(t.currentTransmux))},r2=(t,e)=>{t.postMessage({action:e}),Wk(t)},Gk=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,r2(e,t);return}e.transmuxQueue.push(r2.bind(null,e,t))},i9=t=>{Gk("reset",t)},s9=t=>{Gk("endTimeline",t)},Kk=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,qk(t);return}t.transmuxer.transmuxQueue.push(t)},o9=t=>{const e=new e9;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e};var vv={reset:i9,endTimeline:s9,transmux:Kk,createTransmuxer:o9};const md=function(t){const e=t.transmuxer,r=t.endAction||t.action,n=t.callback,i=z({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===r&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),n(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;i.byteOffset=a?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const u=[a?t.data:t.data.buffer];e.postMessage(i,u)}else e.postMessage(i)},cs={FAILURE:2,TIMEOUT:-101,ABORTED:-102},hy=t=>{t.forEach(e=>{e.abort()})},a9=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),l9=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},lx=(t,e)=>{const{requestType:r}=e,n=ja({requestType:r,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:cs.TIMEOUT,xhr:e,metadata:n}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:cs.ABORTED,xhr:e,metadata:n}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:cs.FAILURE,xhr:e,metadata:n}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:cs.FAILURE,xhr:e,metadata:n}:null},n2=(t,e,r,n)=>(i,s)=>{const a=s.response,u=lx(i,s);if(u)return r(u,t);if(a.byteLength!==16)return r({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:cs.FAILURE,xhr:s},t);const c=new DataView(a),h=new Uint32Array([c.getUint32(0),c.getUint32(4),c.getUint32(8),c.getUint32(12)]);for(let g=0;g<e.length;g++)e[g].bytes=h;const p={uri:s.uri};return n({type:"segmentkeyloadcomplete",segment:t,keyInfo:p}),r(null,t)},Xk=(t,e)=>{const r=P_(t.map.bytes);if(r!=="mp4"){const n=t.map.resolvedUri||t.map.uri,i=r||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${n}`,code:cs.FAILURE,metadata:{mediaType:i}})}md({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:i})=>(t.map.bytes=i,n.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},u9=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:r})=>(n,i)=>{const s=lx(n,i);if(s)return e(s,t);const a=new Uint8Array(i.response);if(r({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,Xk(t,function(u){if(u)return u.xhr=i,u.status=i.status,e(u,t);e(null,t)})},c9=({segment:t,finishProcessingFn:e,responseType:r,triggerSegmentEventFn:n})=>(i,s)=>{const a=lx(i,s);if(a)return e(a,t);n({type:"segmentloaded",segment:t});const u=r==="arraybuffer"||!s.responseText?s.response:QU(s.responseText.substring(t.lastReachedChar||0));return t.stats=a9(s),t.key?t.encryptedBytes=new Uint8Array(u):t.bytes=new Uint8Array(u),e(null,t)},d9=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p,doneFn:g,onTransmuxerLog:T,triggerSegmentEventFn:S})=>{const E=t.map&&t.map.tracks||{},v=!!(E.audio&&E.video);let C=n.bind(null,t,"audio","start");const P=n.bind(null,t,"audio","end");let R=n.bind(null,t,"video","start");const D=n.bind(null,t,"video","end"),U=()=>Kk({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:v,onData:A=>{A.type=A.type==="combined"?"video":A.type,p(t,A)},onTrackInfo:A=>{r&&(v&&(A.isMuxed=!0),r(t,A))},onAudioTimingInfo:A=>{C&&typeof A.start<"u"&&(C(A.start),C=null),P&&typeof A.end<"u"&&P(A.end)},onVideoTimingInfo:A=>{R&&typeof A.start<"u"&&(R(A.start),R=null),D&&typeof A.end<"u"&&D(A.end)},onVideoSegmentTimingInfo:A=>{const B={pts:{start:A.start.presentation,end:A.end.presentation},dts:{start:A.start.decode,end:A.end.decode}};S({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:B}),i(A)},onAudioSegmentTimingInfo:A=>{const B={pts:{start:A.start.pts,end:A.end.pts},dts:{start:A.start.dts,end:A.end.dts}};S({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:B}),s(A)},onId3:(A,B)=>{a(t,A,B)},onCaptions:A=>{u(t,[A])},isEndOfTimeline:c,onEndedTimeline:()=>{h()},onTransmuxerLog:T,onDone:(A,B)=>{g&&(A.type=A.type==="combined"?"video":A.type,S({type:"segmenttransmuxingcomplete",segment:t}),g(B,t,A))},segment:t,triggerSegmentEventFn:S});md({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:A=>{t.bytes=e=A.data;const B=A.result;B&&(r(t,{hasAudio:B.hasAudio,hasVideo:B.hasVideo,isMuxed:v}),r=null),U()}})},Yk=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p,doneFn:g,onTransmuxerLog:T,triggerSegmentEventFn:S})=>{let E=new Uint8Array(e);if(L6(E)){t.isFmp4=!0;const{tracks:v}=t.map,C={isFmp4:!0,hasVideo:!!v.video,hasAudio:!!v.audio};v.audio&&v.audio.codec&&v.audio.codec!=="enca"&&(C.audioCodec=v.audio.codec),v.video&&v.video.codec&&v.video.codec!=="encv"&&(C.videoCodec=v.video.codec),v.video&&v.audio&&(C.isMuxed=!0),r(t,C);const P=(R,D)=>{p(t,{data:E,type:C.hasAudio&&!C.isMuxed?"audio":"video"}),D&&D.length&&a(t,D),R&&R.length&&u(t,R),g(null,t,{})};md({action:"probeMp4StartTime",timescales:t.map.timescales,data:E,transmuxer:t.transmuxer,callback:({data:R,startTime:D})=>{e=R.buffer,t.bytes=E=R,C.hasAudio&&!C.isMuxed&&n(t,"audio","start",D),C.hasVideo&&n(t,"video","start",D),md({action:"probeEmsgID3",data:E,transmuxer:t.transmuxer,offset:D,callback:({emsgData:U,id3Frames:A})=>{if(e=U.buffer,t.bytes=E=U,!v.video||!U.byteLength||!t.transmuxer){P(void 0,A);return}md({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:E,timescales:t.map.timescales,trackIds:[v.video.id],callback:B=>{e=B.data.buffer,t.bytes=E=B.data,B.logs.forEach(function($){T(St($,{stream:"mp4CaptionParser"}))}),P(B.captions,A)}})}})}});return}if(!t.transmuxer){g(null,t,{});return}if(typeof t.container>"u"&&(t.container=P_(E)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),g(null,t,{});return}d9({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p,doneFn:g,onTransmuxerLog:T,triggerSegmentEventFn:S})},Qk=function({id:t,key:e,encryptedBytes:r,decryptionWorker:n,segment:i,doneFn:s},a){const u=h=>{if(h.data.source===t){n.removeEventListener("message",u);const p=h.data.decrypted;a(new Uint8Array(p.bytes,p.byteOffset,p.byteLength))}};n.onerror=()=>{const h="An error occurred in the decryption worker",p=Pa({segment:i}),g={message:h,metadata:{error:new Error(h),errorType:fe.Error.StreamingFailedToDecryptSegment,segmentInfo:p,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(g,i)},n.addEventListener("message",u);let c;e.bytes.slice?c=e.bytes.slice():c=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(Nk({source:t,encrypted:r,key:c,iv:e.iv}),[r.buffer,c.buffer])},h9=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p,doneFn:g,onTransmuxerLog:T,triggerSegmentEventFn:S})=>{S({type:"segmentdecryptionstart"}),Qk({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:g},E=>{e.bytes=E,S({type:"segmentdecryptioncomplete",segment:e}),Yk({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p,doneFn:g,onTransmuxerLog:T,triggerSegmentEventFn:S})})},f9=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p,doneFn:g,onTransmuxerLog:T,triggerSegmentEventFn:S})=>{let E=0,v=!1;return(C,P)=>{if(!v){if(C)return v=!0,hy(t),g(C,P);if(E+=1,E===t.length){const R=function(){if(P.encryptedBytes)return h9({decryptionWorker:e,segment:P,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p,doneFn:g,onTransmuxerLog:T,triggerSegmentEventFn:S});Yk({segment:P,bytes:P.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p,doneFn:g,onTransmuxerLog:T,triggerSegmentEventFn:S})};if(P.endOfAllRequests=Date.now(),P.map&&P.map.encryptedBytes&&!P.map.bytes)return S({type:"segmentdecryptionstart",segment:P}),Qk({decryptionWorker:e,id:P.requestId+"-init",encryptedBytes:P.map.encryptedBytes,key:P.map.key,segment:P,doneFn:g},D=>{P.map.bytes=D,S({type:"segmentdecryptioncomplete",segment:P}),Xk(P,U=>{if(U)return hy(t),g(U,P);R()})});R()}}}},p9=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},m9=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:p})=>g=>{if(!g.target.aborted)return t.stats=St(t.stats,l9(g)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(g,t)},g9=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:n,abortFn:i,progressFn:s,trackInfoFn:a,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:p,captionsFn:g,isEndOfTimeline:T,endedTimelineFn:S,dataFn:E,doneFn:v,onTransmuxerLog:C,triggerSegmentEventFn:P})=>{const R=[],D=f9({activeXhrs:R,decryptionWorker:r,trackInfoFn:a,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:p,captionsFn:g,isEndOfTimeline:T,endedTimelineFn:S,dataFn:E,doneFn:v,onTransmuxerLog:C,triggerSegmentEventFn:P});if(n.key&&!n.key.bytes){const W=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&W.push(n.map.key);const O=St(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),M=n2(n,W,D,P),X={uri:n.key.resolvedUri};P({type:"segmentkeyloadstart",segment:n,keyInfo:X});const re=t(O,M);R.push(re)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const re=St(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),Q=n2(n,[n.map.key],D,P),ue={uri:n.map.key.resolvedUri};P({type:"segmentkeyloadstart",segment:n,keyInfo:ue});const ae=t(re,Q);R.push(ae)}const O=St(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:cy(n.map),requestType:"segment-media-initialization"}),M=u9({segment:n,finishProcessingFn:D,triggerSegmentEventFn:P});P({type:"segmentloadstart",segment:n});const X=t(O,M);R.push(X)}const U=St(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:cy(n),requestType:"segment"}),A=c9({segment:n,finishProcessingFn:D,responseType:U.responseType,triggerSegmentEventFn:P});P({type:"segmentloadstart",segment:n});const B=t(U,A);B.addEventListener("progress",m9({segment:n,progressFn:s,trackInfoFn:a,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:p,captionsFn:g,isEndOfTimeline:T,endedTimelineFn:S,dataFn:E})),R.push(B);const $={};return R.forEach(W=>{W.addEventListener("loadend",p9({loadendState:$,abortFn:i}))}),()=>hy(R)},v9=Si("CodecUtils"),y9=function(t){const e=t.attributes||{};if(e.CODECS)return ns(e.CODECS)},Jk=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},_9=(t,e)=>{if(!Jk(t,e))return!0;const r=e.attributes||{},n=t.mediaGroups.AUDIO[r.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},Ep=function(t){const e={};return t.forEach(({mediaType:r,type:n,details:i})=>{e[r]=e[r]||[],e[r].push(FE(`${n}${i}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){v9(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},i2=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},gd=function(t,e){const r=e.attributes||{},n=Ep(y9(e)||[]);if(Jk(t,e)&&!n.audio&&!_9(t,e)){const i=Ep(o$(t,r.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},kf=Si("PlaylistSelector"),s2=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},wp=function(t,e){if(!t)return"";const r=ee.getComputedStyle(t);return r?r[e]:""},fu=function(t,e){const r=t.slice();t.sort(function(n,i){const s=e(n,i);return s===0?r.indexOf(n)-r.indexOf(i):s})},ux=function(t,e){let r,n;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||ee.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||ee.Number.MAX_VALUE,r-n},x9=function(t,e){let r,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||ee.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||ee.Number.MAX_VALUE,r===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-n};let Zk=function(t,e,r,n,i,s){if(!t)return;const a={bandwidth:e,width:r,height:n,limitRenditionByPlayerDimensions:i};let u=t.playlists;Dn.isAudioOnly(t)&&(u=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let c=u.map(A=>{let B;const $=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.width,W=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.height;return B=A.attributes&&A.attributes.BANDWIDTH,B=B||ee.Number.MAX_VALUE,{bandwidth:B,width:$,height:W,playlist:A}});fu(c,(A,B)=>A.bandwidth-B.bandwidth),c=c.filter(A=>!Dn.isIncompatible(A.playlist));let h=c.filter(A=>Dn.isEnabled(A.playlist));h.length||(h=c.filter(A=>!Dn.isDisabled(A.playlist)));const p=h.filter(A=>A.bandwidth*Pr.BANDWIDTH_VARIANCE<e);let g=p[p.length-1];const T=p.filter(A=>A.bandwidth===g.bandwidth)[0];if(i===!1){const A=T||h[0]||c[0];if(A&&A.playlist){let B="sortedPlaylistReps";return T&&(B="bandwidthBestRep"),h[0]&&(B="enabledPlaylistReps"),kf(`choosing ${s2(A)} using ${B} with options`,a),A.playlist}return kf("could not choose a playlist with options",a),null}const S=p.filter(A=>A.width&&A.height);fu(S,(A,B)=>A.width-B.width);const E=S.filter(A=>A.width===r&&A.height===n);g=E[E.length-1];const v=E.filter(A=>A.bandwidth===g.bandwidth)[0];let C,P,R;v||(C=S.filter(A=>A.width>r||A.height>n),P=C.filter(A=>A.width===C[0].width&&A.height===C[0].height),g=P[P.length-1],R=P.filter(A=>A.bandwidth===g.bandwidth)[0]);let D;if(s.leastPixelDiffSelector){const A=S.map(B=>(B.pixelDiff=Math.abs(B.width-r)+Math.abs(B.height-n),B));fu(A,(B,$)=>B.pixelDiff===$.pixelDiff?$.bandwidth-B.bandwidth:B.pixelDiff-$.pixelDiff),D=A[0]}const U=D||R||v||T||h[0]||c[0];if(U&&U.playlist){let A="sortedPlaylistReps";return D?A="leastPixelDiffRep":R?A="resolutionPlusOneRep":v?A="resolutionBestRep":T?A="bandwidthBestRep":h[0]&&(A="enabledPlaylistReps"),kf(`choosing ${s2(U)} using ${A} with options`,a),U.playlist}return kf("could not choose a playlist with options",a),null};const o2=function(){let t=this.useDevicePixelRatio&&ee.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),Zk(this.playlists.main,this.systemBandwidth,parseInt(wp(this.tech_.el(),"width"),10)*t,parseInt(wp(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},b9=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&ee.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),Zk(this.playlists.main,e,parseInt(wp(this.tech_.el(),"width"),10)*n,parseInt(wp(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},S9=function(t){const{main:e,currentTime:r,bandwidth:n,duration:i,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:u,syncController:c}=t,h=e.playlists.filter(E=>!Dn.isIncompatible(E));let p=h.filter(Dn.isEnabled);p.length||(p=h.filter(E=>!Dn.isDisabled(E)));const T=p.filter(Dn.hasAttribute.bind(null,"BANDWIDTH")).map(E=>{const C=c.getSyncPoint(E,i,u,r)?1:2,R=Dn.estimateSegmentRequestTime(s,n,E)*C-a;return{playlist:E,rebufferingImpact:R}}),S=T.filter(E=>E.rebufferingImpact<=0);return fu(S,(E,v)=>ux(v.playlist,E.playlist)),S.length?S[0]:(fu(T,(E,v)=>E.rebufferingImpact-v.rebufferingImpact),T[0]||null)},T9=function(){const t=this.playlists.main.playlists.filter(Dn.isEnabled);return fu(t,(r,n)=>ux(r,n)),t.filter(r=>!!gd(this.playlists.main,r).video)[0]||null},C9=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(n=>{r.set(n,e),e+=n.byteLength})),r};function eD(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const E9=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)t[r]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=r,u=r,c=!1;const h=s[n];h&&(a=h.label,u=h.language,c=h.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:n,default:c,label:a,language:u},!1).track}}},w9=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const n=ee.WebKitDataCue||ee.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(a=>{const u=new n(i.startTime+r,i.endTime+r,a.text);u.line=a.line,u.align="left",u.position=a.position,u.positionAlign="line-left",t[s].addCue(u)}):t[s].addCue(new n(i.startTime+r,i.endTime+r,i.text))})},k9=function(t){Object.defineProperties(t.frame,{id:{get(){return fe.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return fe.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return fe.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},D9=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:n})=>{if(!e)return;const i=ee.WebKitDataCue||ee.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(p=>{const g=p.cueTime+r;typeof g!="number"||ee.isNaN(g)||g<0||!(g<1/0)||!p.frames||!p.frames.length||p.frames.forEach(T=>{const S=new i(g,g,T.value||T.url||T.data||"");S.frame=T,S.value=T,k9(S),s.addCue(S)})}),!s.cues||!s.cues.length))return;const a=s.cues,u=[];for(let p=0;p<a.length;p++)a[p]&&u.push(a[p]);const c=u.reduce((p,g)=>{const T=p[g.startTime]||[];return T.push(g),p[g.startTime]=T,p},{}),h=Object.keys(c).sort((p,g)=>Number(p)-Number(g));h.forEach((p,g)=>{const T=c[p],S=isFinite(n)?n:p,E=Number(h[g+1])||S;T.forEach(v=>{v.endTime=E})})},A9={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},I9=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),P9=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const n=ee.WebKitDataCue||ee.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(I9.has(s))continue;const a=new n(i.startTime,i.endTime,"");a.id=i.id,a.type="com.apple.quicktime.HLS",a.value={key:A9[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(a)}i.processDateRange()})},a2=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,fe.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},id=function(t,e,r){let n,i;if(r&&r.cues)for(n=r.cues.length;n--;)i=r.cues[n],i.startTime>=t&&i.endTime<=e&&r.removeCue(i)},R9=function(t){const e=t.cues;if(!e)return;const r={};for(let n=e.length-1;n>=0;n--){const i=e[n],s=`${i.startTime}-${i.endTime}-${i.text}`;r[s]?t.removeCue(i):r[s]=i}},O9=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-r+3)*Ra.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>n);i++);return t.slice(i)},L9=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const n=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=n);i++);return t.slice(0,i).concat(e)},M9=(t,e,r,n)=>{const i=Math.ceil((e-n)*Ra.ONE_SECOND_IN_TS),s=Math.ceil((r-n)*Ra.ONE_SECOND_IN_TS),a=t.slice();let u=t.length;for(;u--&&!(t[u].pts<=s););if(u===-1)return a;let c=u+1;for(;c--&&!(t[c].pts<=i););return c=Math.max(c,0),a.splice(c,u-c+1),a},N9=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),n=Object.keys(e).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i];if(s!==n[i]||t[s]!==e[s])return!1}return!0},B9=function(t,e,r){e=e||[];const n=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(n.push(s),i+=a.duration,i>r))return s}return n.length===0?0:n[n.length-1]},Xc=1,F9=500,l2=t=>typeof t=="number"&&isFinite(t),Df=1/60,$9=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,j9=(t,e,r)=>{let n=e-Pr.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const i=e-r;return Math.min(i,n)},Zl=t=>{const{startOfSegment:e,duration:r,segment:n,part:i,playlist:{mediaSequence:s,id:a,segments:u=[]},mediaIndex:c,partIndex:h,timeline:p}=t,g=u.length-1;let T="mediaIndex/partIndex increment";t.getMediaInfoForTime?T=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(T="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(T+=` with independent ${t.independent}`);const S=typeof h=="number",E=t.segment.uri?"segment":"pre-segment",v=S?xk({preloadSegment:n})-1:0;return`${E} [${s+c}/${s+g}]`+(S?` part [${h}/${v}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(S?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${p}] selected by [${T}] playlist [${a}]`},u2=t=>`${t}TimingInfo`,U9=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:n,overrideCheck:i})=>!i&&t===e?null:t<e?r:n.length?n.end(n.length-1):r,fy=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:n,audioDisabled:i})=>{if(e===r)return!1;if(n==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==r}if(n==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===r)}return!1},z9=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),r=t.pendingTimelineChange({type:"main"}),n=e&&r,i=n&&e.to!==r.to;return!!(n&&e.from!==-1&&r.from!==-1&&i)},H9=t=>{t&&(t.pause(),t.resetEverything(),t.load())},V9=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),r=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&r&&e.to<r.to},Do=t=>{const e=t.pendingSegment_;if(!e)return;if(fy({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&z9(t.timelineChangeController_)){if(V9(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}H9(t)}},q9=t=>{let e=0;return["video","audio"].forEach(function(r){const n=t[`${r}TimingInfo`];if(!n)return;const{start:i,end:s}=n;let a;typeof i=="bigint"||typeof s=="bigint"?a=ee.BigInt(s)-ee.BigInt(i):typeof i=="number"&&typeof s=="number"&&(a=s-i),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},c2=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+ls:!1,W9=(t,e)=>{if(e!=="hls")return null;const r=q9({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const n=t.playlist.targetDuration,i=c2({segmentDuration:r,maxDuration:n*2}),s=c2({segmentDuration:r,maxDuration:n}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:a}:null},Pa=({type:t,segment:e})=>{if(!e)return;const r=!!(e.key||e.map&&e.map.ke),n=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:r,isMediaInitialization:n}};class py extends fe.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Si(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Do(this)}),this.sourceUpdater_.on("codecschange",n=>{this.trigger(z({type:"codecschange"},n))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Do(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",n=>{this.trigger(z({type:"timelinechange"},n)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Do(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Do(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return vv.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&ee.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,ee.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&vv.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Vr();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:n,isMuxed:i}=e;if(n&&r&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const n=Cp(e);let i=this.initSegments_[n];return r&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,r=!1){if(!e)return null;const n=Bk(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&r&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${mv(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const u=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!u.parts||!u.parts.length||!u.parts[this.partIndex])){const c=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=c}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(ee.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&vv.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,n=()=>{},i=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&n()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,r,a)),(i||this.loaderType_==="main")&&(this.gopBuffer_=M9(this.gopBuffer_,e,r,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,r,a));for(const u in this.inbandTextTracks_)id(e,r,this.inbandTextTracks_[u]);id(e,r,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&ee.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ee.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&ee.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ee.setTimeout(this.monitorBufferTick_.bind(this),F9)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const r={segmentInfo:Pa({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:r}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,n=this.partIndex){if(!r||!this.mediaSource_)return!1;const i=typeof e=="number"&&r.segments[e],s=e+1===r.segments.length,a=!i||!i.parts||n+1===i.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),r=mv(e)||0,n=ix(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,s=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const u={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(u.isSyncRequest)u.mediaIndex=B9(this.currentTimeline_,a,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${u.mediaIndex}`);else if(this.mediaIndex!==null){const T=a[this.mediaIndex],S=typeof this.partIndex=="number"?this.partIndex:-1;u.startOfSegment=T.end?T.end:r,T.parts&&T.parts[S+1]?(u.mediaIndex=this.mediaIndex,u.partIndex=S+1):u.mediaIndex=this.mediaIndex+1}else{let T,S,E;const v=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${v}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const C=this.getSyncInfoFromMediaSequenceSync_(v);if(!C){const P="No sync info found while using media sequence sync";return this.error({message:P,metadata:{errorType:fe.Error.StreamingFailedToSelectNextSegment,error:new Error(P)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${C.start} --> ${C.end})`),T=C.segmentIndex,S=C.partIndex,E=C.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const C=Dn.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:v,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});T=C.segmentIndex,S=C.partIndex,E=C.startTime}u.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${v}`:`currentTime ${v}`,u.mediaIndex=T,u.startOfSegment=E,u.partIndex=S,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${u.mediaIndex} `)}const c=a[u.mediaIndex];let h=c&&typeof u.partIndex=="number"&&c.parts&&c.parts[u.partIndex];if(!c||typeof u.partIndex=="number"&&!h)return null;typeof u.partIndex!="number"&&c.parts&&(u.partIndex=0,h=c.parts[0]);const p=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&h&&!p&&!h.independent)if(u.partIndex===0){const T=a[u.mediaIndex-1],S=T.parts&&T.parts.length&&T.parts[T.parts.length-1];S&&S.independent&&(u.mediaIndex-=1,u.partIndex=T.parts.length-1,u.independent="previous segment")}else c.parts[u.partIndex-1].independent&&(u.partIndex-=1,u.independent="previous part");const g=this.mediaSource_&&this.mediaSource_.readyState==="ended";return u.mediaIndex>=a.length-1&&g&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,u.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(u))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:r,playlist:n,mediaIndex:i,startOfSegment:s,isSyncRequest:a,partIndex:u,forceTimestampOffset:c,getMediaInfoForTime:h}=e,p=n.segments[i],g=typeof u=="number"&&p.parts[u],T={requestId:"segment-loader-"+Math.random(),uri:g&&g.resolvedUri||p.resolvedUri,mediaIndex:i,partIndex:g?u:null,isSyncRequest:a,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:p.timeline,duration:g&&g.duration||p.duration,segment:p,part:g,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:h,independent:r},S=typeof c<"u"?c:this.isPendingTimestampOffset_;T.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:p.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:S});const E=mv(this.sourceUpdater_.audioBuffered());return typeof E=="number"&&(T.audioAppendStart=E-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(T.gopsToAlignWith=O9(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),T}timestampOffsetForSegment_(e){return U9(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,s=Dn.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),a=cU(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const u=S9({main:this.vhs_.playlists.main,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!u)return;const h=s-a-u.rebufferingImpact;let p=.5;a<=ls&&(p=1),!(!u.playlist||u.playlist.uri===this.playlist_.uri||h<p)&&(this.bandwidth=u.playlist.attributes.BANDWIDTH*Pr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Zl(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){const{hasAudio:n,hasVideo:i}=r,s={segmentInfo:Pa({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},N9(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Do(this))))}handleTimingInfo_(e,r,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=u2(r);s[a]=s[a]||{},s[a][n]=i,this.logger_(`timinginfo: ${r} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Do(this)}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};r.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const u=s[a.stream];u.startTime=Math.min(u.startTime,a.startTime+i),u.endTime=Math.max(u.endTime,a.endTime+i),u.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:u,endTime:c,captions:h}=s[a],p=this.inbandTextTracks_;this.logger_(`adding cues from ${u} -> ${c} for ${a}`),E9(p,this.vhs_.tech_,a),id(u,c,p[a]),w9({captionArray:h,inbandTextTracks:p,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,n));return}this.addMetadataToTextTrack(n,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!fy({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:n,hasVideo:i,isMuxed:s}=r;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||fy({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Do(this),this.callQueue_.push(this.handleData_.bind(this,e,r));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[u2(r.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let a;s&&(a=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,r.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:n,playlist:i}){if(n){const s=Cp(n);if(this.activeInitSegmentId_===s)return null;r=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=s}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n},i){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Oa(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Oa(a).join(", "));const u=s.length?s.start(0):0,c=s.length?s.end(s.length-1):0,h=a.length?a.start(0):0,p=a.length?a.end(a.length-1):0;if(c-u<=Xc&&p-h<=Xc){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${Oa(s).join(", ")}, video buffer: ${Oa(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:n}));const T=this.currentTime_()-Xc;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${T}`),this.remove(0,T,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Xc}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=ee.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Xc*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:n},i){if(i){if(i.code===Pk){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${r} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:fe.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:i,bytes:s}){if(!s){const u=[i];let c=i.byteLength;n&&(u.unshift(n),c+=n.byteLength),s=C9({bytes:c,segments:u})}const a={segmentInfo:Pa({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:s}))}handleSegmentTimingInfo_(e,r,n){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[s].transmuxedPresentationStart=n.start.presentation,i[s].transmuxedDecodeStart=n.start.decode,i[s].transmuxedPresentationEnd=n.end.presentation,i[s].transmuxedDecodeEnd=n.end.decode,i[s].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,r){const{type:n,data:i}=r;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:n,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Do(this),this.loadQueue_.push(()=>{const r=z({},e,{forceTimestampOffset:!0});z(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=n||i&&s;this.logger_(`Requesting
${eD(e.uri)}
${Zl(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=g9({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:u,level:c,stream:h})=>{this.logger_(`${Zl(e)} logged from transmuxer stream ${h} as a ${c}: ${u}`)},triggerSegmentEventFn:({type:u,segment:c,keyInfo:h,trackInfo:p,timingInfo:g})=>{const S={segmentInfo:Pa({segment:c})};h&&(S.keyInfo=h),p&&(S.trackInfo=p),g&&(S.timingInfo=g),this.trigger({type:u,metadata:S})}})}trimBackBuffer_(e){const r=j9(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:n?n.resolvedUri:r.resolvedUri,byterange:n?n.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},u=e.playlist.segments[e.mediaIndex-1];if(u&&u.timeline===r.timeline&&(u.videoTimingInfo?a.baseStartTime=u.videoTimingInfo.transmuxedDecodeEnd:u.audioTimingInfo&&(a.baseStartTime=u.audioTimingInfo.transmuxedDecodeEnd)),r.key){const c=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(r.key),a.key.iv=c}return r.map&&(a.map=this.initSegmentForMap(r.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<Df){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Df}`);return}const n={bandwidthInfo:{from:this.bandwidth,to:r.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,n));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===cs.ABORTED)return;if(this.pause(),e.code===cs.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),i.endOfAllRequests=r.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=L9(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:u,audioTimingInfo:c}){if(typeof e<"u")return e;if(!a)return c.start;const h=r.segments[n-1];return n===0||!h||typeof h.start>"u"||h.end!==i+s?i:u.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:s}=r,a=this.loaderType_==="main"&&i,u=!this.audioDisabled_&&n&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,u&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),u&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=$9(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),i=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const c={segmentInfo:Pa({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:c})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=W9(e,this.sourceType_);if(r&&(r.severity==="warn"?fe.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Zl(e)}`);return}this.logger_(`Appended ${Zl(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,s=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,a=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${Zl(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Df){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Df}`);return}const r=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,n=r.start,i=r.end;if(!l2(n)||!l2(i))return;id(n,i,this.segmentMetadataTrack_);const s=ee.WebKitDataCue||ee.VTTCue,a={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},u=JSON.stringify(a),c=new s(n,i,u);c.value=a,this.segmentMetadataTrack_.addCue(c)}}function Gs(){}const tD=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},G9=["video","audio"],my=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},K9=(t,e)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.type==="mediaSource")return null;if(n.type===t)return r}return null},pu=(t,e)=>{if(e.queue.length===0)return;let r=0,n=e.queue[r];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),pu("audio",e),pu("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||my(t,e))){if(n.type!==t){if(r=K9(t,e.queue),r===null)return;n=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,pu(t,e);return}}},rD=(t,e)=>{const r=e[`${t}Buffer`],n=tD(t);r&&(r.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),r.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},os=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Wn={appendBuffer:(t,e,r)=>(n,i)=>{const s=i[`${n}Buffer`];if(os(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{s.appendBuffer(t)}catch(a){i.logger_(`Error with code ${a.code} `+(a.code===Pk?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,r(a)}}},remove:(t,e)=>(r,n)=>{const i=n[`${r}Buffer`];if(os(n.mediaSource,i)){n.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{i.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const n=r[`${e}Buffer`];os(r.mediaSource,n)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){fe.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){fe.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(os(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(n){fe.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>r=>{const n=tD(t),i=Cu(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=r.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",r[`on${n}UpdateEnd_`]),s.addEventListener("error",r[`on${n}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if(rD(t,e),!!os(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(n){fe.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,r)=>{const n=r[`${e}Buffer`],i=Cu(t);if(!os(r.mediaSource,n))return;const s=t.substring(0,t.indexOf(".")),a=r.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const c={codecsChangeInfo:{from:a,to:t}};r.trigger({type:"codecschange",metadata:c}),r.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{n.changeType(i),r.codecs[e]=t}catch(h){c.errorType=fe.Error.StreamingCodecsChangeError,c.error=h,h.metadata=c,r.error_=h,r.trigger("error"),fe.log.warn(`Failed to changeType on ${e}Buffer`,h)}}},Gn=({type:t,sourceUpdater:e,action:r,doneFn:n,name:i})=>{e.queue.push({type:t,action:r,doneFn:n,name:i}),pu(t,e)},d2=(t,e)=>r=>{const n=e[`${t}Buffered`](),i=aU(n);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}pu(t,e)};class nD extends fe.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>pu("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Si("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=d2("video",this),this.onAudioUpdateEnd_=d2("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){Gn({type:"mediaSource",sourceUpdater:this,action:Wn.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){Gn({type:e,sourceUpdater:this,action:Wn.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){fe.log.error("removeSourceBuffer is not supported!");return}Gn({type:"mediaSource",sourceUpdater:this,action:Wn.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!fe.browser.IS_FIREFOX&&ee.MediaSource&&ee.MediaSource.prototype&&typeof ee.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return ee.SourceBuffer&&ee.SourceBuffer.prototype&&typeof ee.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){fe.log.error("changeType is not supported!");return}Gn({type:e,sourceUpdater:this,action:Wn.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const n=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,n);this.canChangeType()&&this.changeType(r,n)})}appendBuffer(e,r){const{segmentInfo:n,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=r;if(Gn({type:i,sourceUpdater:this,action:Wn.appendBuffer(s,n||{mediaIndex:-1},a),doneFn:r,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const u=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${u.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,u.forEach(c=>{this.appendBuffer.apply(this,c)})}}audioBuffered(){return os(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Vr()}videoBuffered(){return os(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Vr()}buffered(){const e=os(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=os(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():uU(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=Gs){Gn({type:"mediaSource",sourceUpdater:this,action:Wn.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=Gs){typeof e!="string"&&(e=void 0),Gn({type:"mediaSource",sourceUpdater:this,action:Wn.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,n=Gs){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}Gn({type:"audio",sourceUpdater:this,action:Wn.remove(e,r),doneFn:n,name:"remove"})}removeVideo(e,r,n=Gs){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}Gn({type:"video",sourceUpdater:this,action:Wn.remove(e,r),doneFn:n,name:"remove"})}updating(){return!!(my("audio",this)||my("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Gn({type:"audio",sourceUpdater:this,action:Wn.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Gn({type:"video",sourceUpdater:this,action:Wn.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Gn({type:"audio",sourceUpdater:this,action:Wn.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Gn({type:"video",sourceUpdater:this,action:Wn.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),G9.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>rD(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const h2=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),X9=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},f2=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class Y9 extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Q9 extends py{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Vr();const e=this.subtitlesTrack_.cues,r=e[0].startTime,n=e[e.length-1].startTime;return Vr([[r,n]])}initSegmentForMap(e,r=!1){if(!e)return null;const n=Cp(e);let i=this.initSegments_[n];if(r&&!i&&e.bytes){const s=f2.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(f2,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){id(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===cs.TIMEOUT&&this.handleTimeout_(),e.code===cs.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=r.map.bytes),i.bytes=r.bytes,typeof ee.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(a){this.stopForError({message:a.message,metadata:{errorType:fe.Error.StreamingVttParserError,error:a}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new ee.VTTCue(a.startTime,a.endTime,a.text):a)}),R9(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,n=!1;if(typeof ee.WebVTT!="function")throw new Y9;typeof ee.TextDecoder=="function"?r=new ee.TextDecoder("utf8"):(r=ee.WebVTT.StringDecoder(),n=!0);const i=new ee.WebVTT.Parser(ee,ee.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=a=>{e.timestampmap=a},i.onparsingerror=a=>{fe.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;n&&(a=h2(a)),i.parse(a)}let s=e.bytes;n&&(s=h2(s)),i.parse(s),i.flush()}updateTimeMapping_(e,r,n){const i=e.segment;if(!r)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,c=s/Ra.ONE_SECOND_IN_TS-a+r.mapping;if(e.cues.forEach(h=>{const p=h.endTime-h.startTime,g=this.handleRollover_(h.startTime+c,r.time);h.startTime=Math.max(g,0),h.endTime=Math.max(g+p,0)}),!n.syncInfo){const h=e.cues[0].startTime,p=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(h,p-i.duration)}}}handleRollover_(e,r){if(r===null)return e;let n=e*Ra.ONE_SECOND_IN_TS;const i=r*Ra.ONE_SECOND_IN_TS;let s;for(i<n?s=-8589934592:s=8589934592;Math.abs(n-i)>4294967296;)n+=s;return n/Ra.ONE_SECOND_IN_TS}}const J9=function(t,e){const r=t.cues;for(let n=0;n<r.length;n++){const i=r[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},Z9=function(t,e,r=0){if(!t.segments)return;let n=r,i;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(i||(i=J9(e,n+a.duration/2)),i){if("cueIn"in a){i.endTime=n,i.adEndTime=n,n+=a.duration,i=null;continue}if(n<i.endTime){n+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new ee.VTTCue(n,n+a.duration,a.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){const[u,c]=a.cueOutCont.split("/").map(parseFloat);i=new ee.VTTCue(n,n+a.duration,""),i.adStartTime=n-u,i.adEndTime=i.adStartTime+c,e.addCue(i)}n+=a.duration}};class p2{constructor({start:e,end:r,segmentIndex:n,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=r,this.segmentIndex_=n,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class e7{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class iD{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),!!this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(r.isInRange(e))return r;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,r,n){const i=new Map;let s=`
`,a=n,u=r;this.start_=a,e.forEach((c,h)=>{const p=this.storage_.get(u),g=a,T=g+c.duration,S=!!(p&&p.segmentSyncInfo&&p.segmentSyncInfo.isAppended),E=new p2({start:g,end:T,appended:S,segmentIndex:h});c.syncInfo=E;let v=a;const C=(c.parts||[]).map((P,R)=>{const D=v,U=v+P.duration,A=!!(p&&p.partsSyncInfo&&p.partsSyncInfo[R]&&p.partsSyncInfo[R].isAppended),B=new p2({start:D,end:U,appended:A,segmentIndex:h,partIndex:R});return v=U,s+=`Media Sequence: ${u}.${R} | Range: ${D} --> ${U} | Appended: ${A}
`,P.syncInfo=B,B});i.set(u,new e7(E,C)),s+=`${eD(c.resolvedUri)} | Media Sequence: ${u} | Range: ${g} --> ${T} | Appended: ${S}
`,u++,a=T}),this.end_=a,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,r){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:r:0}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}class m2 extends iD{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,r){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,r)}}const t7=86400,yv=[{name:"VOD",run:(t,e,r,n,i)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,n,i,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const u=a.getSyncInfoForTime(i);return u?{time:u.start,partIndex:u.partIndex,segmentIndex:u.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,n,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const u=sy(e);i=i||0;for(let c=0;c<u.length;c++){const h=e.endList||i===0?c:u.length-(c+1),p=u[h],g=p.segment,T=t.timelineToDatetimeMappings[g.timeline];if(!T||!g.dateTimeObject)continue;let E=g.dateTimeObject.getTime()/1e3+T;if(g.parts&&typeof p.partIndex=="number")for(let C=0;C<p.partIndex;C++)E+=g.parts[C].duration;const v=Math.abs(i-E);if(a!==null&&(v===0||a<v))break;a=v,s={time:E,segmentIndex:p.segmentIndex,partIndex:p.partIndex}}return s}},{name:"Segment",run:(t,e,r,n,i)=>{let s=null,a=null;i=i||0;const u=sy(e);for(let c=0;c<u.length;c++){const h=e.endList||i===0?c:u.length-(c+1),p=u[h],g=p.segment,T=p.part&&p.part.start||g&&g.start;if(g.timeline===n&&typeof T<"u"){const S=Math.abs(i-T);if(a!==null&&a<S)break;(!s||a===null||a>=S)&&(a=S,s={time:T,segmentIndex:p.segmentIndex,partIndex:p.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,r,n,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let u=0;u<e.discontinuityStarts.length;u++){const c=e.discontinuityStarts[u],h=e.discontinuitySequence+u+1,p=t.discontinuities[h];if(p){const g=Math.abs(i-p.time);if(a!==null&&a<g)break;(!s||a===null||a>=g)&&(a=g,s={time:p.time,segmentIndex:c,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,r,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class r7 extends fe.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const r=new iD,n=new m2(r),i=new m2(r);this.mediaSequenceStorage_={main:r,audio:n,vtt:i},this.logger_=Si("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,n,i,s){if(r!==1/0)return yv.find(({name:c})=>c==="VOD").run(this,e,r);const a=this.runStrategies_(e,r,n,i,s);if(!a.length)return null;for(const u of a){const{syncPoint:c,strategy:h}=u,{segmentIndex:p,time:g}=c;if(p<0)continue;const T=e.segments[p],S=g,E=S+T.duration;if(this.logger_(`Strategy: ${h}. Current time: ${i}. selected segment: ${p}. Time: [${S} -> ${E}]}`),i>=S&&i<E)return this.logger_("Found sync point with exact match: ",c),c}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,r){if(!e||!e.segments)return null;const n=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+pd({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,r,n,i,s){const a=[];for(let u=0;u<yv.length;u++){const c=yv[u],h=c.run(this,e,r,n,i,s);h&&(h.strategy=c.name,a.push({strategy:c.name,syncPoint:h}))}return a}selectSyncPoint_(e,r){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[r.key]-r.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const u=Math.abs(e[a].syncPoint[r.key]-r.value);u<i&&(i=u,n=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${s}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,r){const n=r.mediaSequence-e.mediaSequence;if(n>t7){fe.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],n=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&r&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,n){const i=e.segment,s=e.part;let a=this.timelines[e.timeline],u,c;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-r.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),u=e.startOfSegment,c=r.end+a.mapping;else if(a)u=r.start+a.mapping,c=r.end+a.mapping;else return!1;return s&&(s.start=u,s.end=c),(!i.start||u<i.start)&&(i.start=u),i.end=c,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let i=0;i<r.discontinuityStarts.length;i++){const s=r.discontinuityStarts[i],a=r.discontinuitySequence+i+1,u=s-e.mediaIndex,c=Math.abs(u);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>c){let h;u<0?h=n.start-pd({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:s}):h=n.end+pd({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:h,accuracy:c}}}}dispose(){this.trigger("dispose"),this.off()}}class n7 extends fe.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:n}){if(typeof r=="number"&&typeof n=="number"){this.lastTimelineChanges_[e]={type:e,from:r,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:r,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const i7=Hk(Vk(function(){var t=(function(){function v(){this.listeners={}}var C=v.prototype;return C.on=function(R,D){this.listeners[R]||(this.listeners[R]=[]),this.listeners[R].push(D)},C.off=function(R,D){if(!this.listeners[R])return!1;var U=this.listeners[R].indexOf(D);return this.listeners[R]=this.listeners[R].slice(0),this.listeners[R].splice(U,1),U>-1},C.trigger=function(R){var D=this.listeners[R];if(D)if(arguments.length===2)for(var U=D.length,A=0;A<U;++A)D[A].call(this,arguments[1]);else for(var B=Array.prototype.slice.call(arguments,1),$=D.length,W=0;W<$;++W)D[W].apply(this,B)},C.dispose=function(){this.listeners={}},C.pipe=function(R){this.on("data",function(D){R.push(D)})},v})();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(v){return v.subarray(0,v.byteLength-v[v.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const r=function(){const v=[[[],[],[],[],[]],[[],[],[],[],[]]],C=v[0],P=v[1],R=C[4],D=P[4];let U,A,B;const $=[],W=[];let O,M,X,re,Q,ue;for(U=0;U<256;U++)W[($[U]=U<<1^(U>>7)*283)^U]=U;for(A=B=0;!R[A];A^=O||1,B=W[B]||1)for(re=B^B<<1^B<<2^B<<3^B<<4,re=re>>8^re&255^99,R[A]=re,D[re]=A,X=$[M=$[O=$[A]]],ue=X*16843009^M*65537^O*257^A*16843008,Q=$[re]*257^re*16843008,U=0;U<4;U++)C[U][A]=Q=Q<<24^Q>>>8,P[U][re]=ue=ue<<24^ue>>>8;for(U=0;U<5;U++)C[U]=C[U].slice(0),P[U]=P[U].slice(0);return v};let n=null;class i{constructor(C){n||(n=r()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let P,R,D;const U=this._tables[0][4],A=this._tables[1],B=C.length;let $=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");const W=C.slice(0),O=[];for(this._key=[W,O],P=B;P<4*B+28;P++)D=W[P-1],(P%B===0||B===8&&P%B===4)&&(D=U[D>>>24]<<24^U[D>>16&255]<<16^U[D>>8&255]<<8^U[D&255],P%B===0&&(D=D<<8^D>>>24^$<<24,$=$<<1^($>>7)*283)),W[P]=W[P-B]^D;for(R=0;P;R++,P--)D=W[R&3?P:P-4],P<=4||R<4?O[R]=D:O[R]=A[0][U[D>>>24]]^A[1][U[D>>16&255]]^A[2][U[D>>8&255]]^A[3][U[D&255]]}decrypt(C,P,R,D,U,A){const B=this._key[1];let $=C^B[0],W=D^B[1],O=R^B[2],M=P^B[3],X,re,Q;const ue=B.length/4-2;let ae,Z=4;const K=this._tables[1],J=K[0],ie=K[1],se=K[2],V=K[3],ce=K[4];for(ae=0;ae<ue;ae++)X=J[$>>>24]^ie[W>>16&255]^se[O>>8&255]^V[M&255]^B[Z],re=J[W>>>24]^ie[O>>16&255]^se[M>>8&255]^V[$&255]^B[Z+1],Q=J[O>>>24]^ie[M>>16&255]^se[$>>8&255]^V[W&255]^B[Z+2],M=J[M>>>24]^ie[$>>16&255]^se[W>>8&255]^V[O&255]^B[Z+3],Z+=4,$=X,W=re,O=Q;for(ae=0;ae<4;ae++)U[(3&-ae)+A]=ce[$>>>24]<<24^ce[W>>16&255]<<16^ce[O>>8&255]<<8^ce[M&255]^B[Z++],X=$,$=W,W=O,O=M,M=X}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(C){this.jobs.push(C),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(v){return v<<24|(v&65280)<<8|(v&16711680)>>8|v>>>24},u=function(v,C,P){const R=new Int32Array(v.buffer,v.byteOffset,v.byteLength>>2),D=new i(Array.prototype.slice.call(C)),U=new Uint8Array(v.byteLength),A=new Int32Array(U.buffer);let B,$,W,O,M,X,re,Q,ue;for(B=P[0],$=P[1],W=P[2],O=P[3],ue=0;ue<R.length;ue+=4)M=a(R[ue]),X=a(R[ue+1]),re=a(R[ue+2]),Q=a(R[ue+3]),D.decrypt(M,X,re,Q,A,ue),A[ue]=a(A[ue]^B),A[ue+1]=a(A[ue+1]^$),A[ue+2]=a(A[ue+2]^W),A[ue+3]=a(A[ue+3]^O),B=M,$=X,W=re,O=Q;return U};class c{constructor(C,P,R,D){const U=c.STEP,A=new Int32Array(C.buffer),B=new Uint8Array(C.byteLength);let $=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(A.subarray($,$+U),P,R,B)),$=U;$<A.length;$+=U)R=new Uint32Array([a(A[$-4]),a(A[$-3]),a(A[$-2]),a(A[$-1])]),this.asyncStream_.push(this.decryptChunk_(A.subarray($,$+U),P,R,B));this.asyncStream_.push(function(){D(null,e(B))})}static get STEP(){return 32e3}decryptChunk_(C,P,R,D){return function(){const U=u(C,P,R);D.set(U,C.byteOffset)}}}var h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p;typeof window<"u"?p=window:typeof h<"u"?p=h:typeof self<"u"?p=self:p={};var g=p,T=function(C){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(C):C&&C.buffer instanceof ArrayBuffer},S=g.BigInt||Number;S("0x1"),S("0x100"),S("0x10000"),S("0x1000000"),S("0x100000000"),S("0x10000000000"),S("0x1000000000000"),S("0x100000000000000"),S("0x10000000000000000"),(function(){var v=new Uint16Array([65484]),C=new Uint8Array(v.buffer,v.byteOffset,v.byteLength);return C[0]===255?"big":C[0]===204?"little":"unknown"})();const E=function(v){const C={};return Object.keys(v).forEach(P=>{const R=v[P];T(R)?C[P]={bytes:R.buffer,byteOffset:R.byteOffset,byteLength:R.byteLength}:C[P]=R}),C};self.onmessage=function(v){const C=v.data,P=new Uint8Array(C.encrypted.bytes,C.encrypted.byteOffset,C.encrypted.byteLength),R=new Uint32Array(C.key.bytes,C.key.byteOffset,C.key.byteLength/4),D=new Uint32Array(C.iv.bytes,C.iv.byteOffset,C.iv.byteLength/4);new c(P,R,D,function(U,A){self.postMessage(E({source:C.source,decrypted:A}),[A.buffer])})}}));var s7=zk(i7);const o7=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},sD=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},gy=(t,e)=>{e.activePlaylistLoader=t,t.load()},a7=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),a=i.getActiveGroup(),u=i.activePlaylistLoader,c=i.lastGroup_;if(!(a&&c&&a.id===c.id)&&(i.lastGroup_=a,i.lastTrack_=s,sD(r,i),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){u&&n.resetEverything();return}r.resyncLoader(),gy(a.playlistLoader,i)}},l7=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,r.abort(),r.pause()},u7=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),u=s.getActiveGroup(),c=s.activePlaylistLoader,h=s.lastTrack_;if(!(h&&a&&h.id===a.id)&&(s.lastGroup_=u,s.lastTrack_=a,sD(n,s),!!u)){if(u.isMainPlaylist){if(!a||!h||a.id===h.id)return;const p=e.vhs.playlistController_,g=p.selectPlaylist();if(p.media()===g)return;s.logger_(`track change. Switching main audio from ${h.id} to ${a.id}`),r.pause(),i.resetEverything(),p.fastQualityChange_(g);return}if(t==="AUDIO"){if(!u.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(c===u.playlistLoader){gy(u.playlistLoader,s);return}n.track&&n.track(a),n.resetEverything(),gy(u.playlistLoader,s)}},kp={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:n}=e,i=r.activeTrack(),s=r.activeGroup(),a=(s.filter(c=>c.default)[0]||s[0]).id,u=r.tracks[a];if(i===u){n({error:{message:"Problem encountered loading the default audio track."}});return}fe.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const c in r.tracks)r.tracks[c].enabled=r.tracks[c]===u;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;fe.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}},g2={AUDIO:(t,e,r)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[t]:s}}=r;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),(!n.paused()||a.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",kp[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:n,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=r;e.on("loadedmetadata",()=>{const u=e.media();s.playlist(u,i),s.track(a.activeTrack()),(!n.paused()||u.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",kp[t](t,r))}},c7={AUDIO:(t,e)=>{const{vhs:r,sourceType:n,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:u,tracks:c,logger_:h}},mainPlaylistLoader:p}=e,g=Qd(p.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},g&&(a[t].main.default.playlists=p.main.playlists));for(const T in a[t]){u[T]||(u[T]=[]);for(const S in a[t][T]){let E=a[t][T][S],v;if(g?(h(`AUDIO group '${T}' label '${S}' is a main playlist`),E.isMainPlaylist=!0,v=null):n==="vhs-json"&&E.playlists?v=new nu(E.playlists[0],r,s):E.resolvedUri?v=new nu(E.resolvedUri,r,s):E.playlists&&n==="dash"?v=new dy(E.playlists[0],r,s,p):v=null,E=St({id:S,playlistLoader:v},E),g2[t](t,E.playlistLoader,e),u[T].push(E),typeof c[S]>"u"){const C=new fe.AudioTrack({id:S,kind:o7(E),enabled:!1,language:E.language,default:E.default,label:S});c[S]=C}}}i.on("error",kp[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:n,sourceType:i,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:u},mediaTypes:{[t]:{groups:c,tracks:h}},mainPlaylistLoader:p}=e;for(const g in u[t]){c[g]||(c[g]=[]);for(const T in u[t][g]){if(!n.options_.useForcedSubtitles&&u[t][g][T].forced)continue;let S=u[t][g][T],E;if(i==="hls")E=new nu(S.resolvedUri,n,a);else if(i==="dash"){if(!S.playlists.filter(C=>C.excludeUntil!==1/0).length)return;E=new dy(S.playlists[0],n,a,p)}else i==="vhs-json"&&(E=new nu(S.playlists?S.playlists[0]:S.resolvedUri,n,a));if(S=St({id:T,playlistLoader:E},S),g2[t](t,S.playlistLoader,e),c[g].push(S),typeof h[T]>"u"){const v=r.addRemoteTextTrack({id:T,kind:"subtitles",default:S.default&&S.autoselect,language:S.language,label:T},!1).track;h[T]=v}}}s.on("error",kp[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:n},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const a in n[t]){i[a]||(i[a]=[]);for(const u in n[t][a]){const c=n[t][a][u];if(!/^(?:CC|SERVICE)/.test(c.instreamId))continue;const h=r.options_.vhs&&r.options_.vhs.captionServices||{};let p={label:u,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(h[p.instreamId]&&(p=St(p,h[p.instreamId])),p.default===void 0&&delete p.default,i[a].push(St({id:u},c)),typeof s[u]>"u"){const g=r.addRemoteTextTrack({id:p.instreamId,kind:"captions",default:p.default,language:p.language,label:p.label},!1).track;s[u]=g}}}}},oD=(t,e)=>{for(let r=0;r<t.length;r++)if(ax(e,t[r])||t[r].playlists&&oD(t[r].playlists,e))return!0;return!1},d7=(t,e)=>r=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:i}}}=e,s=n.media();if(!s)return null;let a=null;s.attributes[t]&&(a=i[s.attributes[t]]);const u=Object.keys(i);if(!a)if(t==="AUDIO"&&u.length>1&&Qd(e.main))for(let c=0;c<u.length;c++){const h=i[u[c]];if(oD(h,s)){a=h;break}}else i.main?a=i.main:u.length===1&&(a=i[u[0]]);return typeof r>"u"?a:r===null||!a?null:a.filter(c=>c.id===r.id)[0]||null},h7={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].enabled)return r[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}},f7=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},p7=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(h=>{c7[h](h,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(h=>{e[h].activeGroup=d7(h,t),e[h].activeTrack=h7[h](h,t),e[h].onGroupChanged=a7(h,t),e[h].onGroupChanging=l7(h,t),e[h].onTrackChanged=u7(h,t),e[h].getActiveGroup=f7(h,t)});const u=e.AUDIO.activeGroup();if(u){const h=(u.filter(g=>g.default)[0]||u[0]).id;e.AUDIO.tracks[h].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(h=>e[h].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(h=>e[h].onGroupChanging())});const c=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",c),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",c),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const h in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[h])},m7=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Gs,activeTrack:Gs,getActiveGroup:Gs,onGroupChanged:Gs,onTrackChanged:Gs,lastTrack_:null,logger_:Si(`MediaGroups[${e}]`)}}),t};class v2{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=kn(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class g7 extends fe.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new v2,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Si("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const n=r.serverUri||r.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=kn(e,n),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const n=e?r:this.getRequestURI(r);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(a.status===429){const h=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${h} seconds.`),this.startTTLTimeout_(parseInt(h,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let u;try{u=JSON.parse(this.request_.responseText)}catch(h){const p={errorType:fe.Error.StreamingContentSteeringParserError,error:h};this.trigger({type:"error",metadata:p})}this.assignSteeringProperties_(u);const c={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:c}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new ee.URL(e),n=new ee.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const r=JSON.parse(ee.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new ee.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const s=`_${this.manifestType_}_pathway`;r.searchParams.set(s,n)}if(i){const s=`_${this.manifestType_}_throughput`;r.searchParams.set(s,i)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!r(i))return i}const n=this.setSteeringParams_(e);return r(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=ee.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){ee.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new v2}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(kn(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const v7=10;let Hs;const y7=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],_7=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},x7=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:a,bufferBasedABR:u,log:c}){if(!n)return fe.log.warn("We received no playlist to switch to. Please check your stream."),!1;const h=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return c(`${h} as current playlist is not set`),!0;if(n.id===t.id)return!1;const p=!!ru(e,r).length;if(!t.endList)return!p&&typeof t.partTargetDuration=="number"?(c(`not ${h} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(c(`${h} as current playlist is live`),!0);const g=ix(e,r),T=u?Pr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Pr.MAX_BUFFER_LOW_WATER_LINE;if(a<T)return c(`${h} as duration < max low water line (${a} < ${T})`),!0;const S=n.attributes.BANDWIDTH,E=t.attributes.BANDWIDTH;if(S<E&&(!u||g<s)){let v=`${h} as next bandwidth < current bandwidth (${S} < ${E})`;return u&&(v+=` and forwardBuffer < bufferHighWaterLine (${g} < ${s})`),c(v),!0}if((!u||S>E)&&g>=i){let v=`${h} as forwardBuffer >= bufferLowWaterLine (${g} >= ${i})`;return u&&(v+=` and next bandwidth > current bandwidth (${S} > ${E})`),c(v),!0}return c(`not ${h} as no switching criteria met`),!1};class b7 extends fe.EventTarget{constructor(e){super();const{src:r,withCredentials:n,tech:i,bandwidth:s,externVhs:a,useCueTags:u,playlistExclusionDuration:c,enableLowInitialPlaylist:h,sourceType:p,cacheEncryptionKeys:g,bufferBasedABR:T,leastPixelDiffSelector:S,captionServices:E,experimentalUseMMS:v}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:C}=e;(C===null||typeof C>"u")&&(C=1/0),Hs=a,this.bufferBasedABR=!!T,this.leastPixelDiffSelector=!!S,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=p,this.useCueTags_=u,this.playlistExclusionDuration=c,this.maxPlaylistRetries=C,this.enableLowInitialPlaylist=h,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:C,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=m7(),v&&ee.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new ee.ManagedMediaSource,fe.log("Using ManagedMediaSource")):ee.MediaSource&&(this.mediaSource=new ee.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Vr(),this.hasPlayed_=!1,this.syncController_=new r7(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new s7,this.sourceUpdater_=new nD(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new n7,this.keyStatusMap_=new Map;const P={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:E,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:g,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new dy(r,this.vhs_,St(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new nu(r,this.vhs_,St(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new py(St(P,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new py(St(P,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Q9(St(P,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((U,A)=>{function B(){i.off("vttjserror",$),U()}function $(){i.off("vttjsloaded",B),A()}i.one("vttjsloaded",B),i.one("vttjserror",$),i.addWebVttScript_()})}),e);const R=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new g7(this.vhs_.xhr,R),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),y7.forEach(U=>{this[U+"_"]=_7.bind(this,U)}),this.logger_=Si("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const D=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(D,()=>{const U=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-U,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,n){const i=this.media(),s=i&&(i.id||i.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${r}`);const u={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:r};this.trigger({type:"renditionselected",metadata:u}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],n=r?r.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const a=(n.length?n[0].playlists:n.playlists).filter(u=>u.attributes.serviceLocation===i);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=ee.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(ee.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const u=n.main||i.length&&n[i[0]];for(const c in u)if(u[c].default){s={label:c};break}}if(!s)return r;const a=[];for(const u in n)if(n[u][s.label]){const c=n[u][s.label];if(c.playlists&&c.playlists.length)a.push.apply(a,c.playlists);else if(c.uri)a.push(c);else if(e.playlists.length)for(let h=0;h<e.playlists.length;h++){const p=e.playlists[h];p.attributes&&p.attributes.AUDIO&&p.attributes.AUDIO===u&&a.push(p)}}return a.length?a:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const r=this.mainPlaylistLoader_.media(),n=r.targetDuration*1.5*1e3;oy(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,r.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.mainSegmentLoader_.load()),p7({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),r),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let r=this.mainPlaylistLoader_.media();if(!r){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;r=this.initialMedia_}this.handleUpdatedMediaPlaylist(r)}),this.mainPlaylistLoader_.on("error",()=>{const r=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const r=this.mainPlaylistLoader_.media(),n=r.targetDuration*1.5*1e3;oy(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const r=this.mainPlaylistLoader_.media();if(r.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(r)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(r=>{this.mainPlaylistLoader_.on(r,n=>{this.player_.trigger(z({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const n=e.mediaGroups||{};let i=!0;const s=Object.keys(n.AUDIO);for(const a in n.AUDIO)for(const u in n.AUDIO[a])n.AUDIO[a][u].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Hs.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(n.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return x7({buffered:a,currentTime:n,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const n=this.audioSegmentLoader_.pendingSegment_;if(!n||!n.segment||!n.segment.syncInfo)return;const i=n.segment.syncInfo.end+.01;this.tech_.setCurrentTime(i)}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:v7}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,i=>{this.player_.trigger(z({},i))}),this.audioSegmentLoader_.on(n,i=>{this.player_.trigger(z({},i))}),this.subtitleSegmentLoader_.on(n,i=>{this.player_.trigger(z({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const n=r.end(0);let i=n;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(n+s,r.start(0)):i=Math.min(n,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=Hs.Playlist.playlistEnd(e,n),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return i-s<=us;const u=a.end(a.length-1);return u-s<=us&&i-u<=us}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(Dm),a=s.length===1&&s[0]===e;if(i.length===1&&n!==1/0)return fe.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const E=this.pathwayAttribute_(e),v=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(E),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(E)},v);return}let S=!1;i.forEach(E=>{if(E===e)return;const v=E.excludeUntil;typeof v<"u"&&v!==1/0&&(S=!0,delete E.excludeUntil)}),S&&(fe.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let u;e.playlistErrors_>this.maxPlaylistRetries?u=1/0:u=Date.now()+n*1e3,e.excludeUntil=u,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const c=this.selectPlaylist();if(!c){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const h=r.internal?this.logger_:fe.log.warn,p=r.message?" "+r.message:"";h(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${p} Switching to playlist ${c.id}.`),c.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),c.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const g=c.targetDuration/2*1e3||5*1e3,T=typeof c.lastRequest=="number"&&Date.now()-c.lastRequest<=g;return this.switchMedia_(c,"exclude",a||T)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const u=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;u&&n.push(u)}),["main","audio","subtitle"].forEach(a=>{const u=this[`${a}SegmentLoader_`];u&&(e===a||e==="all")&&n.push(u)}),n.forEach(a=>r.forEach(u=>{typeof a[u]=="function"&&a[u]()}))}setCurrentTime(e){const r=ru(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Hs.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let n=this.syncController_.getExpiredTime(r,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,s=Hs.Playlist.seekable(r,n,Hs.Playlist.liveEdgeDelay(i,r));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(r,this.duration()),n===null||(e=Hs.Playlist.seekable(r,n,Hs.Playlist.liveEdgeDelay(i,r)),e.length===0)))return;let a,u;if(this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),u=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Vr([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===u)return;this.logger_(`seekable updated [${yk(this.seekable_)}]`);const c={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:c}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const r=this.tech_.buffered();let n=Hs.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(n=Math.max(n,r.end(r.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const n in r)r[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=gd(this.main(),r),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||l$),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||iT}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||iT,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(h,p)=>h?cd(p):J0(p),u={};let c;if(["video","audio"].forEach(function(h){if(i.hasOwnProperty(h)&&!a(e[h].isFmp4,i[h])){const p=e[h].isFmp4?"browser":"muxer";u[p]=u[p]||[],u[p].push(i[h]),h==="audio"&&(c=p)}}),s&&c&&r.attributes.AUDIO){const h=r.attributes.AUDIO;this.main().playlists.forEach(p=>{(p.attributes&&p.attributes.AUDIO)===h&&p!==r&&(p.excludeUntil=1/0)}),this.logger_(`excluding audio group ${h} as ${c} does not support codec(s): "${i.audio}"`)}if(Object.keys(u).length){const h=Object.keys(u).reduce((p,g)=>(p&&(p+=", "),p+=`${g} does not support codec(s): "${u[g].join(",")}"`,p),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:h},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const h=[];if(["video","audio"].forEach(p=>{const g=(ns(this.sourceUpdater_.codecs[p]||"")[0]||{}).type,T=(ns(i[p]||"")[0]||{}).type;g&&T&&g.toLowerCase()!==T.toLowerCase()&&h.push(`"${this.sourceUpdater_.codecs[p]}" -> "${i[p]}"`)}),h.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${h.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(n=>{const i=e[n];if(r.indexOf(i.id)!==-1)return;r.push(i.id);const s=gd(this.main,i),a=[];s.audio&&!J0(s.audio)&&!cd(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!J0(s.video)&&!cd(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],n=this.main().playlists,i=Ep(ns(e)),s=i2(i),a=i.video&&ns(i.video)[0]||null,u=i.audio&&ns(i.audio)[0]||null;Object.keys(n).forEach(c=>{const h=n[c];if(r.indexOf(h.id)!==-1||h.excludeUntil===1/0)return;r.push(h.id);const p=[],g=gd(this.mainPlaylistLoader_.main,h),T=i2(g);if(!(!g.audio&&!g.video)){if(T!==s&&p.push(`codec count "${T}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const S=g.video&&ns(g.video)[0]||null,E=g.audio&&ns(g.audio)[0]||null;S&&a&&S.type.toLowerCase()!==a.type.toLowerCase()&&p.push(`video codec "${S.type}" !== "${a.type}"`),E&&u&&E.type.toLowerCase()!==u.type.toLowerCase()&&p.push(`audio codec "${E.type}" !== "${u.type}"`)}p.length&&(h.excludeUntil=1/0,this.logger_(`excluding ${h.id}: ${p.join(" && ")}`))}})}updateAdCues_(e){let r=0;const n=this.seekable();n.length&&(r=n.start(0)),Z9(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=Pr.GOAL_BUFFER_LENGTH,n=Pr.GOAL_BUFFER_LENGTH_RATE,i=Math.max(r,Pr.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=Pr.BUFFER_LOW_WATER_LINE,n=Pr.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(r,Pr.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(r,Pr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*n,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return Pr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){a2(this.inbandTextTracks_,"com.apple.streaming",this.tech_),P9({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();a2(this.inbandTextTracks_,e,this.tech_),D9({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(r=>{this.contentSteeringController_.on(r,n=>{this.trigger(z({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const r=this.main();(this.contentSteeringController_.didDASHTagChange(r.uri,r.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const u of r.playlists){const c=u.attributes.serviceLocation;if(c&&(a.push(c),!s.has(c)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let s=!1;Object.keys(n).forEach(a=>{const u=n[a],c=this.pathwayAttribute_(u),h=c&&e!==c;u.excludeUntil===1/0&&u.lastExcludeReason_==="content-steering"&&!h&&(delete u.excludeUntil,delete u.lastExcludeReason_,s=!0);const g=!u.excludeUntil&&u.excludeUntil!==1/0;!i.has(u.id)&&h&&g&&(i.add(u.id),u.excludeUntil=1/0,u.lastExcludeReason_="content-steering",this.logger_(`excluding ${u.id} for ${u.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const u=this.mediaTypes_[a];if(u.activePlaylistLoader){const c=u.activePlaylistLoader.media_;c&&c.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[a,u]of n.entries())i.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(u),this.contentSteeringController_.excludePathway(a));for(const[a,u]of i.entries()){const c=n.get(a);if(!c){r.filter(p=>p.attributes["PATHWAY-ID"]===u["BASE-ID"]).forEach(p=>{this.mainPlaylistLoader_.addClonePathway(u,p)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(c,u)||(this.mainPlaylistLoader_.updateOrDeleteClone(u,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=r["URI-REPLACEMENT"].PARAMS;for(const s in n)if(n[s]!==i[s])return!1;for(const s in i)if(n[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(s=>{const a="usable",u=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,c=n.lastExcludeReason_===r&&n.excludeUntil===1/0;u?u&&c&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${s} is ${a}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==r&&(n.excludeUntil=1/0,n.lastExcludeReason_=r,this.logger_(`excluding playlist ${n.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,s=n.excludeUntil===1/0&&n.lastExcludeReason_===r;i&&s&&(delete n.excludeUntil,fe.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const s=(typeof e=="string"?e:X9(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const S7=(t,e,r)=>n=>{const i=t.main.playlists[e],s=ox(i),a=Dm(i);if(typeof n>"u")return a;n?delete i.disabled:i.disabled=!0;const u={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return n!==a&&!s&&(r(i),n?t.trigger({type:"renditionenabled",metadata:u}):t.trigger({type:"renditiondisabled",metadata:u})),n};class T7{constructor(e,r,n){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(r.attributes){const a=r.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=gd(i.main(),r),this.playlist=r,this.id=n,this.enabled=S7(e.playlists,r.id,s)}}const C7=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=Qd(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(n=>!ox(n)).map((n,i)=>new T7(t,n,n.id)):[]}},y2=["seeking","seeked","pause","playing","error"];class E7 extends fe.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Si("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,u=["main","subtitle","audio"],c={};u.forEach(p=>{c[p]={reset:()=>this.resetSegmentDownloads_(p),updateend:()=>this.checkSegmentDownloads_(p)},a[`${p}SegmentLoader_`].on("appendsdone",c[p].updateend),a[`${p}SegmentLoader_`].on("playlistupdate",c[p].reset),this.tech_.on(["seeked","seeking"],c[p].reset)});const h=p=>{["main","audio"].forEach(g=>{a[`${g}SegmentLoader_`][p]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),h("off"))},this.clearSeekingAppendCheck_=()=>h("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),h("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(y2,s),this.tech_.on("canplay",n),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(y2,s),this.tech_.off("canplay",n),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),u.forEach(p=>{a[`${p}SegmentLoader_`].off("appendsdone",c[p].updateend),a[`${p}SegmentLoader_`].off("playlistupdate",c[p].reset),this.tech_.off(["seeked","seeking"],c[p].reset)}),this.checkCurrentTimeTimeout_&&ee.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&ee.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=ee.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,n=r[`${e}SegmentLoader_`],i=n.buffered_(),s=dU(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const a={bufferedRanges:i};r.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:Oa(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+us>=r.end(r.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Vr([this.lastRecordedTime,e]));const n={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:n}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(r,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=r.end(r.length-1)),this.beforeSeekableWindow_(r,n)){const E=r.start(0);s=E+(E===r.end(0)?0:us)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${yk(r)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,u=this.tech_.buffered(),c=a.audioBuffer?a.audioBuffered():null,h=a.videoBuffer?a.videoBuffered():null,p=this.media(),g=p.partTargetDuration?p.partTargetDuration:(p.targetDuration-ls)*2,T=[c,h];for(let E=0;E<T.length;E++){if(!T[E])continue;if(ix(T[E],n)<g)return!1}const S=wf(u,n);return S.length===0?!1:(s=S.start(0)+us,this.logger_(`Buffered region starts (${S.start(0)})  just beyond seek point (${n}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),n=ru(r,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const u=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${u}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(u),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=wf(i,r);return a.length>0?(this.logger_(`Stopped at ${r} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,n,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+us;const a=!n.endList,u=typeof n.partTargetDuration=="number";return a&&(u||i)&&(s=e.end(e.length-1)+n.targetDuration*3),r>s}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:n}){if(!e)return;let i;if(e.length&&r.length){const s=ru(e,n-3),a=ru(e,n),u=ru(r,n);u.length&&!a.length&&s.length&&(i={start:s.end(0),end:u.end(0)})}else wf(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),n=this.tech_.currentTime(),i=wf(r,n);if(this.resetTimeUpdate_(),i.length===0||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+ls);const s={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,r){const n=lU(e);for(let i=0;i<n.length;i++){const s=n.start(i),a=n.end(i);if(r-s<4&&r-s>2)return{start:s,end:a}}return null}}const w7={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},aD=function(t,e){let r=0,n=0;const i=St(w7,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){n&&t.currentTime(n)},a=function(p){p!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(p),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},u=function(){if(Date.now()-r<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){fe.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),i.getSource.call(t,a)},c=function(){t.off("loadedmetadata",s),t.off("error",u),t.off("dispose",c)},h=function(p){c(),aD(t,p)};t.on("error",u),t.on("dispose",c),t.reloadSourceOnError=h},k7=function(t){aD(this,t)};var lD="3.14.2",D7="7.0.3",A7="1.3.0",I7="7.2.0",P7="4.0.2";const Kt={PlaylistLoader:nu,Playlist:Dn,utils:MU,STANDARD_PLAYLIST_SELECTOR:o2,INITIAL_PLAYLIST_SELECTOR:T9,lastBandwidthSelector:o2,movingAverageBandwidthSelector:b9,comparePlaylistBandwidth:ux,comparePlaylistResolution:x9,xhr:Mk()};Object.keys(Pr).forEach(t=>{Object.defineProperty(Kt,t,{get(){return fe.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Pr[t]},set(e){if(fe.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){fe.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Pr[t]=e}})});const uD="videojs-vhs",cD=function(t,e){const r=e.media();let n=-1;for(let i=0;i<t.length;i++)if(t[i].id===r.id){n=i;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},R7=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),cD(t,e.playlists)};Kt.canPlaySource=function(){return fe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const O7=(t,e,r)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=Ep(ns(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);const i=Cu(n.video),s=Cu(n.audio),a={};for(const u in t)a[u]={},s&&(a[u].audioContentType=s),i&&(a[u].videoContentType=i),e.contentProtection&&e.contentProtection[u]&&e.contentProtection[u].pssh&&(a[u].pssh=e.contentProtection[u].pssh),typeof t[u]=="string"&&(a[u].url=t[u]);return St(t,a)},L7=(t,e)=>t.reduce((r,n)=>{if(!n.contentProtection)return r;const i=e.reduce((s,a)=>{const u=n.contentProtection[a];return u&&u.pssh&&(s[a]={pssh:u.pssh}),s},{});return Object.keys(i).length&&r.push(i),r},[]),M7=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=r?n.concat([r]):n,s=L7(i,Object.keys(e)),a=[],u=[];return s.forEach(c=>{u.push(new Promise((h,p)=>{t.tech_.one("keysessioncreated",h)})),a.push(new Promise((h,p)=>{t.eme.initializeMediaKeys({keySystems:c},g=>{if(g){p(g);return}h()})}))}),Promise.race([Promise.all(a),Promise.race(u)])},N7=({player:t,sourceKeySystems:e,media:r,audioMedia:n})=>{const i=O7(e,r,n);return i?(t.currentSource().keySystems=i,i&&!t.eme?(fe.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},dD=()=>{if(!ee.localStorage)return null;const t=ee.localStorage.getItem(uD);if(!t)return null;try{return JSON.parse(t)}catch{return null}},B7=t=>{if(!ee.localStorage)return!1;let e=dD();e=e?St(e,t):t;try{ee.localStorage.setItem(uD,JSON.stringify(e))}catch{return!1}return e},F7=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,hD=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},fD=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},pD=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},mD=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Kt.supportsNativeHls=(function(){if(!Ie||!Ie.createElement)return!1;const t=Ie.createElement("video");return fe.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1})();Kt.supportsNativeDash=(function(){return!Ie||!Ie.createElement||!fe.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Ie.createElement("video").canPlayType("application/dash+xml"))})();Kt.supportsTypeNatively=t=>t==="hls"?Kt.supportsNativeHls:t==="dash"?Kt.supportsNativeDash:!1;Kt.isSupported=function(){return fe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Kt.xhr.onRequest=function(t){hD(Kt.xhr,t)};Kt.xhr.onResponse=function(t){fD(Kt.xhr,t)};Kt.xhr.offRequest=function(t){pD(Kt.xhr,t)};Kt.xhr.offResponse=function(t){mD(Kt.xhr,t)};const $7=fe.getComponent("Component");class gD extends $7{constructor(e,r,n){if(super(r,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=Si("VhsHandler"),r.options_&&r.options_.playerId){const i=fe.getPlayer(r.options_.playerId);this.player_=i}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Ie,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=Ie.fullscreenElement||Ie.webkitFullscreenElement||Ie.mozFullScreenElement||Ie.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=St(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=dD();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Pr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Pr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=F7(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Kt,this.options_.sourceType=jE(r),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new b7(this.options_);const n=St({liveRangeSafeTimeDelta:us},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new E7(n),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=fe.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const i=this.options_.bufferBasedABR?Kt.movingAverageBandwidthSelector(.55):Kt.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=Kt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=ee.navigator.connection||ee.navigator.mozConnection||ee.navigator.webkitConnection,u=1e7;if(this.options_.useNetworkInformationApi&&a){const c=a.downlink*1e3*1e3;c>=u&&s>=u?s=Math.max(s,c):s=c}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){fe.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Oa(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Oa(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&B7({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{C7(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=ee.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),M7({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=N7({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=fe.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{R7(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{cD(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":lD,"mux.js":D7,"mpd-parser":A7,"m3u8-parser":I7,"aes-decrypter":P7}}version(){return this.constructor.version()}canChangeType(){return nD.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&ee.URL.revokeObjectURL&&(ee.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return zU({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,n=!0,i=2){return jk({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{hD(this.xhr,e)},this.xhr.onResponse=e=>{fD(this.xhr,e)},this.xhr.offRequest=e=>{pD(this.xhr,e)},this.xhr.offResponse=e=>{mD(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],r=["gapjumped","playedrangeschanged"];e.forEach(n=>{this.playlistController_.on(n,i=>{this.player_.trigger(z({},i))})}),r.forEach(n=>{this.playbackWatcher_.on(n,i=>{this.player_.trigger(z({},i))})})}}const Dp={name:"videojs-http-streaming",VERSION:lD,canHandleSource(t,e={}){const r=St(fe.options,e);return!r.vhs.experimentalUseMMS&&!cd("avc1.4d400d,mp4a.40.2",!1)?!1:Dp.canPlayType(t.type,r)},handleSource(t,e,r={}){const n=St(fe.options,r);return e.vhs=new gD(t,e,n),e.vhs.xhr=Mk(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=jE(t);if(!r)return"";const n=Dp.getOverrideNative(e);return!Kt.supportsTypeNatively(r)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(fe.browser.IS_ANY_SAFARI||fe.browser.IS_IOS),{overrideNative:n=r}=e;return n}},j7=()=>cd("avc1.4d400d,mp4a.40.2",!0);j7()&&fe.getTech("Html5").registerSourceHandler(Dp,0);fe.VhsHandler=gD;fe.VhsSourceHandler=Dp;fe.Vhs=Kt;fe.use||fe.registerComponent("Vhs",Kt);fe.options.vhs=fe.options.vhs||{};(!fe.getPlugin||!fe.getPlugin("reloadSourceOnError"))&&fe.registerPlugin("reloadSourceOnError",k7);const cx=t=>{const{options:e,onReady:r}=t,n=N.useRef(null),i=N.useRef(null);return N.useEffect(()=>{if(i.current){const s=i.current;if(s.currentSrc()===e.sources[0].src){fe.log("not changed source");return}s.options(e),s.updateSourceCaches_(e.sources),s.poster(e.poster),s.src(e.sources)}else{if(!n.current)return;const s=document.createElement("video-js");s.classList.add("vjs-big-play-centered"),n.current.appendChild(s);const a=i.current=fe(s,e,()=>{fe.log("player is ready"),r&&r(a)})}},[n,e,r]),N.useEffect(()=>{const s=i.current;return()=>{s&&!s.isDisposed()&&(s.dispose(),i.current=null)}},[i]),L.jsx("div",{"data-vjs-player":!0,children:L.jsx("div",{ref:n})})},vD=t=>{const{stream:e,selected:r=!1,onStreamClick:n}=t;return L.jsxs(Jp,{sx:{margin:1,flexGrow:1,"&:hover":{boxShadow:"md",outline:"#fff solid 2px",backgroundColor:"var(--joy-palette-neutral-outlinedHoverBg, var(--joy-palette-neutral-100, #EAEEF6))"}},children:[L.jsx(ip,{children:L.jsx("img",{src:e.stream_icon,loading:"lazy",alt:""})}),L.jsx(ip,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.4), rgba(0,0,0,0) 200px), linear-gradient(to top, rgba(0,0,0,0.6), rgba(0,0,0,0) 300px)"}}),L.jsx(Zp,{sx:{justifyContent:"flex-end"},children:L.jsx(nt,{level:"body-sm",textColor:"#fff",noWrap:!0,children:L.jsx(em,{overlay:!0,underline:"none",textColor:"inherit",textOverflow:"ellipsis",onClick:()=>n(e),children:e.name})})})]})};function yD(t,e){var i,s;const r=Vt(sm);return`${Vt(E_)}/movie/${(i=r.user_info)==null?void 0:i.username}/${(s=r.user_info)==null?void 0:s.password}/${t}.${e}`}function _D(t,e){var i,s;const r=Vt(sm);return`${Vt(E_)}/series/${(i=r.user_info)==null?void 0:i.username}/${(s=r.user_info)==null?void 0:s.password}/${t}.${e}`}function U7(t,e){var i,s;const r=Vt(sm);return`${Vt(E_)}/live/${(i=r.user_info)==null?void 0:i.username}/${(s=r.user_info)==null?void 0:s.password}/${t}.${e}`}const z7=()=>{const t=Vt(LE),e=Vt(AF),[r,n]=N.useState(void 0),[i,s]=N.useState(void 0),[a,u]=T_(),c=N.useRef(null),h=U7((r==null?void 0:r.stream_id)??0,"m3u8");console.log(t),console.log(r);const p=a.get("channel");N.useEffect(()=>{const v=e.find(C=>C.category_id!==void 0);if(p){const C=t.find(P=>P.stream_id===Number(p));if(C){n(C);const P=e.find(R=>R.category_id===C.category_id);s(P||v)}return}s(v),n(t.filter(C=>C.category_id===(v==null?void 0:v.category_id)).find(C=>C!==void 0))},[p,e,t]);const g=v=>{v.stream_id!==void 0&&u(C=>(C.set("channel",v.stream_id.toString()),C))},T=N.useCallback(()=>t.filter(v=>v.category_id===(i==null?void 0:i.category_id)),[t,i]),S=N.useCallback(()=>({autoplay:!0,preload:"true",controls:!0,responsive:!0,fluid:!0,sources:[{src:h,type:ky("m3u8")}]}),[h]),E=v=>{c.current=v,v.on("error",C=>{console.log(C)}),v.on("waiting",()=>{fe.log("player is waiting")}),v.on("dispose",()=>{fe.log("player will dispose")})};return L.jsxs(Or,{sx:{maxHeight:"100vh",maxWidth:"100vw",height:"100%",width:"100%"},children:[L.jsx(sp,{maxWidth:"lg",children:L.jsx(cx,{options:S(),onReady:E})}),L.jsxs(sp,{maxWidth:"xl",children:[L.jsx(Ed,{variant:"outlined",orientation:"horizontal",sx:{borderRadius:"sm",overflow:"auto"},children:e.map(v=>L.jsx(Su,{children:L.jsxs(p_,{onClick:()=>s(v),selected:i===v,children:[L.jsx(jv,{children:v.category_name}),L.jsx(LF,{})]})},v.category_id))}),L.jsx(Ed,{variant:"outlined",orientation:"vertical",sx:{borderRadius:"sm",overflow:"auto",maxHeight:"500px"},children:T().map(v=>L.jsx(Su,{children:L.jsx(jv,{children:L.jsxs(Xn,{container:!0,sx:{"--Grid-borderWidth":"1px",borderTop:"var(--Grid-borderWidth) solid",borderBottom:"var(--Grid-borderWidth) solid",borderColor:"divider","& > div":{borderRight:"var(--Grid-borderWidth) solid",borderColor:"divider"},gap:0},children:[L.jsx(Xn,{sm:2,children:L.jsx(vD,{stream:v,onStreamClick:C=>g(C),selected:r===v})}),L.jsx(Xn,{sm:10,children:L.jsx("div",{children:"stuff here"})})]})})},v.stream_id))})]})]})},H7=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[i,s]=N.useState(""),[a,u]=N.useState(""),c=qd(),[h,p]=N.useState("idle"),g=[t,r,i].every(Boolean)&&h==="idle",T=async()=>{if(!i||!i.toLocaleLowerCase().startsWith("http")){u("Invalid url");return}if(!t||t.length===0){u("Username must be provided");return}if(!r||r.length===0){u("Password must be provided");return}if(window.location.protocol==="https:"&&!i.toLocaleLowerCase().startsWith("https")){u("You must provide an https url when connecting from an https client");return}p("pending");const S={baseUrl:i,auth:{username:t,password:r}};try{await c(Ip({config:S})).unwrap()}catch{u("There was an error logging in"),p("idle");return}p("loading"),c(pP(S));try{await Promise.all([c(Ry()).unwrap(),c(Oy()).unwrap(),c(Ly()).unwrap(),c(By()).unwrap(),c(Ny()).unwrap(),c(My()).unwrap()])}catch(E){console.log(E)}c(mP("ready"))};return L.jsx("main",{children:L.jsxs(tm,{sx:{width:300,mx:"auto",my:4,py:3,px:2,display:"flex",flexDirection:"column",gap:2,borderRadius:"sm",boxShadow:"md",bgcolor:"background.appBody"},variant:"outlined",children:[L.jsxs("div",{children:[L.jsx(nt,{level:"h4",component:"h1",children:L.jsx("b",{children:"Welcome!"})}),L.jsx(nt,{level:"body-sm",children:"Sign in to continue."})]}),a&&a.length>0&&L.jsx(V5,{color:"danger",variant:"solid",children:a}),L.jsxs(O0,{children:[L.jsx(L0,{children:"Url"}),L.jsx(Bf,{name:"url",type:"input",placeholder:"http://my-url:port",value:i,onChange:S=>s(S.target.value)})]}),L.jsxs(O0,{children:[L.jsx(L0,{children:"Username"}),L.jsx(Bf,{name:"username",type:"username",placeholder:"username",value:t,onChange:S=>e(S.target.value)})]}),L.jsxs(O0,{children:[L.jsx(L0,{children:"Password"}),L.jsx(Bf,{name:"password",type:"password",placeholder:"password",value:r,onChange:S=>n(S.target.value)})]}),L.jsxs(Mi,{sx:{mt:1},loading:h!=="idle",loadingPosition:"start",onClick:T,disabled:!g,children:[h==="idle"&&L.jsx(L.Fragment,{children:"Log in"}),h==="pending"&&L.jsx(L.Fragment,{children:"Submitting"}),h==="loading"&&L.jsx(L.Fragment,{children:"Performing initial load"})]})]})})},dx=()=>L.jsx("main",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:"flex-grow",marginTop:50},children:L.jsx(Qp,{size:"lg"})}),V7=t=>{const{id:e}=t;return L.jsx("div",{style:{position:"relative",overflow:"hidden",width:"100%",paddingTop:"56.25%"},children:L.jsx("iframe",{src:`https://www.youtube-nocookie.com/embed/${e}?si=p5bOlROHFbkRXQw-`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%"}})})},xD=t=>{var v,C,P,R,D,U,A,B,$;const{vod:e,playButton:r}=t,[n,i]=N.useState(void 0),[s,a]=N.useState(!1),[u,c]=N.useState("loading"),h=Vt(C_),p=qd(),g=yD((e==null?void 0:e.stream_id)??0,(e==null?void 0:e.container_extension)??"");if(N.useEffect(()=>{!e||!e.stream_id||p(dP({vodId:e.stream_id})).unwrap().then(W=>{i(W),c("ready")}).catch(W=>{console.log(W),c("error")})},[p,e]),u==="loading")return L.jsx(dx,{});const T=()=>{e.stream_id!==void 0&&(h.find(W=>W.id===e.stream_id&&W.type==="vod")?p(sC({id:e.stream_id,type:"vod"})):p(oC({id:e.stream_id,type:"vod"})))},S=async()=>{await H2(g)},E=s&&((v=n==null?void 0:n.info)==null?void 0:v.youtube_trailer);return L.jsxs(Xn,{container:!0,spacing:1,columns:12,sx:{flexGrow:1,justifyContent:"center",marginTop:5},children:[L.jsxs(Xn,{xs:12,sm:12,md:5,justifyContent:"center",alignContent:"center",children:[E&&L.jsx(V7,{id:((C=n==null?void 0:n.info)==null?void 0:C.youtube_trailer)??""}),!E&&L.jsx(fE,{objectFit:"contain",variant:"plain",children:L.jsx("img",{src:e.stream_icon,alt:""})})]}),L.jsx(Xn,{xs:12,sm:12,md:7,children:L.jsxs("div",{style:{justifyContent:"center"},children:[u==="ready"&&L.jsxs(L.Fragment,{children:[L.jsx(nt,{level:"body-lg",marginBottom:1,children:(P=n==null?void 0:n.info)==null?void 0:P.plot}),L.jsxs(nt,{children:[L.jsx("b",{children:"Release Date:"})," ",(R=n==null?void 0:n.info)==null?void 0:R.releasedate]}),L.jsxs(nt,{children:[L.jsx("b",{children:"Duration:"})," ",(D=n==null?void 0:n.info)==null?void 0:D.duration]}),L.jsxs(nt,{children:[L.jsx("b",{children:"Genre:"})," ",(U=n==null?void 0:n.info)==null?void 0:U.genre]}),L.jsxs(nt,{children:[L.jsx("b",{children:"Directed By:"})," ",(A=n==null?void 0:n.info)==null?void 0:A.director]}),L.jsxs(nt,{children:[L.jsx("b",{children:"Cast:"})," ",(B=n==null?void 0:n.info)==null?void 0:B.cast]})]}),u==="error"&&L.jsx(nt,{level:"body-lg",marginBottom:1,children:"There was an error loading information for that title"}),L.jsxs(v_,{sx:{margin:5},spacing:"0.5rem",children:[L.jsx(Mi,{variant:"solid",color:"neutral",onClick:()=>a(W=>!W),disabled:!n||!(($=n.info)!=null&&$.youtube_trailer),children:"Watch Trailer"}),L.jsx(Mi,{variant:"solid",color:"primary",onClick:T,children:h.find(W=>W.id===e.stream_id&&W.type==="vod")?"Remove from Watchlist":"Add to Watchlist"}),r!==void 0&&r,L.jsx(Mi,{variant:"soft",color:"neutral",onClick:()=>S(),children:"Copy Video Url"})]})]})})]})};function q7(t,e,r,n,i){const[s,a]=N.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return ps(()=>{let u=!0;if(!r)return;const c=r(t),h=()=>{u&&a(c.matches)};return h(),c.addListener(h),()=>{u=!1,c.removeListener(h)}},[t,r]),s}const bD=N.useSyncExternalStore;function W7(t,e,r,n,i){const s=N.useCallback(()=>e,[e]),a=N.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:p}=n(t);return()=>p}return s},[s,t,n,i,r]),[u,c]=N.useMemo(()=>{if(r===null)return[s,()=>()=>{}];const p=r(t);return[()=>p.matches,g=>(p.addListener(g),()=>{p.removeListener(g)})]},[s,r,t]);return bD(c,u,a)}function Mo(t,e={}){const r=Wy(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=n?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:u=!1}=OC({name:"MuiUseMediaQuery",props:e,theme:r});let c=typeof t=="function"?t(r):t;return c=c.replace(/^@media( ?)/m,""),(bD!==void 0?W7:q7)(c,i,s,a,u)}function SD(){const t=$d(y_);return t[__]||t}var Yc={},_2;function G7(){if(_2)return Yc;_2=1;var t=ti();Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");return Yc.default=n,Yc}var K7=G7();const TD=mr(K7);var Qc={},x2;function X7(){if(x2)return Qc;x2=1;var t=ti();Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");return Qc.default=n,Qc}var Y7=X7();const CD=mr(Y7),Q7=t=>{const{episodes:e,onEpisodeClick:r,activeEpisode:n}=t,[i,s]=N.useState(0),a=SD(),u=Mo(a.breakpoints.up("sm")),c=Mo(a.breakpoints.up("md")),h=Mo(a.breakpoints.up("lg")),p=Mo(a.breakpoints.up("xl")),g=N.useCallback(()=>p?5:h?4:c?3:u?2:1,[h,u,p,c]),T=N.useMemo(()=>e.slice(i*g(),i*g()+g()),[i,e,g]),S=()=>{i!==0&&s(P=>P-1)},E=()=>{i*g()+g()>=e.length-1||s(R=>R+1)},v=i*g()+g()<e.length-1,C=i>0;return console.log(e),L.jsxs("div",{style:{display:"flex",flexGrow:1,flexWrap:"nowrap",height:"90%",marginBottom:5},children:[L.jsx(Bi,{variant:"outlined",size:"sm",onClick:S,sx:{marginY:5,marginX:0,display:"inline-flex",width:"auto",flexGrow:0},disabled:!C,children:L.jsx(TD,{})}),L.jsx(Or,{sx:{display:"grid",gridTemplateColumns:{xl:"1fr 1fr 1fr 1fr 1fr",lg:"1fr 1fr 1fr 1fr",md:"1fr 1fr 1fr",sm:"minmax(100px, 1fr) minmax(100px, 1fr)",xs:"minmax(100px, 1fr)"},gridTemplateRows:"1fr",flexGrow:1,columnGap:5,rowGap:5,wrap:"nowrap",width:"100%"},children:T.map(P=>L.jsx(Jp,{sx:{margin:1,flexGrow:1,"&:hover":{boxShadow:"md",backgroundColor:"var(--joy-palette-neutral-outlinedHoverBg, var(--joy-palette-neutral-100, #EAEEF6))"},outline:n===P?"#fff solid 2px":""},children:L.jsxs(Zp,{children:[L.jsx("div",{children:L.jsx(nt,{level:"title-lg",textOverflow:"ellipsis",overflow:"clip",children:L.jsx(em,{overlay:!0,underline:"none",textColor:"inherit",textOverflow:"ellipsis",onClick:()=>r(P),children:P.title})})}),L.jsx("div",{style:{height:"100%",justifyContent:"flex-end",alignContent:"flex-end",display:"flex"},children:L.jsxs(nt,{level:"body-sm",textColor:"neutral.300",justifySelf:"flex-end",alignSelf:"flex-end",display:"flex",children:["S",P.season,":E",P.episode_num]})})]})},P.episode_num))}),L.jsx(Bi,{variant:"outlined",size:"sm",onClick:E,sx:{marginY:5,display:"inline-flex"},disabled:!v,children:L.jsx(CD,{})})]})},ED=t=>{var R,D,U,A,B,$,W,O;const{series:e,onSelectEpisode:r,playButton:n,selectedEpisode:i}=t,[s,a]=N.useState("loading"),[u,c]=N.useState(void 0),[h,p]=N.useState(void 0),g=qd(),T=Vt(C_),S=_D((i==null?void 0:i.id)??0,(i==null?void 0:i.container_extension)??"");N.useEffect(()=>{!e||!e.series_id||g(hP({seriesId:e.series_id})).unwrap().then(M=>{c(M),a("ready"),console.log(M)}).catch(M=>{console.log(M),a("error")})},[g,e]);const E=M=>{r&&r(M)},v=()=>{e.series_id!==void 0&&(T.find(M=>M.id===e.series_id&&M.type==="series")?g(sC({id:e.series_id,type:"series"})):g(oC({id:e.series_id,type:"series"})))},C=N.useCallback(()=>{const M=[];if(!u)return M;if(u.seasons&&u.seasons.length>0)return u.seasons;if(!u.episodes)return M;const X=Object.keys(u.episodes);for(const re of X)M.push({season_number:Number(re),episode_count:u.episodes[re].length,name:`Season ${re}`});return M},[u]);N.useEffect(()=>{const M=C().find(X=>X.season_number!==void 0);p(M)},[C]);const P=async()=>{await H2(S)};return s==="loading"?L.jsx(dx,{}):L.jsxs(Xn,{container:!0,spacing:1,columns:12,sx:{flexGrow:1,justifyContent:"center",marginTop:5},children:[L.jsx(Xn,{xs:12,sm:12,md:5,justifyContent:"center",alignContent:"center",children:L.jsx(fE,{objectFit:"contain",variant:"plain",children:L.jsx("img",{src:e.cover,alt:""})})}),L.jsx(Xn,{xs:12,sm:12,md:7,children:s==="ready"&&L.jsxs("div",{style:{justifyContent:"center"},children:[L.jsx(nt,{level:"body-lg",marginBottom:1,children:(R=u==null?void 0:u.info)==null?void 0:R.plot}),L.jsxs(nt,{children:[L.jsx("b",{children:"Release Date:"})," ",(D=u==null?void 0:u.info)==null?void 0:D.releaseDate]}),L.jsxs(nt,{children:[L.jsx("b",{children:"Episode Duration:"})," ",(U=u==null?void 0:u.info)==null?void 0:U.episode_run_time]}),L.jsxs(nt,{children:[L.jsx("b",{children:"Genre:"})," ",(A=u==null?void 0:u.info)==null?void 0:A.genre]}),L.jsxs(nt,{children:[L.jsx("b",{children:"Directed By:"})," ",(B=u==null?void 0:u.info)==null?void 0:B.director]}),L.jsxs(nt,{children:[L.jsx("b",{children:"Cast:"})," ",($=u==null?void 0:u.info)==null?void 0:$.cast]}),L.jsxs(v_,{sx:{margin:5},spacing:"0.5rem",children:[L.jsxs(J3,{children:[L.jsx(aB,{endDecorator:L.jsx(OF,{}),variant:"soft",children:L.jsxs(L.Fragment,{children:["Season ",h==null?void 0:h.season_number]})}),L.jsx(ZN,{sx:{minWidth:100,"--ListItemDecorator-size":"14px",zIndex:9999},variant:"soft",children:C().map(M=>L.jsx(fB,{sx:{justifyContent:"center"},selected:h===M,onClick:()=>p(M),children:M.season_number},M.season_number))})]}),L.jsx(Mi,{variant:"solid",color:"primary",onClick:v,children:T.find(M=>M.id===e.series_id&&M.type==="series")?"Remove from Watchlist":"Add to Watchlist"}),n!==void 0&&n,i&&L.jsx(Mi,{variant:"soft",color:"neutral",onClick:()=>P(),children:`Copy S${h==null?void 0:h.season_number}E${i==null?void 0:i.episode_num} Video Url`})]})]})}),L.jsx(Xn,{xs:12,sm:12,md:12,justifyContent:"center",alignContent:"center",children:s==="ready"&&(u==null?void 0:u.episodes)&&h&&L.jsxs(L.Fragment,{children:[L.jsx(nt,{component:"h3",id:"modal-title",level:"h4",textColor:"inherit",fontWeight:"md",justifyContent:"center",display:"flex",children:"Episodes"}),L.jsx(Q7,{episodes:(u==null?void 0:u.episodes[((W=h.season_number)==null?void 0:W.toString())??"1"])??[],onEpisodeClick:E,activeEpisode:i})]})}),i&&L.jsxs(Xn,{xs:12,sm:12,md:12,children:[L.jsxs(nt,{component:"h3",id:"modal-title",level:"h4",textColor:"inherit",fontWeight:"md",justifyContent:"center",display:"flex",children:["S",i.season,":E",i.episode_num," Plot"]}),L.jsx(nt,{children:(O=i.info)==null?void 0:O.plot})]})]})},Am=t=>{const{onClose:e,stream:r}=t,n=zu(),[i,s]=N.useState(void 0),a=()=>{if(wv(r)){if(r.stream_id===void 0)return;n(Ir.movieWatch.replace(":id",r.stream_id.toString()))}else{if(r.series_id===void 0)return;n(Ir.seriesWatch.replace(":id",r.series_id.toString()))}};return L.jsx(CN,{open:!0,onClose:e,sx:{overflow:"auto"},children:L.jsxs(Or,{sx:{minWidth:300,borderRadius:"md",p:3},children:[L.jsx(_B,{variant:"outlined"}),L.jsx(nt,{component:"h2",id:"modal-title",level:"h4",textColor:"inherit",fontWeight:"lg",justifyContent:"center",display:"flex",children:r==null?void 0:r.name}),wv(r)?L.jsx(xD,{vod:r,playButton:L.jsx(Mi,{variant:"solid",color:"success",onClick:a,children:"Play"})}):L.jsx(ED,{series:r,playButton:L.jsx(Mi,{variant:"solid",color:"success",onClick:a,children:"Play"}),selectedEpisode:i,onSelectEpisode:u=>s(u)})]})})};function eu(t,e,r){let n=r.initialDeps??[],i;return()=>{var s,a,u,c;let h;r.key&&((s=r.debug)!=null&&s.call(r))&&(h=Date.now());const p=t();if(!(p.length!==n.length||p.some((S,E)=>n[E]!==S)))return i;n=p;let T;if(r.key&&((a=r.debug)!=null&&a.call(r))&&(T=Date.now()),i=e(...p),r.key&&((u=r.debug)!=null&&u.call(r))){const S=Math.round((Date.now()-h)*100)/100,E=Math.round((Date.now()-T)*100)/100,v=E/16,C=(P,R)=>{for(P=String(P);P.length<R;)P=" "+P;return P};console.info(`%c ${C(E,5)} /${C(S,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(c=r==null?void 0:r.onChange)==null||c.call(r,i),i}}function _v(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const J7=(t,e)=>Math.abs(t-e)<1,Z7=(t,e,r)=>{let n;return function(...i){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,i),r)}},ez=t=>t,tz=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let i=e;i<=r;i++)n.push(i);return n},rz=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const i=a=>{const{width:u,height:c}=a;e({width:Math.round(u),height:Math.round(c)})};if(i(r.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(a=>{const u=a[0];if(u!=null&&u.borderBoxSize){const c=u.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(r.getBoundingClientRect())});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},b2={passive:!0},nz=typeof window>"u"?!0:"onscrollend"in window,iz=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let i=0;const s=nz?()=>{}:Z7(n,()=>{e(i,!1)},t.options.isScrollingResetDelay),a=h=>()=>{const{horizontal:p,isRtl:g}=t.options;i=p?r.scrollLeft*(g&&-1||1):r.scrollTop,s(),e(i,h)},u=a(!0),c=a(!1);return c(),r.addEventListener("scroll",u,b2),r.addEventListener("scrollend",c,b2),()=>{r.removeEventListener("scroll",u),r.removeEventListener("scrollend",c)}},sz=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},oz=(t,{adjustments:e=0,behavior:r},n)=>{var i,s;const a=t+e;(s=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[n.options.horizontal?"left":"top"]:a,behavior:r})};class az{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var s;return(s=n())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=n())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ez,rangeExtractor:tz,onChange:()=>{},measureElement:sz,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=eu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,s=new Map;for(let a=n-1;a>=0;a--){const u=r[a];if(i.has(u.lane))continue;const c=s.get(u.lane);if(c==null||u.end>c.end?s.set(u.lane,u):u.end<c.end&&i.set(u.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,u)=>a.end===u.end?a.index-u.index:a.end-u.end)[0]:void 0},this.getMeasurementOptions=eu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,i,s,a)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:a}),{key:!1}),this.getMeasurements=eu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:a},u)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const h=this.measurementsCache.slice(0,c);for(let p=c;p<r;p++){const g=s(p),T=this.options.lanes===1?h[p-1]:this.getFurthestMeasurement(h,p),S=T?T.end+this.options.gap:n+i,E=u.get(g),v=typeof E=="number"?E:this.options.estimateSize(p),C=S+v,P=T?T.lane:p%this.options.lanes;h[p]={index:p,start:S,size:v,end:C,key:g,lane:P}}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=eu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(r,n,i)=>this.range=r.length>0&&n>0?lz({measurements:r,outerSize:n,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=eu(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(r,n,i,s)=>n===null?[]:r({startIndex:n.startIndex,endIndex:n.endIndex,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),s=this.measurementsCache[i];if(!s)return;const a=s.key,u=this.elementsCache.get(a);u!==r&&(u&&this.observer.unobserve(u),this.observer.observe(r),this.elementsCache.set(a,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,a=n-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,a,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=eu(()=>[this.getIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let s=0,a=r.length;s<a;s++){const u=r[s],c=n[u];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return _v(n[wD(0,n.length-1,i=>_v(n[i]).start,r)])},this.getOffsetForAlignment=(r,n)=>{const i=this.getSize(),s=this.getScrollOffset();n==="auto"&&(r<=s?n="start":r>=s+i?n="end":n="start"),n==="start"?r=r:n==="end"?r=r-i:n==="center"&&(r=r-i/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-i;return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const s=this.getSize(),a=this.getScrollOffset();if(n==="auto")if(i.end>=a+s-this.options.scrollPaddingEnd)n="end";else if(i.start<=a+this.options.scrollPaddingStart)n="start";else return[a,n];const u=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(u,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(r,n);if(!s)return;const[a,u]=s;this._scrollToOffset(a,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const[h]=_v(this.getOffsetForIndex(r,u));J7(h,this.getScrollOffset())||this.scrollToIndex(r,{align:u,behavior:i})}else this.scrollToIndex(r,{align:u,behavior:i})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;return n.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((r=n[n.length-1])==null?void 0:r.end)??0:Math.max(...n.slice(-this.options.lanes).map(s=>s.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const wD=(t,e,r,n)=>{for(;t<=e;){const i=(t+e)/2|0,s=r(i);if(s<n)t=i+1;else if(s>n)e=i-1;else return i}return t>0?t-1:0};function lz({measurements:t,outerSize:e,scrollOffset:r}){const n=t.length-1,s=wD(0,n,u=>t[u].start,r);let a=s;for(;a<n&&t[a].end<r+e;)a++;return{startIndex:s,endIndex:a}}const uz=typeof document<"u"?N.useLayoutEffect:N.useEffect;function cz(t){const e=N.useReducer(()=>({}),{})[1],r={...t,onChange:(i,s)=>{var a;s?vy.flushSync(e):e(),(a=t.onChange)==null||a.call(t,i,s)}},[n]=N.useState(()=>new az(r));return n.setOptions(r),N.useEffect(()=>n._didMount(),[]),uz(()=>n._willUpdate()),n}function dz(t){return cz({observeElementRect:rz,observeElementOffset:iz,scrollToFn:oz,...t})}const kD=t=>{const{stream:e,onStreamClick:r}=t;return L.jsxs(Jp,{sx:{margin:1,flexGrow:1,height:"100%","&:hover":{boxShadow:"md",outline:"#fff solid 2px",backgroundColor:"var(--joy-palette-neutral-outlinedHoverBg, var(--joy-palette-neutral-100, #EAEEF6))"}},children:[L.jsx(ip,{children:L.jsx("img",{src:wv(e)?e.stream_icon:e.cover,loading:"lazy",alt:""})}),L.jsx(ip,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.4), rgba(0,0,0,0) 200px), linear-gradient(to top, rgba(0,0,0,0.8), rgba(0,0,0,0) 300px)"}}),L.jsx(Zp,{sx:{justifyContent:"flex-end",height:40},children:L.jsxs("div",{style:{display:"grid",gridTemplateRows:"30px 10px"},children:[L.jsx(nt,{level:"title-lg",textColor:"#fff",noWrap:!0,children:L.jsx(em,{overlay:!0,underline:"none",textColor:"inherit",textOverflow:"ellipsis",onClick:()=>r(e),children:e.name})}),L.jsxs(nt,{level:"body-sm",textColor:"neutral.300",children:[e.rating,"/10"]})]})})]})},Uf=t=>{const{items:e,onStreamClick:r}=t,[n,i]=N.useState(0),s=SD(),a=Mo(s.breakpoints.up("sm")),u=Mo(s.breakpoints.up("md")),c=Mo(s.breakpoints.up("lg")),h=Mo(s.breakpoints.up("xl")),p=N.useCallback(()=>h?5:c?4:u?3:a?2:1,[c,a,h,u]),g=N.useMemo(()=>e.slice(n*p(),n*p()+p()),[n,e,p]),T=()=>{n!==0&&i(C=>C-1)},S=()=>{n*p()+p()>=e.length-1||i(P=>P+1)},E=n*p()+p()<e.length-1,v=n>0;return L.jsxs("div",{style:{display:"flex",flexGrow:1,flexWrap:"nowrap",height:"90%",marginBottom:5},children:[L.jsx(Bi,{variant:"outlined",size:"sm",onClick:T,sx:{marginY:5,marginX:0,display:"inline-flex",width:"auto",flexGrow:0},disabled:!v,children:L.jsx(TD,{})}),L.jsx(Or,{sx:{display:"grid",gridTemplateColumns:{xl:"1fr 1fr 1fr 1fr 1fr",lg:"1fr 1fr 1fr 1fr",md:"1fr 1fr 1fr",sm:"minmax(100px, 1fr) minmax(100px, 1fr)",xs:"minmax(100px, 1fr)"},gridTemplateRows:"1fr",flexGrow:1,columnGap:5,rowGap:5,wrap:"nowrap",width:"100%"},children:g.map(C=>z2(C)?L.jsx(vD,{stream:C,onStreamClick:r}):L.jsx(kD,{onStreamClick:r,stream:C},qI(C)?C.series_id:C.stream_id))}),L.jsx(Bi,{variant:"outlined",size:"sm",onClick:S,sx:{marginY:5,display:"inline-flex"},disabled:!E,children:L.jsx(CD,{})})]})},DD=t=>{const e=N.useRef(null),{categories:r,streams:n,onStreamClick:i}=t,s=dz({count:r.length,getScrollElement:()=>e.current,estimateSize:()=>350,overscan:5,paddingEnd:50});return L.jsx("div",{ref:e,style:{height:"100%",overflow:"auto",marginLeft:-16,marginRight:-16},children:L.jsx("div",{style:{height:`${s.getTotalSize()}px`,width:"100%",position:"relative"},children:s.getVirtualItems().map(a=>{const u=r[a.index];return L.jsxs("div",{style:{position:"absolute",top:0,left:0,height:`${a.size}px`,width:"100%",transform:`translateY(${a.start}px)`},children:[L.jsx(nt,{level:"title-lg",justifyContent:"center",display:"flex",children:u.category_name}),L.jsx(Uf,{items:n.filter(c=>c.category_id===u.category_id),onStreamClick:i})]},a.index)})})})},hz=()=>{const t=Vt(IF),e=Vt(om),[r,n]=N.useState(void 0),i=s=>{console.log(s),n(s)};return L.jsxs(L.Fragment,{children:[r&&L.jsx(Am,{onClose:()=>n(void 0),stream:r}),L.jsx(DD,{categories:t,streams:e,onStreamClick:i})]})},fz=()=>{const{id:t}=AE(),e=Vt(om),[r,n]=N.useState(void 0),i=N.useRef(null);N.useEffect(()=>{const c=e.find(h=>h.stream_id===Number(t));c&&n(c)},[t,e]);const a={autoplay:!1,controls:!0,responsive:!0,fluid:!0,fill:!0,sources:[{src:yD((r==null?void 0:r.stream_id)??0,(r==null?void 0:r.container_extension)??""),type:ky((r==null?void 0:r.container_extension)??"")}],poster:r==null?void 0:r.stream_icon,preload:"none"},u=c=>{i.current=c,c.on("waiting",()=>{fe.log("player is waiting")}),c.on("dispose",()=>{fe.log("player will dispose")})};return L.jsxs(Or,{children:[r&&L.jsxs(L.Fragment,{children:[L.jsx(sp,{maxWidth:"lg",children:L.jsx(cx,{options:a,onReady:u})}),L.jsx(Or,{children:L.jsx(xD,{vod:r})})]}),!r&&L.jsx("div",{children:"There was an error loadig that title"})]})},pz=()=>{const t=Vt(am),e=Vt(PF),[r,n]=N.useState(void 0),i=s=>{console.log(s),n(s)};return L.jsxs(L.Fragment,{children:[r&&L.jsx(Am,{onClose:()=>n(void 0),stream:r}),L.jsx(DD,{categories:e,streams:t,onStreamClick:i})]})},mz=()=>{const{id:t}=AE(),e=Vt(am),[r,n]=N.useState(void 0),[i,s]=N.useState(void 0),a=N.useRef(null),u=_D((i==null?void 0:i.id)??0,(i==null?void 0:i.container_extension)??"");N.useEffect(()=>{const g=e.find(T=>T.series_id===Number(t));g&&n(g)},[t,e]);const c=N.useCallback(()=>{var g;return{autoplay:!1,preload:"none",controls:!0,responsive:!0,fluid:!0,sources:[{src:u,type:ky((i==null?void 0:i.container_extension)??"")}],poster:(g=i==null?void 0:i.info)==null?void 0:g.movie_image}},[i,u]),h=g=>{a.current=g,g.on("error",T=>{console.log(T)}),g.on("waiting",()=>{fe.log("player is waiting")}),g.on("dispose",()=>{fe.log("player will dispose")})},p=g=>{s(g)};return L.jsxs(Or,{children:[r&&L.jsxs(L.Fragment,{children:[L.jsx(Or,{sx:{height:"22px"},children:L.jsx(nt,{justifyContent:"center",alignContent:"center",textAlign:"center",children:(i==null?void 0:i.title)??r.name})}),i&&L.jsx(sp,{children:L.jsx(cx,{options:c(),onReady:h})}),L.jsx(Or,{children:L.jsx(ED,{series:r,onSelectEpisode:p,selectedEpisode:i})})]}),!r&&L.jsx("div",{children:"There was an error loadig that title"})]})};var Jc={},S2;function gz(){if(S2)return Jc;S2=1;var t=ti();Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchRounded");return Jc.default=n,Jc}var vz=gz();const yz=mr(vz),_z=()=>{const[t,e]=N.useState(""),[r,n]=T_(),i=Uu(),s=zu(),a=c=>{c.key==="Enter"&&(c.preventDefault(),c.stopPropagation(),u())},u=()=>{if(console.log("searching "+t),i.pathname!==Ir.search){s({pathname:Ir.search,search:sd.stringify({query:t})});return}n(c=>(c.set("query",t),c))};return L.jsx(Bf,{size:"sm",variant:"outlined",placeholder:"Search anything",startDecorator:L.jsx(yz,{color:"primary"}),endDecorator:L.jsx(Bi,{variant:"outlined",color:"neutral",onClick:u,children:L.jsx(nt,{fontWeight:"lg",fontSize:"sm",textColor:"text.icon",children:"Enter"})}),sx:{flexBasis:"500px",display:{sm:"flex"},boxShadow:"sm"},onKeyDown:a,value:t,onChange:c=>e(c.target.value)})},xz=()=>{const[t]=T_(),e=zu(),r=Vt(am),n=Vt(om),i=Vt(LE),[s,a]=N.useState(void 0),u=t.get("query"),c=T=>{z2(T)?e({pathname:Ir.liveTv,search:sd.stringify({channel:T.stream_id})}):a(T)},h=N.useCallback(()=>u?r.filter(T=>{var S;return(S=T.name)==null?void 0:S.toLocaleLowerCase().includes(u.toLocaleLowerCase())}):[],[u,r]),p=N.useCallback(()=>u?n.filter(T=>{var S;return(S=T.name)==null?void 0:S.toLocaleLowerCase().includes(u.toLocaleLowerCase())}):[],[u,n]),g=N.useCallback(()=>u?i.filter(T=>{var S;return(S=T.name)==null?void 0:S.toLocaleLowerCase().includes(u.toLocaleLowerCase())}):[],[i,u]);return L.jsxs(L.Fragment,{children:[s&&L.jsx(Am,{onClose:()=>a(void 0),stream:s}),L.jsx("div",{style:{overflow:"auto",paddingBottom:50,height:"100%"},children:u&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{style:{height:315,marginBottom:5},children:[L.jsx(nt,{level:"title-lg",justifyContent:"center",display:"flex",children:"Movies"}),p().length>0?L.jsx(Uf,{items:p(),onStreamClick:c},u):L.jsx(nt,{children:"No results"})]}),L.jsxs("div",{style:{height:315,marginBottom:5},children:[L.jsx(nt,{level:"title-lg",justifyContent:"center",display:"flex",children:"Series"}),h().length>0?L.jsx(Uf,{items:h(),onStreamClick:c},u):L.jsx(nt,{children:"No results"})]}),L.jsxs("div",{style:{height:315},children:[L.jsx(nt,{level:"title-lg",justifyContent:"center",display:"flex",children:"Channels"}),g().length>0?L.jsx(Uf,{items:g(),onStreamClick:c},u):L.jsx(nt,{children:"No results"})]})]})})]})},bz=()=>{const t=Vt(C_),e=Vt(om),r=Vt(am),[n,i]=N.useState(void 0),s=N.useCallback(()=>{const a=[];for(const u of t)if(u.type==="vod"){const c=e.find(h=>h.stream_id===u.id);c&&a.push(c)}else{const c=r.find(h=>h.series_id===u.id);c&&a.push(c)}return a},[r,e,t]);return L.jsxs(L.Fragment,{children:[n&&L.jsx(Am,{onClose:()=>i(void 0),stream:n}),L.jsx(Or,{sx:{flexGrow:1,height:"100%",paddingBottom:5},children:L.jsx(Xn,{container:!0,spacing:2,sx:{justifyContent:"flex-start"},children:s().map((a,u)=>L.jsx(Xn,{xs:12,sm:6,md:4,lg:3,xl:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:300,children:L.jsx(kD,{onStreamClick:i,stream:a})},u))})})]})};var Zc={},T2;function Sz(){if(T2)return Zc;T2=1;var t=ti();Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V18c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-1.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05.02.01.03.03.04.04 1.14.83 1.93 1.94 1.93 3.41V18c0 .35-.07.69-.18 1H22c.55 0 1-.45 1-1v-1.5c0-2.33-4.67-3.5-7-3.5z"}),"GroupRounded");return Zc.default=n,Zc}var Tz=Sz();const Cz=mr(Tz);var ed={},C2;function Ez(){if(C2)return ed;C2=1;var t=ti();Object.defineProperty(ed,"__esModule",{value:!0}),ed.default=void 0;var e=t(ri()),r=On(),n=(0,e.default)((0,r.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");return ed.default=n,ed}var wz=Ez();const kz=mr(wz);function Dz(){const[t,e]=N.useState(!1),r=Vt(DF),n=qd();return N.useEffect(()=>{r==="needsLoad"&&n(Av())},[n,r]),L.jsxs(N3,{defaultMode:"dark",disableTransitionOnChange:!0,children:[L.jsx(pN,{}),r==="needsAuth"&&L.jsx(H7,{}),r==="needsLoad"&&L.jsx(dx,{}),r==="ready"&&L.jsxs(L.Fragment,{children:[t&&L.jsx(xf.SideDrawer,{onClose:()=>e(!1),children:L.jsx(wF,{})}),L.jsxs(xf.Root,{sx:{...t&&{height:"100vh",overflow:"hidden"}},children:[L.jsxs(xf.Header,{children:[L.jsxs(Or,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1.5},children:[L.jsx(Bi,{variant:"outlined",size:"sm",onClick:()=>e(!0),sx:{display:{md:"none"}},children:L.jsx(kz,{})}),L.jsx(kF,{})]}),L.jsx(_z,{}),L.jsxs(Or,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1.5},children:[L.jsx(m8,{}),L.jsx(Bi,{size:"sm",variant:"soft",sx:{display:{xs:"none",sm:"inline-flex"}},children:L.jsx(Cz,{})})]})]}),L.jsx(xf.Main,{children:L.jsxs(iF,{children:[L.jsx(Vs,{path:Ir.home,element:L.jsx(RF,{})}),L.jsx(Vs,{path:Ir.liveTv,element:L.jsx(z7,{})}),L.jsx(Vs,{path:Ir.movies,element:L.jsx(hz,{})}),L.jsx(Vs,{path:Ir.movieWatch,element:L.jsx(fz,{})}),L.jsx(Vs,{path:Ir.tvShows,element:L.jsx(pz,{})}),L.jsx(Vs,{path:Ir.seriesWatch,element:L.jsx(mz,{})}),L.jsx(Vs,{path:Ir.search,element:L.jsx(xz,{})}),L.jsx(Vs,{path:Ir.watchlist,element:L.jsx(bz,{})})]})})]})]})]})}yA.createRoot(document.getElementById("root")).render(L.jsx(zA,{store:yP,children:L.jsx(aF,{children:L.jsx(Dz,{})})}));
//# sourceMappingURL=index-CMaVvPNP.js.map
